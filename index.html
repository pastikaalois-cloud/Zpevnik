<!DOCTYPE html>
<html lang="cs">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#ff6b00">

  <link rel="icon" type="image/png" sizes="192x192" href="android-launchericon-192-192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="android-launchericon-512-512.png">
  <link rel="apple-touch-icon" href="android-launchericon-512-512.png">
  <link rel="manifest" href="manifest.json">

  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js');
    }
</script>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="apple-mobile-web-app-title" content="ZpÄ›vnÃ­k">
<meta name="theme-color" id="theme-color" content="#ff6b00">
<title>ZpÄ›vnÃ­k</title>
<style>
*{box-sizing:border-box;margin:0;padding:0;-webkit-tap-highlight-color:transparent}
:root{
  --bg:#fff;--bg2:#f7f7f7;--bg3:#eeeeee;--border:#e0e0e0;
  --accent:#ff6b00;--accent2:#e05a00;
  --text:#1a1a1a;--text2:#555;--text3:#999;
  --chord-bg:#fff0e6;--chord:#cc4400;
}
body.dark{
  --bg:#111111;--bg2:#1e1e1e;--bg3:#2a2a2a;--border:#333333;
  --accent:#ff6b00;--accent2:#e05a00;
  --text:#d0d0d0;--text2:#999999;--text3:#555555;
  --chord-bg:#2a1e10;--chord:#ff8533;
}
html,body{height:100%;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,sans-serif;overflow:hidden}

/* â”€â”€ SCREENS â”€â”€ */
.screen{display:none;flex-direction:column;height:100dvh}
.screen.active{display:flex}

/* HOME */
.home-top{display:flex;align-items:center;justify-content:space-between;padding:16px 16px 12px;border-bottom:1.5px solid var(--border);background:var(--bg)}
.logo{font-size:22px;font-weight:800;color:var(--accent)}
.hdr-r{display:flex;gap:8px}
.ibtn{background:var(--bg2);border:1.5px solid var(--border);color:var(--text);border-radius:12px;width:46px;height:46px;font-size:18px;cursor:pointer;display:flex;align-items:center;justify-content:center;flex-shrink:0}
.ibtn:active{background:var(--bg3)}
.add-btn{background:var(--accent);border:none;color:#fff;border-radius:12px;height:46px;padding:0 20px;font-size:15px;font-weight:700;font-family:inherit;cursor:pointer}
.add-btn:active{background:var(--accent2)}
.srch{display:flex;align-items:center;gap:10px;margin:12px 16px 6px;background:var(--bg2);border:1.5px solid var(--border);border-radius:14px;padding:0 14px;height:50px}
.srch:focus-within{border-color:var(--accent)}
.srch input{background:none;border:none;outline:none;color:var(--text);font-family:inherit;font-size:16px;width:100%}
.srch input::placeholder{color:var(--text3)}
.cnt{color:var(--text3);font-size:13px;font-weight:500;padding:2px 16px 8px}
.list{flex:1;overflow-y:auto;padding:0 16px 24px}
.card{display:flex;align-items:center;justify-content:space-between;border:1.5px solid var(--border);border-radius:16px;padding:16px;margin-bottom:10px;cursor:pointer;background:var(--bg)}
.card:active{background:var(--bg2);border-color:var(--accent)}
.card-t{font-size:17px;font-weight:700;margin-bottom:3px}
.card-a{font-size:13px;color:var(--text3)}
.card-r{display:flex;align-items:center;gap:8px}
.kbdg{background:var(--chord-bg);color:var(--chord);border-radius:8px;padding:4px 10px;font-size:13px;font-weight:700;font-family:monospace}
.delbtn{background:none;border:none;color:var(--text3);font-size:20px;width:38px;height:38px;display:flex;align-items:center;justify-content:center;cursor:pointer;border-radius:10px}
.delbtn:active{background:var(--bg3)}
.empty{color:var(--text3);text-align:center;padding:60px 20px;font-size:15px;line-height:1.8}
.card-snippet{font-size:12px;color:var(--text3);margin-top:5px;line-height:1.5;font-style:italic}
.card-snippet mark{background:color-mix(in srgb,var(--accent) 25%,transparent);color:var(--accent);border-radius:3px;padding:0 2px;font-style:normal;font-weight:700}

/* SONG VIEW */
.song-hdr{background:var(--bg);border-bottom:1.5px solid var(--border);flex-shrink:0}
.song-top{display:flex;align-items:center;gap:10px;padding:12px 16px 10px}
.back-btn{background:var(--bg2);border:1.5px solid var(--border);color:var(--text);border-radius:12px;height:48px;padding:0 16px;font-size:15px;font-weight:700;font-family:inherit;cursor:pointer;display:flex;align-items:center;gap:6px;flex-shrink:0}
.back-btn:active{background:var(--bg3)}
.song-info{flex:1;min-width:0}
.song-info h2{font-size:18px;font-weight:800;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.song-info .sub{color:var(--text3);font-size:13px}
.ctrls{display:flex;gap:8px;padding:0 16px 12px;overflow-x:auto}
.cbtn{background:var(--bg2);border:1.5px solid var(--border);color:var(--text2);border-radius:12px;height:44px;padding:0 18px;font-size:14px;font-weight:700;font-family:inherit;cursor:pointer;white-space:nowrap;flex-shrink:0}
.cbtn:active{background:var(--bg3)}
.cbtn.on{border-color:var(--accent);color:var(--accent)}
.song-body{flex:1;overflow-y:auto;padding:18px 18px 6px;-webkit-overflow-scrolling:touch}
.line{display:flex;flex-wrap:wrap;align-items:flex-end;margin-bottom:4px;min-height:1.8em}
.ch{display:inline-block;color:var(--chord);background:var(--chord-bg);font-family:monospace;font-size:.75em;font-weight:800;border-radius:5px;padding:1px 6px;margin-right:2px;align-self:flex-start;line-height:1.7;cursor:pointer}
.lyr{display:inline;line-height:2.6}
.blank{height:12px}
.scbar{display:flex;align-items:center;gap:8px;padding:10px 16px;border-top:1.5px solid var(--border);background:var(--bg);flex-shrink:0}
.scbtn{background:var(--bg2);border:1.5px solid var(--border);color:var(--text);border-radius:12px;height:44px;padding:0 16px;font-size:14px;font-weight:700;font-family:inherit;cursor:pointer;white-space:nowrap}
.scbtn:active{background:var(--bg3)}
.scbtn.on{background:var(--accent);border-color:var(--accent);color:#fff}
.spdbtn{background:var(--bg2);border:1.5px solid var(--border);color:var(--text);border-radius:12px;width:44px;height:44px;font-size:18px;font-weight:700;cursor:pointer;display:flex;align-items:center;justify-content:center;flex-shrink:0}
.spdbtn:active{background:var(--bg3)}
.spdlbl{color:var(--text3);font-size:13px;font-weight:700;min-width:26px;text-align:center}

/* ADD / EDIT FORM */
.form-hdr{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;border-bottom:1.5px solid var(--border)}
.form-hdr h2{font-size:20px;font-weight:800}
.cancbtn{background:var(--bg2);border:1.5px solid var(--border);color:var(--text2);border-radius:12px;height:46px;padding:0 18px;font-size:15px;font-weight:700;font-family:inherit;cursor:pointer}
.cancbtn:active{background:var(--bg3)}
.fbody{flex:1;overflow-y:auto;padding:16px}
.hint{background:var(--chord-bg);border:1px solid var(--border);border-radius:12px;padding:12px 14px;color:var(--text2);font-size:13px;line-height:1.7;margin-bottom:16px}
.hint code{background:var(--bg);color:var(--chord);font-family:monospace;padding:1px 5px;border-radius:4px}
.fld{margin-bottom:14px}
.fld label{display:block;color:var(--text3);font-size:12px;font-weight:700;margin-bottom:6px;text-transform:uppercase;letter-spacing:.06em}
.inp{width:100%;background:var(--bg2);border:1.5px solid var(--border);border-radius:12px;padding:14px 16px;color:var(--text);font-family:inherit;font-size:16px;outline:none;-webkit-appearance:none}
.inp:focus{border-color:var(--accent)}
.inp::placeholder{color:var(--text3)}
textarea.inp{font-family:monospace;font-size:14px;line-height:1.8;resize:none;min-height:240px}
.ffoot{padding:12px 16px;border-top:1.5px solid var(--border)}
.savebtn{width:100%;background:var(--accent);color:#fff;border:none;border-radius:14px;height:54px;font-size:16px;font-weight:800;font-family:inherit;cursor:pointer}
.savebtn:active{background:var(--accent2)}
::-webkit-scrollbar{width:3px}
::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px}

/* SPLASH */
.splash-bg {
  flex: 1;
  background: linear-gradient(160deg, #ff6b00 0%, #e05000 60%, #c03800 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  position: relative;
}
.splash-bg::before {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(ellipse at 30% 20%, rgba(255,255,255,0.12) 0%, transparent 60%);
}
.splash-inner {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0;
  position: relative;
  z-index: 1;
}
.splash-guitar {
  transform-origin: 60px 30px;
  animation: swing 2.8s ease-in-out infinite;
  filter: drop-shadow(0 8px 24px rgba(0,0,0,0.35));
  margin-bottom: 24px;
}
@keyframes swing {
  0%   { transform: rotate(-8deg); }
  50%  { transform: rotate(8deg); }
  100% { transform: rotate(-8deg); }
}
.splash-title {
  font-size: 42px;
  font-weight: 900;
  color: #fff;
  letter-spacing: -1px;
  text-shadow: 0 2px 12px rgba(0,0,0,0.2);
  margin-bottom: 6px;
}
.splash-sub {
  font-size: 16px;
  color: rgba(255,255,255,0.75);
  font-weight: 500;
  margin-bottom: 36px;
}
.splash-btn {
  background: rgba(255,255,255,0.18);
  border: 2px solid rgba(255,255,255,0.7);
  color: #fff;
  border-radius: 16px;
  height: 54px;
  padding: 0 36px;
  font-size: 18px;
  font-weight: 800;
  font-family: inherit;
  cursor: pointer;
  backdrop-filter: blur(4px);
}
.splash-btn:active { background: rgba(255,255,255,0.28); }
</style>
</head>
<body>

<!-- SPLASH -->
<div class="screen active" id="screen-splash">
  <div class="splash-bg">
    <div class="splash-inner">
      <div class="splash-guitar" id="splash-guitar">
        <svg viewBox="0 0 120 260" xmlns="http://www.w3.org/2000/svg" width="120" height="260">
          <!-- Strap -->
          <path d="M58 8 Q20 40 18 130 Q16 200 52 240" stroke="rgba(255,255,255,0.35)" stroke-width="5" fill="none" stroke-linecap="round"/>
          <!-- Neck -->
          <rect x="52" y="8" width="16" height="110" rx="7" fill="#c8860a"/>
          <!-- Frets -->
          <line x1="52" y1="35" x2="68" y2="35" stroke="rgba(255,255,255,0.5)" stroke-width="1.5"/>
          <line x1="52" y1="52" x2="68" y2="52" stroke="rgba(255,255,255,0.5)" stroke-width="1.5"/>
          <line x1="52" y1="69" x2="68" y2="69" stroke="rgba(255,255,255,0.5)" stroke-width="1.5"/>
          <line x1="52" y1="86" x2="68" y2="86" stroke="rgba(255,255,255,0.5)" stroke-width="1.5"/>
          <line x1="52" y1="103" x2="68" y2="103" stroke="rgba(255,255,255,0.5)" stroke-width="1.5"/>
          <!-- Nut -->
          <rect x="50" y="110" width="20" height="5" rx="2" fill="rgba(255,255,255,0.7)"/>
          <!-- Body upper bout -->
          <ellipse cx="60" cy="148" rx="36" ry="28" fill="#d4880c"/>
          <!-- Body waist -->
          <rect x="36" y="160" width="48" height="20" rx="4" fill="#d4880c"/>
          <!-- Body lower bout -->
          <ellipse cx="60" cy="200" rx="42" ry="36" fill="#d4880c"/>
          <!-- Body shading -->
          <ellipse cx="60" cy="200" rx="42" ry="36" fill="rgba(0,0,0,0.08)"/>
          <ellipse cx="50" cy="192" rx="22" ry="20" fill="rgba(255,255,255,0.06)"/>
          <!-- Sound hole -->
          <circle cx="60" cy="175" r="14" fill="rgba(0,0,0,0.45)"/>
          <circle cx="60" cy="175" r="14" fill="none" stroke="rgba(255,255,255,0.25)" stroke-width="2"/>
          <circle cx="60" cy="175" r="10" fill="none" stroke="rgba(255,255,255,0.12)" stroke-width="1"/>
          <!-- Strings -->
          <line x1="54" y1="14" x2="53" y2="185" stroke="rgba(255,255,255,0.55)" stroke-width="0.8"/>
          <line x1="57" y1="14" x2="56" y2="185" stroke="rgba(255,255,255,0.55)" stroke-width="0.8"/>
          <line x1="60" y1="14" x2="60" y2="185" stroke="rgba(255,255,255,0.55)" stroke-width="0.9"/>
          <line x1="63" y1="14" x2="64" y2="185" stroke="rgba(255,255,255,0.55)" stroke-width="0.8"/>
          <line x1="66" y1="14" x2="67" y2="185" stroke="rgba(255,255,255,0.55)" stroke-width="0.8"/>
          <line x1="69" y1="14" x2="70" y2="185" stroke="rgba(255,255,255,0.55)" stroke-width="1.1"/>
          <!-- Bridge -->
          <rect x="44" y="218" width="32" height="7" rx="3" fill="#a06208"/>
          <!-- Tuning pegs -->
          <circle cx="48" cy="14" r="4" fill="#a06208"/>
          <circle cx="53" cy="10" r="4" fill="#a06208"/>
          <circle cx="58" cy="8"  r="4" fill="#a06208"/>
          <circle cx="72" cy="14" r="4" fill="#a06208"/>
          <circle cx="67" cy="10" r="4" fill="#a06208"/>
          <circle cx="62" cy="8"  r="4" fill="#a06208"/>
          <!-- Headstock shape -->
          <rect x="46" y="6" width="28" height="18" rx="6" fill="#c8860a"/>
          <rect x="46" y="6" width="28" height="18" rx="6" fill="rgba(0,0,0,0.12)"/>
          <!-- Tuning pegs on headstock -->
          <circle cx="50" cy="10" r="3" fill="#8a5200"/>
          <circle cx="50" cy="20" r="3" fill="#8a5200"/>
          <circle cx="60" cy="8"  r="3" fill="#8a5200"/>
          <circle cx="60" cy="22" r="3" fill="#8a5200"/>
          <circle cx="70" cy="10" r="3" fill="#8a5200"/>
          <circle cx="70" cy="20" r="3" fill="#8a5200"/>
        </svg>
      </div>
      <div class="splash-title">ZpÄ›vnÃ­k</div>
      <div class="splash-sub">OtevÅ™i a zahraj</div>
      <button class="splash-btn" onclick="enterApp()">Vstoupit â†’</button>
    </div>
  </div>
</div>

<!-- HOME -->
<div class="screen" id="screen-home">
  <div class="home-top">
    <div class="logo">â™ª ZpÄ›vnÃ­k</div>
    <div class="hdr-r">
      <button class="ibtn" id="theme-btn" onclick="toggleTheme()">ğŸŒ™</button>
      <button class="add-btn" onclick="showAdd()">+ PÅ™idat</button>
    </div>
  </div>
  <div class="srch">
    <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
    <input id="srch-inp" type="search" placeholder="Hledat nÃ¡zev, interpret, textâ€¦" oninput="renderList()" autocomplete="off">
  </div>
  <div class="cnt" id="cnt"></div>
  <div class="list" id="list"></div>
  <button class="nl-fab" onclick="openNL()" title="NÃ¡pojovÃ½ lÃ­stek">ğŸº</button>
</div>

<!-- SONG -->
<div class="screen" id="screen-song">
  <div class="song-hdr">
    <div class="song-top">
      <button class="back-btn" onclick="showHome()">
        <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><path d="M15 18l-6-6 6-6"/></svg>
        ZpÄ›t
      </button>
      <div class="song-info">
        <h2 id="v-title"></h2>
        <div class="sub" id="v-artist"></div>
      </div>
    </div>
    <div class="ctrls">
      <button class="cbtn" onclick="changeFontSize(-2)">Aâˆ’</button>
      <button class="cbtn" onclick="changeFontSize(2)">A+</button>
      <button class="cbtn on" id="chord-btn" onclick="toggleChords()">Akordy âœ“</button>
      <button class="cbtn" onclick="showEdit()">âœï¸ Upravit</button>
      <button class="cbtn" onclick="transposeAll(-1)">â™­ âˆ’1</button>
      <button class="cbtn" onclick="transposeAll(1)">â™¯ +1</button>
    </div>
  </div>
  <div class="song-body" id="song-body"></div>
  <div class="scbar">
    <button class="scbtn" id="sc-toggle" onclick="toggleScroll()">â–¶ Scroll</button>
    <button class="spdbtn" onclick="changeSpeed(-1)">âˆ’</button>
    <span class="spdlbl" id="spdlbl">Ã—1</span>
    <button class="spdbtn" onclick="changeSpeed(1)">+</button>
  </div>
</div>

<!-- ADD -->
<div class="screen" id="screen-add">
  <div class="form-hdr">
    <h2>PÅ™idat pÃ­seÅˆ</h2>
    <button class="cancbtn" onclick="showHome()">ZruÅ¡it</button>
  </div>
  <div class="fbody">
    <div class="hint">Akordy piÅ¡ pÅ™Ã­mo v textu do hranatÃ½ch zÃ¡vorek:<br><code>[Am]Text pÃ­snÄ› [F]pokraÄovÃ¡nÃ­</code></div>
    <div class="fld"><label>NÃ¡zev *</label><input class="inp" id="f-title" type="text" placeholder="NÃ¡zev pÃ­snÄ›"></div>
    <div class="fld"><label>Interpret</label><input class="inp" id="f-artist" type="text" placeholder="JmÃ©no interpreta"></div>
    <div class="fld"><label>TÃ³nina</label><input class="inp" id="f-key" type="text" placeholder="G, Am, Câ€¦" style="max-width:120px"></div>
    <div class="fld"><label>Text s akordy *</label><textarea class="inp" id="f-content" placeholder="[G]KdyÅ¾ se s vinem probouzÃ­ denâ€¦"></textarea></div>
  </div>
  <div class="ffoot"><button class="savebtn" onclick="saveSong()">UloÅ¾it pÃ­seÅˆ</button></div>
</div>

<!-- EDIT SONG (same structure as ADD) -->
<div class="screen" id="screen-edit">
  <div class="form-hdr">
    <h2>Upravit pÃ­seÅˆ</h2>
    <button class="cancbtn" onclick="cancelEdit()">ZruÅ¡it</button>
  </div>
  <div class="fbody">
    <div class="hint">Akordy piÅ¡ pÅ™Ã­mo v textu do hranatÃ½ch zÃ¡vorek:<br><code>[Am]Text pÃ­snÄ› [F]pokraÄovÃ¡nÃ­</code><br><br>
    <strong>PÅ™esun akordu:</strong> klikni na akord v nÃ¡hledu â†’ pak â† â†’ posunout</div>
    <div class="fld"><label>NÃ¡zev *</label><input class="inp" id="e-title" type="text"></div>
    <div class="fld"><label>Interpret</label><input class="inp" id="e-artist" type="text"></div>
    <div class="fld"><label>TÃ³nina</label><input class="inp" id="e-key" type="text" style="max-width:120px"></div>
    <div class="fld"><label>Text s akordy *</label><textarea class="inp" id="e-content"></textarea></div>
  </div>
  <div class="ffoot"><button class="savebtn" onclick="saveEdit()">UloÅ¾it zmÄ›ny</button></div>
</div>

<!-- NAPOJOVY LISTEK -->
<div class="nl-overlay" id="nl-overlay" onclick="closeNL()"></div>
<div class="nl-panel" id="nl-panel">
  <div class="nl-hdr">
    <span class="nl-title">ğŸº NÃ¡pojovÃ½ lÃ­stek</span>
    <div style="display:flex;gap:8px">
      <button class="nl-addbtn" onclick="showAddDrink()">+ NÃ¡poj</button>
      <button class="nl-closebtn" onclick="closeNL()">âœ•</button>
    </div>
  </div>
  <div class="nl-body" id="nl-body"></div>
  <div class="nl-footer">
    <button class="nl-resetbtn" onclick="resetAll()">Vynulovat vÅ¡e</button>
  </div>
</div>

<!-- ADD DRINK MODAL -->
<div class="modal-overlay" id="drink-overlay" onclick="closeDrinkModal()"></div>
<div class="modal" id="drink-modal">
  <div class="modal-hdr"><strong>PÅ™idat nÃ¡poj</strong></div>
  <div class="quick-grid">
    <button class="qbtn" onclick="quickDrink('Pivo velkÃ© 12Â°')">ğŸº VelkÃ© 12Â°</button>
    <button class="qbtn" onclick="quickDrink('Pivo malÃ© 12Â°')">ğŸº MalÃ© 12Â°</button>
    <button class="qbtn" onclick="quickDrink('Pivo velkÃ© 11Â°')">ğŸº VelkÃ© 11Â°</button>
    <button class="qbtn" onclick="quickDrink('Pivo malÃ© 11Â°')">ğŸº MalÃ© 11Â°</button>
    <button class="qbtn" onclick="quickDrink('Pivo velkÃ© 10Â°')">ğŸº VelkÃ© 10Â°</button>
    <button class="qbtn" onclick="quickDrink('Pivo malÃ© 10Â°')">ğŸº MalÃ© 10Â°</button>
    <button class="qbtn" onclick="quickDrink('VÃ­no bÃ­lÃ©')">ğŸ¥‚ VÃ­no bÃ­lÃ©</button>
    <button class="qbtn" onclick="quickDrink('VÃ­no ÄervenÃ©')">ğŸ· VÃ­no ÄervenÃ©</button>
    <button class="qbtn" onclick="quickDrink('Slivovice malÃ¡')">ğŸ¥ƒ Slivka malÃ¡</button>
    <button class="qbtn" onclick="quickDrink('Slivovice velkÃ¡')">ğŸ¥ƒ Slivka velkÃ¡</button>
  </div>
  <div class="modal-divider">nebo vlastnÃ­</div>
  <input class="inp" id="drink-inp" type="text" placeholder="NÃ¡zev nÃ¡pojeâ€¦" style="margin-bottom:12px">
  <div style="display:flex;gap:8px">
    <button class="savebtn" style="flex:1" onclick="addDrink()">PÅ™idat</button>
    <button class="cancbtn" onclick="closeDrinkModal()">ZruÅ¡it</button>
  </div>
</div>

<style>
/* NEW STYLES for edit, napojovy listek, modal */

/* Edit screen - reuse form styles, just need edit-specific */
#screen-edit .fbody { padding-bottom: 0; }

/* NAPOJOVY LISTEK */
.nl-overlay {
  display: none;
  position: fixed; inset: 0;
  background: rgba(0,0,0,0.4);
  z-index: 100;
}
.nl-overlay.open { display: block; }
.nl-panel {
  position: fixed;
  right: -340px;
  top: 0; bottom: 0;
  width: 320px;
  max-width: 90vw;
  background: var(--bg);
  border-left: 1.5px solid var(--border);
  z-index: 101;
  display: flex;
  flex-direction: column;
  transition: right 0.28s cubic-bezier(.4,0,.2,1);
  box-shadow: -4px 0 24px rgba(0,0,0,0.15);
}
.nl-panel.open { right: 0; }
.nl-hdr {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px;
  border-bottom: 1.5px solid var(--border);
  flex-shrink: 0;
}
.nl-title { font-size: 17px; font-weight: 800; }
.nl-addbtn {
  background: var(--accent); border: none; color: #fff;
  border-radius: 10px; height: 38px; padding: 0 14px;
  font-size: 14px; font-weight: 700; font-family: inherit; cursor: pointer;
}
.nl-addbtn:active { background: var(--accent2); }
.nl-closebtn {
  background: var(--bg2); border: 1.5px solid var(--border);
  color: var(--text2); border-radius: 10px;
  width: 38px; height: 38px; font-size: 16px;
  cursor: pointer; display: flex; align-items: center; justify-content: center;
}
.nl-closebtn:active { background: var(--bg3); }
.nl-body { flex: 1; overflow-y: auto; padding: 12px; }
.nl-item {
  display: flex;
  align-items: center;
  background: var(--bg2);
  border: 1.5px solid var(--border);
  border-radius: 14px;
  padding: 12px 14px;
  margin-bottom: 10px;
}
.nl-item-name { flex: 1; font-size: 15px; font-weight: 600; }
.nl-count {
  font-size: 22px; font-weight: 800;
  color: var(--accent);
  min-width: 32px; text-align: center;
  margin: 0 8px;
}
.nl-tally {
  font-size: 13px; color: var(--text3);
  font-family: monospace; letter-spacing: 2px;
  min-width: 60px;
}
.nl-btn {
  background: var(--bg); border: 1.5px solid var(--border);
  color: var(--text); border-radius: 10px;
  width: 40px; height: 40px; font-size: 20px; font-weight: 700;
  cursor: pointer; display: flex; align-items: center; justify-content: center;
  flex-shrink: 0;
}
.nl-btn:active { background: var(--bg3); }
.nl-btn.plus { border-color: var(--accent); color: var(--accent); }
.nl-delbtn {
  background: none; border: none; color: var(--text3);
  font-size: 16px; cursor: pointer; padding: 4px 6px;
  border-radius: 8px; margin-left: 4px;
}
.nl-delbtn:active { background: var(--bg3); }
.nl-footer {
  padding: 12px 16px;
  border-top: 1.5px solid var(--border);
  flex-shrink: 0;
}
.nl-resetbtn {
  width: 100%; background: var(--bg2); border: 1.5px solid var(--border);
  color: var(--text2); border-radius: 12px; height: 44px;
  font-size: 14px; font-weight: 700; font-family: inherit; cursor: pointer;
}
.nl-resetbtn:active { background: var(--bg3); }
.nl-empty { color: var(--text3); text-align: center; padding: 40px 20px; font-size: 14px; }
.nl-time { font-size: 11px; color: var(--accent); font-weight: 600; margin-top: 1px; margin-bottom: 2px; }

/* Quick drink select */
.quick-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 7px;
  margin-bottom: 14px;
}
.qbtn {
  background: var(--bg2);
  border: 1.5px solid var(--border);
  color: var(--text);
  border-radius: 11px;
  padding: 10px 8px;
  font-size: 13px;
  font-weight: 600;
  font-family: inherit;
  cursor: pointer;
  text-align: left;
  line-height: 1.2;
}
.qbtn:active { background: var(--bg3); border-color: var(--accent); }
.modal-divider {
  text-align: center;
  color: var(--text3);
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: .06em;
  margin-bottom: 10px;
  position: relative;
}
.modal-divider::before, .modal-divider::after {
  content: '';
  position: absolute;
  top: 50%;
  width: 30%;
  height: 1px;
  background: var(--border);
}
.modal-divider::before { left: 0; }
.modal-divider::after { right: 0; }

/* MODAL */
.modal-overlay {
  display: none; position: fixed; inset: 0;
  background: rgba(0,0,0,0.5); z-index: 200;
}
.modal-overlay.open { display: block; }
.modal {
  display: none; position: fixed;
  left: 50%; top: 50%; transform: translate(-50%,-50%);
  background: var(--bg); border: 1.5px solid var(--border);
  border-radius: 20px; padding: 20px;
  width: min(360px, 92vw);
  max-height: 85dvh;
  overflow-y: auto;
  z-index: 201;
  box-shadow: 0 8px 40px rgba(0,0,0,0.2);
}
.modal.open { display: block; }
.modal-hdr { margin-bottom: 14px; font-size: 16px; }

/* CHORD EDIT */
.ch.selected { background: var(--accent); color: #fff; }
.ch-wrap {
  display: inline-flex;
  flex-direction: column;
  align-items: center;
  vertical-align: bottom;
  position: relative;
}
.ch-move-bar {
  display: none;
  position: absolute;
  bottom: calc(100% + 4px);
  left: 50%;
  transform: translateX(-50%);
  background: var(--bg);
  border: 1.5px solid var(--accent);
  border-radius: 10px;
  box-shadow: 0 4px 16px rgba(0,0,0,0.18);
  z-index: 20;
  flex-direction: row;
  align-items: center;
  overflow: hidden;
}
.ch-wrap.selected .ch-move-bar { display: flex; }
.ch-mv-btn {
  background: none; border: none; color: var(--accent);
  font-size: 16px; font-weight: 800;
  width: 36px; height: 34px;
  cursor: pointer; display: flex; align-items: center; justify-content: center;
  font-family: inherit; flex-shrink: 0;
}
.ch-mv-btn:active { background: var(--chord-bg); }

/* NL floating button */
.nl-fab {
  position: fixed; bottom: 24px; right: 20px;
  background: var(--accent); color: #fff;
  border: none; border-radius: 50%;
  width: 56px; height: 56px; font-size: 22px;
  cursor: pointer; box-shadow: 0 4px 16px rgba(0,0,0,0.2);
  display: flex; align-items: center; justify-content: center;
  z-index: 50;
}
.nl-fab:active { background: var(--accent2); }
</style>
<!-- DEFAULTS: only used on first install to seed localStorage. After that ignored. -->
<script id="defaults-data">
const DEFAULTS = [
  {id:1,title:"Nad stÃ¡dem konÃ­",artist:"",key:"D",content:"[D]Nad stÃ¡dem konÃ­ Ã­-Ã­-Ã­, [A]podkovy zvonÃ­, [Emi]zvonÃ­ [G]\nÄŒernÃ½ vÅ¯z vleÄou a slzy teÄou a jÃ¡ volÃ¡m\n[D]Tak neplaÄ mÅ¯-Å¯j kamarÃ¡de, [A]nÃ¡hoda je blbec, [Emi]kdyÅ¾ krade [G]\nJe tuhÃ½ jak veka a Å™eka ho splavÃ­, mÃ¡me ho rÃ¡di\n\n[C]No tak co, [G]tak co, [A]tak co\n\n[D]VÅ¾dycky si pÅ™Ã¡l, aÅ¾ bude popel, [A]i s kytarou [Emi] [G]\nVodou aÅ¥ plavou, jen Å¾Ã¡dnÃ½ hotel, s kÅ™Ã­Å¾kem nad hlavou\n[D]Az najdes misto, kde je ten pramen a kamen co praska [A] [Emi] [G]\nBudeÅ¡ mÃ­t jisto, patÅ™Ã­ sem popel a kaÅ¾dÃ¡ lÃ¡ska\n\nRef: No tak co, tak co, tak co.\n\n[D]Vysyp ten popel kamarÃ¡de, [A]do bÃ­lÃ© vody, vody, [G] [D] [A] [G]\n[D]vyhasnul kotel a nÃ¡hoda je, [A]Å¡tÄ›stÃ­ od podkovy. [Emi] [G]\n\nVysyp ten... 3x"},
  {id:2,title:"RÃ¡na v trÃ¡vÄ›",artist:"",key:"Am",content:"capo 3\n\n[Ami]KaÅ¾dÃ½ rÃ¡no boty zouval, [G]orosil si nohy v trÃ¡vÄ›,\nÅ¾e se lidi majÃ­ rÃ¡di doufal a procitli prÃ¡vÄ›.\n[Ami]KaÅ¾dÃ½ rÃ¡no dlouze zÃ­val, [G]utÅ™el Äelo do rukÃ¡vu,\na pÅ™i chÅ¯zi tÄ›lem sem tam kÃ½val, pÅ™ed sebou sta sÃ¡hÅ¯.\n\n[C]Poznal MoravÄ›nku krÃ¡snou [G]a vÃ­neÄko ze zlata,\nv ÄŒechÃ¡ch slÃ¡vu muzikantÅ¯, umazanou od blÃ¡ta.\n\nRef: KaÅ¾dÃ½ rÃ¡no boty zouval...\n\n[C]TouÅ¾il najÃ­t studÃ¡neÄku, [G]a do nÃ­ se podÃ­vat,\nby mu Å™ekla: proÄ holeÄku, musÃ­Å¡ svÄ›tem chodÃ­vat.\n\n[C]StudÃ¡neÄka promluvila: [G]to ses' musel nachodit,\nabych jÃ¡ ti pravdu Å™ekla, mÄ›l ses' jindy narodit.\n\n[Ami]pÅ™ed sebou sta sÃ¡hÅ¯, [Emi]pÅ™ed sebou sta sÃ¡hÅ¯."},
  {id:3,title:"StÃ¡nky",artist:"",key:"D",content:"[D]U stÃ¡nkÅ¯ na levnou krÃ¡su, [G]\npostÃ¡vaj a smÄ›jou se Äasu [D] [Gmi]\ns cigaretou a s holkou, co nemÃ¡ kam jÃ­t. [D] [A7] [D]\n\n[G]SkleniÄek pÃ¡r a pÃ¡r tahÅ¯ z trÃ¡vy, [D] [Gmi]\nuteÄe den jak veÄernÃ­ zprÃ¡vy.\nNeumÄ›j Å¾Ã­t a bouÅ™ej se a neposlouchaj.\n\nRef. [G]Jen zahlÃ­dli svÄ›t, maj na duÅ¡i vrasky. [A7]\n[D]Tak mÃ¡lo je, [Gmi]mÃ¡lo je lÃ¡sky.\n[D]ZtracenÃ¡ vÃ­ra hrozny z vinic neposbÃ­rÃ¡. [A7] [D]\n\nRef. 2x"},
  {id:4,title:"NejlÃ­p jim bylo",artist:"",key:"C",content:"[C]Nejlip jim bylo [Fmaj7] [C]\nkdyÅ¾ nevÄ›dÄ›li co dÄ›laj' [Fmaj7] [C] [Fmaj7]\njenom se potkali [G]\na neznÃ©lo to Å¡patnÄ›. [F] [C]\n\n[C]Tak se snaÅ¾ili [Fmaj7] [C]\na opravdu si uÅ¾Ã­vali [Fmaj7] [C] [Fmaj7]\njenom existovali [G]\na Äas bÄ›Å¾el skvÄ›le. [F] [C]\n\nRef. [F]NechÃ¡m si projÃ­t hlavou, [C]\n[G]kam vÅ¡echny vÄ›ci plavou. [Ami]\n[F]jestli je vÅ¡echno jen dech, [C]\n[G]tak jako kdysi v noci [Ami] [C] [Fmaj7]\nspolupotmÄ› na schodech.\n\nRef 2x"},
  {id:5,title:"Do nebe",artist:"",key:"G",content:"[G]HalÃ³ pane, vy s vÃ½hledem na celej svÄ›t, [D] [Emi] [C]\nco se stane, kdyÅ¾ neumim dÃ¡t odpovÄ›Ä?\nSnad se nezlobÃ­te, snad mi to odpustÃ­te, vÅ¾dyÅ¥ vÃ­teâ€¦ Å¾e chci\n\nRef. [G]Do nebe, do nebe, do nebe, [D]\n[Emi]do nebe, do nebe, do nebe, [C]\n[G]do nebe, do nebe, do nebe, [D]\n[Emi]do nebezpeÄna [C]\n\n[G]HalÃ³ pane, nad stÅ™echami panelÃ¡kÅ¯, [D] [Emi] [C]\naÅ¾ dÃ©Å¡t ustane, aÅ¾ uschnou kÅ™Ã­dla ptÃ¡kÅ¯.\nBudu relativnÄ› Å¡Å¥astnÃ½, budu Å¾Ã¡danÃ½ a krÃ¡snÃ½,\nbudu obdivovÃ¡n v oÄÃ­ch pÅ¯vabnÃ½ch dam, ale sÃ¡mâ€¦ pudu\n\nRefrÃ©n 2x\n\n[C]Jsi moja vÄ›ÄnÃ¡, pÅ¯vabnÃ¡ sleÄna! [G]"},
  {id:6,title:"KaÅ¾dej uÅ¾ to vÃ­",artist:"",key:"Em",content:"[Emi]KaÅ¾dej uÅ¾ to vÃ­, [C]uÅ¾ je to napsanÃ½ na [D]zdÃ­\nÅ½e ty a jÃ¡ jsme dva, stejnÃ½ blÃ¡znÃ­,\n\n[Emi]TeÄ mÃ¡me svÃ¡tej klid a [C]svÄ›t je jako by krÃ¡snej, [D]\nMuÅ¾em klidnÄ› Å¾it, jÃ¡ to vÃ­m,\n\n[G]Nanananannnananannannananna 2x [D] [Emi] [C] [G] [D] [Emi]\n\n[Emi]Za plotem Å¾iju dÃ¡l, [C]na zahradÄ› si snÃ­dÃ¡m [D]\nA jak tak vzpomÃ­nÃ¡m, ÄÃ­m dÃ¡l vÃ­c si zpÃ­vÃ¡m\n\n[G]Na tuhle Å¾enu nezapomenu, to ti pÅ™isahÃ¡m. [D] [Emi] [C]\n[G]Co na tom sejde, stejnÄ› to nejde â€“ dÃ¡vno tÄ› pod kÅ¯Å¾Ã­ mÃ¡m [D] [Emi] [C]\n\n[G]Na tuhle Å¾enu, nezapomenu, v mi hlavÄ› mÃ­sto mÃ¡, [D] [Emi] [C]\n[G]Co na tom sejde, kdyÅ¾ se tam vejde, jÃ¡ jÃ­ to nevyÄÃ­tÃ¡m. [D] [Emi] [C]"},
  {id:7,title:"HruÅ¡ka",artist:"",key:"D",content:"[D]StojÃ­ hruÅ¡ka v Å¡irÃ©m poli vrÅ¡ek se jÃ­ zelenÃ¡ [A] [D] [G] [A]\npod nÃ­ se pase kÅ¯Åˆ vranÃ½ pase ho mÃ¡ milÃ¡\n\n[A]ProÄ mÃ¡ milÃ¡ dnes pasete z veÄera do rÃ¡na [D] [A] [D] [G] [A]\nkam mÅ¯j milÃ½ pojedete jÃ¡ pojedu s vÃ¡ma\n\n[A]Ã“ jÃ¡ pojedu daleko pÅ™es vody hlubokÃ© [D] [A] [D] [G] [A]\nkÃ©Å¾ bych byl nikdy nepoznal panny ÄernookÃ©"},
  {id:8,title:"TisÃ­c mil",artist:"",key:"G",content:"[G]V nohÃ¡ch mÃ¡m uÅ¾ tisÃ­c mil [Em]\n[Am]stopy dÃ©Å¡t a vÃ­tr smyl [C]\n[Am]a mÅ¯j kÅ¯Åˆ i jÃ¡ jsme cestou znavenÃ­. [D7] [G]\n\n[G]TÄ›ch tisÃ­c mil tÄ›ch tisÃ­c mil [Em]\n[Am]mÃ¡ jeden smÄ›r a jeden cÃ­l [C]\n[Am]bÃ­lej dÅ¯m to malÃ½ bÃ­lÃ½ stavenÃ­. [D7] [G]\n\n[G]Je tam strÃ¡Åˆ a pÅ™Ã­krej srÃ¡z [Em]\nmodrÃ¡ tÅ¯Åˆ a bobÅ™Ã­ hrÃ¡z [Am] [C]\n[Am]tÃ¡ta s mÃ¡mou kteÅ™Ã­ vÄ›Å™ej dÄ›tskejm snÅ¯m. [D7] [G]\n\n[G]TÄ›ch tisÃ­c mil tÄ›ch tisÃ­c mil [Em]\n[Am]mÃ¡ jeden smÄ›r a jeden cÃ­l, [C]\n[Am]jeden cÃ­l ten starej znÃ¡mej bÃ­lej dÅ¯m. [D7] [G]\n\n[G]Kousek dÃ¡l a jÃ¡ to vÃ­m [Em]\nuvidÃ­m uÅ¾ stoupat dÃ½m [Am] [C]\n[Am]Å¡ikmej Å¡tÃ­t stÅ™echy ÄnÃ­t k nebesÅ¯m. [D7] [G]\n\n[G]TÄ›ch tisÃ­c mil tÄ›ch tisÃ­c mil [Em]\n[Am]mÃ¡ jeden smÄ›r a jeden cÃ­l [C]\n[Am]bÃ­lej dÅ¯m to malÃ½ bÃ­lÃ½ stavenÃ­. [D7] [G]"},
  {id:9,title:"RÅ¯Å¾e z papÃ­ru",artist:"",key:"Dm",content:"3. cappo\n\n[Dmi]Do tvÃ½ch oÄÃ­ jsem se zblÃ¡znil a teÄ nemÃ¡m, nemÃ¡m klid, [E7] [Gmi]\n[Ami]hlava tÅ™eÅ¡tÃ­, asi tÄ› mÃ¡m rÃ¡d,\nstÃ¡le nÄ›kdo Å™Ã­kÃ¡: vzbuÄ se, vÄ›ÄnÄ› trhÃ¡ nit,\n[Ami]studenou sprchu mÄ›l bych si dÃ¡t. [Dmi]\n\n[D7]Na pouti jsem vystÅ™elil rÅ¯Å¾i z papÃ­ru, [Gmi]\n[C7]dala sis ji do vlasÅ¯, kde hladÃ­vÃ¡m tÄ› jÃ¡, [F] [A7]\n[Dmi]v tomhle smutnÃ½m svÄ›tÄ› jsi mÃ¡ nadÄ›j na vÃ­ru,\n[Ami]Å¾e nebe modrÃ½ jeÅ¡tÄ› smysl mÃ¡. [Dmi]\n\n[Dmi]PÅ™ines' jsem ti kytku, no co koukÃ¡Å¡, to se mÃ¡, [E7] [Gmi]\n[Ami]tak jsem asi jinej, teÄ to vÃ­Å¡,\nmoÅ¾nÃ¡ trochu zvlÃ¡Å¡tnÃ­ v dneÅ¡nÃ­ dobÄ›, no tak aÅ¥,\n[Ami]tÅ™eba z nÃ­ mou lÃ¡sku vytuÅ¡Ã­Å¡. [Dmi]\n\nMezihra: Dmi E7 Gmi Ami Dmi E7 Gmi Ami Dmi\n\nRefrÃ©n"},
  {id:10,title:"Jdem zpÃ¡tky do lesÅ¯",artist:"",key:"G",content:"[Am7]SedÃ­m na kolejÃ­ch, kterÃ© nikam nevedou, [D] [G] [C]\nkoukÃ¡m na kopretinu, jak miluje se s lebedou,\nmraky vzaly slunce zase pod svou ochranu,\njen ty nejdeÅ¡, holka zlatÃ¡, kdypak jÃ¡ tÄ› dostanu?\n\n[G]Z rÃ¡je, my vyhnanÃ­ z rÃ¡je, [Emi]\n[Ami7]kde nenÃ­ uÅ¾ mÃ­sta, [C]prej nÄ›co se chystÃ¡, [G] [D7]\n[G]z rÃ¡je nablÃ½skanÃ½ch plesÅ¯, [Emi]\n[Ami7]jdem zpÃ¡tky [C]do lesÅ¯ [G]\nza nÄ›jakÃ½ Äas.\n\n[C]Vlak nÃ¡m vÄera ujel ze stanice do nebe, [D] [G]\nmÃ¡lo jsi se snaÅ¾il, mÃ¡lo Å¡el jsi do sebe,\nÅ¡el jsi vlastnÃ­ cestou, a to se zrovna nenosÃ­,\ni pes, kterej chce pÅ™Ã­zeÅˆ, napÅ™ed svÃ½ho pÃ¡na poprosÃ­.\n\nR: 2x"},
  {id:11,title:"DobrÃ¡k od kosti",artist:"",key:"D",content:"[D]MÃ¡ milÃ¡ jak ti je, tak jak ti je? [A] [G]\nJsem ten, kdo jednou tvÃ½ tÄ›lo zakryje.\nJsem ten, kdo tÄ› jednou oddÄ›lÃ¡.\nPotkala's zkrÃ¡tka koho's nemÄ›la.\n\n[D]Je to vÃ¡Å¾nÄ› silnÃ¡ kÃ¡va,\n[A]plÃ¡Ä a nebo vztek, nic uÅ¾ s tÃ­m nenadÄ›lÃ¡s [G]\n[D]nech mÄ› jenom hÃ¡dat,\n[A]jak jsi hebkÃ¡ na dotek, krÃ¡snÃ¡ a nedospÄ›lÃ¡ [G]\n\n[D]VÃ­Å¡, vÅ¡echno mÃ¡ aspoÅˆ malÃ½ kaz [A] [G]\njsem ten, kdo ti jednou zlomÃ­ vaz [D] [A] [G]\nMÃ¡ milÃ¡ vÅ¾dyÅ¥ mÄ› znÃ¡Å¡ jsem dobrÃ¡k od kosti\na ty jsi ta co mi to jednou vÅ¡echno odpustÃ­\n\nR:\n[D]MÃ¡ milÃ¡ jak ti je, tak jak ti je? [A] [G]"},
  {id:12,title:"PovÃ­dej",artist:"",key:"G",content:"[G]PovÃ­dej, jestli tÄ› mÃ¡ hodnÄ› rÃ¡d, vÃ­c neÅ¾ jÃ¡, [D] [G]\njestli, kdyÅ¾ veÄer jdeÅ¡ spÃ¡t, ti polibek dÃ¡,\n[Hmi]tak jako jÃ¡, [C]to uÅ¾ je dÃ¡vno, [G]tak povÃ­dej, [D]hej, [G]povÃ­dej.\n\n[G]PovÃ­dej, nechal tÄ› bÃ½t, vÅ¾dyt mÄ›l tÄ› tak rÃ¡d, [D] [G]\nnebos' ho nechala jÃ­t, kdyÅ¾ Å¡el k jinÃ½ spÃ¡t,\n[Hmi]tak jako mÄ›, [C]to uÅ¾ je dÃ¡vno, [G]tak povÃ­dej, [D]hej, [G]povÃ­dej.\n\n[Hmi]PovÃ­dej, jestli se ti po mnÄ› stÃ½skÃ¡, [G]kdyÅ¾ veÄer jdeÅ¡ spÃ¡t, [A7] [C] [G]\njestli, kdyÅ¾ v noci se blÃ½skÃ¡, nepÅ™estala ses bÃ¡t.\n\n[G]PovÃ­dej, ne, jÃ¡ se nevrÃ¡tÃ­m, jdi domÅ¯ spÃ¡t,\ntvou lÃ¡sku ti vyplatÃ­m, vÃ­c nemÅ¯Å¾u dÃ¡t,\n[Hmi]jak jsem dal dÅ™Ã­v, [C]to uÅ¾ je dÃ¡vno, [G]tak povÃ­dej, [D]hej, [G]povÃ­dej.\n[Hmi]PovÃ­dej, [C]povÃ­dej, [G]povÃ­dej."},
  {id:13,title:"ZatanÄi",artist:"",key:"Em",content:"[Emi]ZatanÄi, mÃ¡ milÃ¡, zatanÄi pro mÃ© oÄi, [G] [D] [Emi]\nzatanÄi a vetkni nÅ¯Å¾ do mÃ½ch zad,\naÅ¥ tvÅ¯j Å¡at, mÃ¡ milÃ¡, aÅ¥ tvÅ¯j Å¡at na zemi skonÄÃ­,\naÅ¥ tvÅ¯j Å¡at, mÃ¡ milÃ¡, rÃ¡zem je sÅˆat. [G] [D] [Emi]\n\n[Emi]ZatanÄi, jako se okolo ohnÄ› tanÄÃ­, [G] [D] [Emi]\nzatanÄi jako na vodÄ› loÄ,\nzatanÄi jako to slunce mezi pomeranÄi,\nzatanÄi, a pak ke mnÄ› pojÄ. [G] [D] [Emi]\n\n[Emi]PoloÅ¾ dlaÅˆ, mÃ¡ milÃ¡, poloÅ¾ dlaÅˆ na mÃ¡ prsa, [G] [D] [Emi]\npoloÅ¾ dlaÅˆ nestoudnÄ› na moji hruÄ,\nobejmi, mÃ¡ milÃ¡, obejmi moje bedra,\nobejmi je pevnÄ› a moji buÄ. [G] [D] [Emi]\n\n[Emi]NovÃ½ den neÅ¾ zaÄne, mÃ¡ milÃ¡, neÅ¾li zaÄne, [G] [D] [Emi]\nnovÃ½ den neÅ¾ zaÄne, nasyt mÅ¯j hlad,\nzatanÄi, mÃ¡ milÃ¡, pro moje oÄi laÄnÃ©,\nzatanÄi a jÃ¡ budu ti hrÃ¡t. [G] [D] [Emi]"},
  {id:14,title:"Igelit",artist:"",key:"G",content:"[G]UkrytÃ½ v stÃ­nu lesa, igelit, to kdyby pÅ™iÅ¡el k rÃ¡nu dÃ©Å¡t, [D] [C] [G]\npod hlavou boty, nÅ¯Å¾, tÃ¡tovu bundu Å¡itou z maskÃ¡ÄÅ¯,\nk rÃ¡nu se mlhy zvednou a ptÃ¡ci volaj': hele, lidi, svÃ­tÃ¡,\npak vÄ›tviÄky si nalÃ¡mou na oheÅˆ, aby uvaÅ™ili Äaj.\n\nR: [Emi]A vÅ¡ichni se znaj', znaj', znaj' a blÃ¡znÄ›jÃ­ a zpÃ­vaj' [D7] [G] [C] [G]\na po cestÃ¡ch dÃ¡l, dÃ¡l, dÃ¡l hledaj' normÃ¡lnÃ­ svÄ›t.\n\n[G]UkrytÃ½ v stÃ­nu lesa, k veÄeru znavenÃ½ nohy sklÃ¡daj', [D] [C] [G]\nkytara zpÃ­vÃ¡ o tom, jak dÅ™Ã­v bylo lÃ­p,\nta chvilka, co mÃ¡Å¡ na Å¾ivot, ti uplyne jak od ohÃ½nku dÃ½m.\n\nRefrÃ©n"},
  {id:15,title:"Zabili",artist:"",key:"D",content:"[D]Zabili zabili, chlapa z koloÄavy [G] [Emi] [G] [D]\nÅ™eknÄ›te hrobaÅ™i, kde je pochovanÃ½\n\nRef: [D]Bylo tu nenÃ­ tu, havrani na plotu [G]\n[D]bylo vino v sudÄ›, teÄ tam voda bude [G]\n[G]nenÃ­ nenÃ­ tu [D]\n\n[D]Å patnÄ› ho zabili Å¡patnÄ› pochovali [G] [Emi] [G] [D]\nvlci ho pojedli ptÃ¡ci rozklovali\n\nRef:\n\n[D]KrÃ¡kÃ¡ starÃ½ havran krÃ¡kat nepÅ™estane [G] [Emi] [G] [D]\ndokud v KoloÄavÄ› Å¾ivÃ½ chlap zÅ¯stane\n[Emi]Å¾ivÃ½ chlap zÅ¯stane [G] [D]"},
  {id:16,title:"Bedna od whiskey",artist:"",key:"Am",content:"[Am]Dneska uÅ¾ mnÄ› fÃ³ry ÅˆÃ¡k nejdou pÅ™es pysky, [C] [Am] [E]\nstojÃ­m s dlouhou kravatou na bednÄ› vod whisky,\ntu kravatu, co nosÃ­m, mi navlÃ­k' soudce LynÄ\n\n[D]Tak kopni do tÃ½ bedny, aÅ¥ panstvo neÄekÃ¡, [E] [A]\njsou dlouhÃ½ schody do nebe a Å¡treka dalekÃ¡\ndo nebeskÃ©ho baru, jÃ¡ sucho v krku mÃ¡m,\ntak kopni do tÃ½ bedny, aÅ¥ na cestu se dÃ¡m.\n\n[Am]MÃ­t tak vÅ¡echny bedny vod whisky vypitÃ½,\npostavil bych malej dÅ¯m a chlastal bych tam s Bilem a s Benem.\n\n[Am]Kdyby jsi se, hochu, jen porÃ¡d nechtÄ›l rvÃ¡t,\nnemusel jsi dneska na tÃ½hle bednÄ› stÃ¡t.\n\n[Am]KdyÅ¾ jsem Å¡tÃ­pnul konÄ› a ujel jen pÃ¡r mil,\nzatracenÃ¡ smÅ¯la zlÃ¡, zatracenej pech,\nkdyÅ¾ kÅ¯Åˆ cucÃ¡ whisku jak u potoka mech.\n\nTak kopni do tÃ½ bedny!"},
  {id:17,title:"VeÄ mÄ› dÃ¡l",artist:"",key:"G",content:"[G]NÄ›kde v dÃ¡lce cesty konÄÃ­, kaÅ¾dÃ¡ vÅ¡ak cÃ­l svÅ¯j skrÃ½vÃ¡. [Emi] [D] [C] [G]\nNÄ›kde v dÃ¡lce kaÅ¾dÃ¡ mÃ¡ svÅ¯j cÃ­l, aÅ¥ je pÃ¡r mil dlouhÃ¡ nebo tisÃ­c mil.\n\nRef. [G]VeÄ mÄ› dÃ¡l, cesto mÃ¡, veÄ mÄ› dÃ¡l, vÅ¾dyÅ¥ i jÃ¡, [D] [Emi] [C]\n[G]tam, kde konÄÃ­Å¡, chtÄ›l bych dojÃ­t, veÄ mÄ› dÃ¡l cesto mÃ¡. [D] [C] [G]\n\n[G]Chodim dlouho po vÅ¡ech cestÃ¡ch, vÅ¡echny znÃ¡m je, jen ta mÃ¡ mi zbÃ½vÃ¡ [Emi] [D] [C] [G]\nJe jak dÃ­vky, co jsem mÄ›l tak rÃ¡d, plnÃ¡ Å¾aru bÃ½vÃ¡, hned zas samÃ½ chlad.\n\nRefrÃ©n\n\n[Emi]Pak na patnÃ­k poslednÃ­ napÃ­Å¡u kÅ™Ã­dou jmeno svÃ© a [D] [G] [C]\n[G]pod nÄ›j, Å¾e jsem Å¾il hroznÄ› rÃ¡d [D]\n[Emi]PÃ­snÄ› svÃ© co mi v kapsÃ¡ch zbydou, dÃ¡m si bandou cvrÄkÅ¯ [F] [C] [G]\n[D]hrÃ¡t a pÅ¯jdu spÃ¡t, pÅ¯jdu spÃ¡t.\n\nRef. 2x\n|: VeÄ mÄ› dÃ¡l cesto mÃ¡. :| [D] [G]"},
  {id:18,title:"HusliÄky",artist:"",key:"Am",content:"[G]|: ÄŒÃ­ Å¾e ste, husliÄky, Äie, [C] [G]\n[Ami]kdo vÃ¡s tu zanechal :| [Emi] [D]\n[Ami7]na trÃ¡vÄ› povÃ¡lanÃ©, [D] [G] [C]\n[Ami]u paty oÅ™echa? [Emi] [D]\n\n[G]|: A kdoÅ¾e tu trÃ¡vu tak zvÃ¡val, [C] [G]\n[Ami]aj modrÃ© fialy :| [Emi] [D]\n[Ami7]Å¾e ste husliÄky samÃ©, [D] [G] [C]\n[Ami]na svÄ›tÄ› zostaly? [Emi] [D]\n\n[G]|: A kterÃ½ tu muzikant usnul [C] [G]\n[Ami]a co sa mu pÅ™iÅ¡lo zdÃ¡t :| [Emi] [D]\n[Ami7]co sa mu v noci zdÃ¡lo, [D] [G] [C]\n[Ami]Å¾e uÅ¾ vjec nechtÄ›l hrÃ¡t? [Emi] [D]\n\n[G]|: Zahrajte, husliÄky samy, [C] [G]\n[Ami]zahrajte zvesela :| [Emi] [D]\n[Ami7]aÅ¾ sa tÃ¡ bude trÃ¡pit, [D] [G] [C]\n[Ami]kterÃ¡ ho nechtÄ›la [Emi] [D]\n\nAmi Emi Hmi C D G"},
  {id:19,title:"RÃ¡da se miluje",artist:"",key:"Am",content:"[Ami]RÃ¡da se miluje, rÃ¡da jÃ­, rÃ¡da si jenom tak zpÃ­vÃ¡, [G] [C] [F] [Emi] [Ami]\nvrabci se na plotÄ› hÃ¡dajÃ­, kolik Å¾e Äasu jÃ­ zbÃ½vÃ¡.\n\n[F]NeÅ¾ vÃ­tr dostrkÃ¡ k Ãºtesu tu jejÃ­ legraÄnÃ­ bÃ¡rku [C] [F] [C] [E]\n[Ami]a PÃ¡mbu si ve svÃ½m notesu udÄ›lÃ¡ jen dalÅ¡Ã­ ÄÃ¡rku.\n\nRef: (opakuje se)\n\n[F]PsÃ¡no je v nebeskÃ© reÅ¾ii, a to hned na prvnÃ­ strÃ¡nce,\n[Ami]Å¾e naÅ¡e duÅ¡e nÃ¡s pÅ™eÅ¾ijÃ­ v jinaÄÃ­ tÄ›lesnÃ½ schrÃ¡nce.\n\n[F]ÃšplnÄ› na konci paseky, tam, kde se ozvÄ›na tÅ™Ã­Å¡tÃ­,\n[Ami]sedÃ­ Å¡nek ve snacku pro Å¡neky - snad jejÃ­ podoba pÅ™Ã­Å¡tÃ­.\n\nOriginÃ¡l: Capo 2, Ami G C Fmaj Emi"},
  {id:20,title:"Jesse James",artist:"",key:"G",content:"[G]Jesse James chlapÃ­k byl, hodnÄ› lidÃ­ vodpravil, [C] [G]\nvlaky pÅ™epadÃ¡val rÃ¡d. [D7]\n[G]BohÃ¡ÄÅ¯m umÄ›l brÃ¡t, chudÃ¡kÅ¯m daval zas, [C] [G]\npÅ™Ã¡l bych vÃ¡m abyste ho mohli znÃ¡t. [D7] [G]\n\nRef. [C]JÃ³, Jesse Å¾enu svou tady nechal ubohou [G]\na tÅ™i dÄ›cka Å™Ã­kÃ¡m vÃ¡m, [D7]\n[G]ale tenhle pÅ™Ã­tel hadÃ­ ten vÃ¡m Jesse zradÃ­. [C] [G]\nJÃ¡ vÃ­m tenkrÃ¡t v noci prask ho sÃ¡m. [D7] [G]\n\n[G]Jednou vÃ¡m byla noc, mÄ›sic tenkrÃ¡t svÃ­til moc,\nkdyÅ¾ tu vlÃ¡Äek zÅ¯stal stÃ¡t.\nKdekdo vÃ­ Å¾e ten vlak pÅ™epad James kabrÅˆÃ¡k\nÄistÄ› sÃ¡m se svÃ½m brÃ¡chou akorÃ¡t.\n\nRefrÃ©n\n\n[G]JedenkrÃ¡t Jesse James sedÃ­ doma za stolem\na svÃ½m dÄ›tem vyprÃ¡vÃ­\nRoberd Ford v noÄnÃ­ch tmÃ¡ch pÅ™iplÃ­Å¾Ã­ se jako vrah\na on vÃ¡m Jesse Jamese odpravÃ­.\n\nRefrÃ©n"},
  {id:21,title:"ZachraÅˆte konÄ›",artist:"",key:"Em",content:"[Em]Peklo byl rÃ¡j kdyÅ¾ hoÅ™ela stÃ¡j, pÅ™Ã­teli [Am7]\n[C]VÄ›Å™ mi, konÄ› plÃ¡Äou povÃ­dÃ¡m [D] [G] [H7]\n[Em]To byla pÅ¯lnoc v tom kÅ™ik o pomoc\n[C]hejna kohoutÅ¯ a bÅ¯hvÃ­ kam [Hm] [Em]\n\nRef. [G]ZachraÅˆte konÄ›, kÅ™iÄel jsem tisÃ­ckrÃ¡t [Hm] [C]\n[G]Å¾il jsem jen pro nÄ›, brÃ¡nil je nejvÃ­ckrÃ¡t [Hm] [C]\n[Am]neÅ¾ pÅ™iÅ¡la chvÃ­le, kdy hÅ™Ã­vy bÃ­le,\n[Am]procesÃ¡l plamen, spÃ¡lil na troud [H7]\n\n[Em]Ohrady a stÃ¡j a v plamenech kraj uÅ¾ nedÃ½chal [Am7]\n[C]jÃ¡ vidÄ›l jak to hÅ™Ã­bÄ› umÃ­rÃ¡\n[Em]klisna u nÄ›j a smuteÄnÃ­ dÄ›j se odbÃ½vÃ¡\n[C]jak tiÅ¡e plÃ¡Äe oÄi pÅ™ivÃ­rÃ¡ [Hm] [Em]\n\nRefrÃ©n 2x\n[Em]zachraÅˆte konÄ›"},
  {id:22,title:"Knock knock / NebeskÃ¡ brÃ¡na",artist:"Bob Dylan / trad.",key:"G",content:"[G]Mama, take this badge off of me [D] [Ami]\nI can't use it anymore [G] [D] [C]\n[G]It's gettin' dark, too dark for me to see\nFeel like I'm knockin' on heaven's door\n\nRef. (4x) [G]Knock, knock, knockin' on heaven's door [D] [Ami/C]\n\n[G]Mama, put my guns on the ground\nI can't shoot them any more\nThat long black cloud is comin' down\nFeels like I'm knockin' on heaven's door\n\n---\n\n[G]MÃ¡mo sundej kytku z kabÃ¡tu [D] [Ami]\nza chvÃ­li mi bude k niÄemu [G] [D] [C]\n[G]mÅ¯j kabÃ¡t a kudlu vem pro tÃ¡tu\njÃ¡ uÅ¾ stojim pÅ™ed branou s klÃ­Äem\n\nRef. [G]CejtÃ­m Å¾e zaklepu na nebeskou brÃ¡nu [D] [Ami/C] (3x)\n\nNeberu s sebou milÃ½ tvÃ¡Å™e, Å¾ijte si tu co se do vÃ¡s vejde,\naÅ¾ popÃ­Å¡em vÅ¡echny diÃ¡Å™e, vÅ¡ichni se tam za tou branou sejdem\n\nRef. [G]VÅ¡ichni jednou zaklepem na nebeskou brÃ¡nu [D] [Ami7] [C] (3x)"},
  {id:23,title:"Budu vÅ¡echno co si budeÅ¡ pÅ™Ã¡t",artist:"",key:"G",content:"[G]ZÃ¡plavou uprostÅ™ed pouÅ¡tÄ› vÅ¡ednÃ­ch dnÃ­, [G7] [C] [D] [G]\nhouslistou, co tvoje struny rozeznÃ­,\nmÅ¯Å¾u bÃ½t, kdyÅ¾ si to budeÅ¡ pÅ™Ã¡t. [C] [D] [G]\n\n[G]PoÅ¾Ã¡rem co rozpÃ¡lÃ­ tÄ› do bÄ›la, [G7] [C] [D] [G]\nzlodÄ›jem, co stÃ¡tnÃ­ banku udÄ›lÃ¡,\nmÅ¯Å¾u bÃ½t, kdyÅ¾ si to budeÅ¡ pÅ™Ã¡t. [C] [D] [G]\n\nRef. [G]BlÃ¡znem co stavÃ­ na pouÅ¡ti most [D]\na v deÅ¡ti tanÄÃ­ pro radost. [D7] [H7] [Emi]\n[Emi]budu vÅ¡echno co si budeÅ¡ pÅ™Ã¡t. [C] [D]\n[G]SluneÄnÃ­m svÄ›tlem a pÅ¯lnoÄnÃ­ tmou, [D]\ntvou stopou v pÃ­sku ztracenou, [D7] [H7] [Emi]\n[Emi]budu vÅ¡echno co si budeÅ¡ pÅ™Ã¡t [C]\n[D]a jeÅ¡tÄ› k tomu rÃ¡d. [G]\n\n[G]Å achistou co pÃ¡tÃ½m tahem dÃ¡vÃ¡ mat, [G7] [C] [D] [G]\nsvÃ­tÃ¡nÃ­m ve tmÄ›, kde zaÄala ses bÃ¡t,\nmÅ¯Å¾u bÃ½t, kdyÅ¾ si to budeÅ¡ pÅ™Ã¡t. [C] [D] [G]\n\nRefrÃ©n 2x\n\n[G7]MÃ¡Å¡ to mÃ­t, kdyÅ¾ si to budeÅ¡ pÅ™Ã¡t. [C] [D] [G] (4x)"},
  {id:24,title:"Panenka",artist:"",key:"C",content:"[C]Co skrÃ½vÃ¡Å¡ za vÃ­Äky a plameny svÃ­Äky, [F] [C] [F]\nsnad houÅ™ bÃ­lÃ½ch holubic nebo jen Å¾al,\ntak odplul ten prvÃ½ den smÃ¡ÄenÃ½ krvÃ­,\nani poutovou panenku nezanechal. [C] [G] [C]\n\nRef: [C]OtevÅ™i oÄi, ty uspÄ›chanÃ¡ dÃ¡mo uplakanÃ¡, [F] [C] [G] [F] [C] [G]\n[F]otevÅ™Ã­ oÄi, ta hloupÃ¡ noc konÄÃ­ a mÃ­r je mezi nÃ¡ma. [C] [F] [C] [G] [C]\n\n[C]UÅ¾ si oblÃ©kni Å¡aty i Å™etÃ­zek zlatÃ½\na umyj se, pÅ¯jdeme na karneval,\na na bÃ­lou kÅ¯Å¾i ti napÃ­Å¡u tuÅ¡Ã­,\nÅ¾e dÃ¡mou jsi byla a zÅ¯stÃ¡vÃ¡Å¡ dÃ¡l.\n\nRefrÃ©n"},
  {id:25,title:"Colorado",artist:"",key:"G",content:"[G]TÃ¡ta vÅ¾dycky Å™Ã­kal hochu Å¾Ã¡dnÃ½ strachy. [C]\nSeÅ¡ kovboj v Coloradu mÅ¯Å¾eÅ¡ kravy pÃ¡st. [G] [D]\n[G]JÃ¡ radÅ¡i utratil jsem psa a vÅ¡echny prachy.\nDo srdce Evropy jÃ¡ odjel v klidu krÃ¡st. [G] [D] [G]\n\n[G]NarvanÃ½ kapsy, prsteny, Å™etÄ›zy zlatÃ½, [C]\ntam kolem krku mÃ­stnÃ­ indiÃ¡ni maj.\nA ti, co nemakaj tak jsou nejvÃ­c bohatÃ½.\nMusim si pohnout dokavaÄ tam rozdÃ¡vaj. [G] [D] [G]\n\nRef. [G]Z Billa na NovÃ¡ka zmÄ›nÃ­m si svÃ½ jmÃ©no [C]\na aÅ¾ tu malou zemi celou rozkradem, [G] [D]\n[G]tak se vrÃ¡tÃ­m ve svÃ½ rodnÃ½ Colora - do [Emi] [C]\na o tÃ½ zlatÃ½ Å¾Ã­le Å™eknu doma vÅ¡em. [G] [D] [G]\n\nRefrÃ©n\nOutro: [G]O tÃ½ zlatÃ½ Å¾Ã­le Å™eknu doma vÅ¡em [D] [G]"},
  {id:26,title:"MÄ›sÃ­c",artist:"",key:"Em",content:"[Emi]DÄ›kuju ti za to, Å¾es mi jeÅ¡tÄ› zavolala, [D] [G] [C] [G] [D]\nmoje duÅ¡e ÄernÃ¡ uÅ¾ to ani neÄekala.\n[Emi]JenÅ¾e, moje drahÃ¡, je to vÅ¡echno trochu na nic,\njÃ¡ uÅ¾ jsem se rozhod, zitra budu znovu panic.\n\n[Emi]DÄ›kuju ti za to, Å¾es to rovnou nepoloÅ¾il,\nÅ¾e jsi nezapomnÄ›l, co jsi se mnou vÅ¡echno proÅ¾il\n[Emi]TeÄka svÃ­tÃ­ mÄ›sÃ­c pro kaÅ¾dÃ½ho zvlÃ¡Å¡Å¥, mnÄ› je to lÃ­to,\njenÅ¾e uÅ¾ je konec, vÅ¡ak vÃ­Å¡ to.\n\n[Emi]MÄ›sÃ­c, [D]svÃ­tÃ­ mÄ›sÃ­c. [G] [C] [G] [D] (4x)\n[Emi]MÄ›sÃ­c."},
  {id:27,title:"Vizovice",artist:"",key:"G",content:"[G]KdyÅ¾ se s vinem probouzÃ­ den. [D] [G]\nJen jÃ¡ a to vino tady sem [C] [G] [D]\nJÃ¡ vÄera s vÃ­nem Å¡el jsem i spÃ¡t\na to mam rÃ¡d. [C]\n\n[G]Po vinu a po slivovici [D] [G]\nJako balÃ³n ja mÃ¡m makovici.\nStejnÄ› si musim ale panaka dÃ¡t.\nJÃ¡ to mÃ¡m rÃ¡d. [C]\n\n[G]Tam kde leÅ¾Ã­ Vizovice [D] [G]\nTam jsme pÅ™ece my a slivovice.\na dobrych lidÃ­, co mÃ¡m tu Äest znÃ¡t.\nco je mam rÃ¡d [C]\n\n[G]Tam vychazÃ­ trnky brnky [D] [G]\nV lesÃ­ch jsou jak Å¾irafy tak i srnky.\nTam ti nikdo Å¾ivot nebude brÃ¡t,\njenom o jÃ¡tra se musiÅ¡ bÃ¡t. [G] [D] [G]\n\n[G]Touhle pÃ­snÃ­ chtÄ›l jsem jen Å™Ã­ct [D] [G]\nÅ¾e jsou mÃ­sta, kde bude vÃ¡m lÃ­p. [C] [G] [D]\n|: KaÅ¾dÃ½ mÃ¡ nÄ›kde svoje Vizovice,\nkde jsou znÃ¡mÃ­ a ne pijavice. :| [G] [D] [G]"},
  {id:28,title:"Dej mi vÃ­c svÃ© lÃ¡sky",artist:"",key:"Am",content:"[Ami]Vymyslel jsem spoustu nÃ¡padÅ¯, aÅ¯, [C]\nco podporujou hloupou nÃ¡ladu, aÅ¯, [Ami] [G] [E]\n[Ami]hodit klÃ­Äe do kanÃ¡lu, sjet po zadku holou skÃ¡lu,\n[Ami]v noci chodit straÅ¡it do hradu [E] [Ami]\n\n[Ami]DÃ¡m si dvoje housle pod bradu, aÅ¯, [C]\nv bÃ­lÃ© plachtÄ› chodÃ­m pozadu, aÅ¯,\n[Ami]ÃºplnÄ› melancholicky, s citem pro vÄ›c jako vÅ¾dycky\n[Ami]vyrÃ¡bÃ­m tu hradnÃ­ zÃ¡hadu, aÅ¯ [E] [Ami] [G]\n\n[C]MÃ¡ drahÃ¡, dej mi vÃ­c, mÃ¡ drahÃ¡, dej mi vÃ­c, [E]\n[Ami]mÃ¡ drahÃ¡, dej mi vÃ­c svÃ© lÃ¡sky, aÅ¯, [F] [C] [G]\n[C]jÃ¡ nechci skoro nic, jÃ¡ nechci skoro nic, [E]\n[Ami]jÃ¡ chci jen pohladit tvÃ© vlÃ¡sky, aÅ¯. [F] [C] [E]\n\n[Ami]NejlepÅ¡Ã­ z tÄ›ch divnejch nÃ¡padÅ¯, aÅ¯,\nmi dokonale zvednul nÃ¡ladu, aÅ¯,\n[Ami]natrhÃ¡m ti sedmikrÃ¡sky, tebe celou s tvÃ½mi vlÃ¡sky\n[Ami]zamknu si na sedm zÃ¡padÅ¯, aÅ¯ [E] [Ami] [G]\n\nRefrÃ©n"},
  {id:29,title:"Cesta",artist:"",key:"C",content:"[C]Tou cestou, tÃ­m smÄ›rem prÃ½ bych se dÃ¡vno mÄ›l dÃ¡t. [G]\nKdyÅ¾ snÄ›Å¾Ã­, jde to stÄ›Å¾i, ale snÄ›hy pak tajÃ­,\n[F]kus nÄ›hy ti za nehty slÃ­bÃ­ a dajÃ­ [G]\n\n[C]VÃ­c sÃ­ly se prÃ¡t, na dnÄ› vÃ­c dÃ¡vat neÅ¾ brÃ¡t. [G]\nA i kdyÅ¾ se vleÄe a je schÅ¯dnÃ¡ jen v kleÄe,\n[F]donutÃ­ pÅ™estat se zbyteÄnÄ› ptÃ¡t, [G]\n\nRef. [C]Jestli se blÃ­Å¾Ã­m k cÃ­li, kolik zbÃ½va vÃ­ry, [G]\n[Ami]kam zvou svodidla, co po tmÄ› mi lÅ¾ou? [F] [G]\n[C]Zda couvam zpÃ¡tky a plÃ½tvam Å™adky, [G]\n[Ami]co Å™vou, Å¾e uÅ¾ mi doma neotevÅ™ou... [F] [G]\n\n[C]Ale zpÃ­vat a hrÃ¡t, kotnÃ­ky lÃ­bat, a stÃ¡t. [G]\nNa kÅ™Ã­dlech vÅ¡ech slavÃ­kÅ¯, a vlastnÄ› uÅ¾ ze zvyku\n[F]pÅ™estat se zbyteÄnÄ› ptÃ¡t, [G]\n\nRef. 2x"},
  {id:30,title:"MalovÃ¡nÃ­",artist:"",key:"Dm",content:"[Dmi]NesnaÅ¾ se, znÃ¡Å¡ se, Å™ekni mi co je jinÃ½, [B] [C] [Dmi]\njak v kleci mÃ¡Å¡ se pro nevinnÃ½\nnoci dlouhÃ½ jsou plnÃ½ touhy a lÃ¡sky nÃ¡s dvou\n\nRef. [B]To je to tvoje malovÃ¡nÃ­ vzduÅ¡nejch zÃ¡mkÅ¯, [C] [Dmi] [B] [C]\nmalovÃ¡nÃ­ po zdech holejma rukama [Dmi] [B] [C]\ntÄ› nezachrÃ¡ni, uÅ¾ mÃ¡Å¡ na kahÃ¡nku, [Dmi] [B] [C]\nza nÃ¡ma, na zÃ¡dech, [Dmi] [B] [C]\nje to za nÃ¡ma, ty ÄteÅ¡ poslednÃ­ stranku, [Dmi] [B] [C]\nza nÃ¡ma, [Dmi] [B] [Gmi] [Ami]\nmezi nÃ¡ma, mi taky doÅ¡el dech.\n\nRefrÃ©n\n\n[Dmi]ZnÃ¡Å¡ se, Å™ekni mi co je jinÃ½ [B] [C] [Dmi]\njak v kleci mÃ¡Å¡ se pro nevinnÃ½\nnoci dlouhÃ½ jsou plny touhy a lÃ¡sky nÃ¡s tÅ™Ã­."},
  {id:31,title:"Fotr",artist:"",key:"A",content:"[A]Jednou mi fotr povÃ­dÃ¡, zÅ¯stali jsme uÅ¾ sami dva, [D]\nÅ¾e si chce zaÄit taky trochu Å¾Ã­t, [E] [A]\n[A]nech si to projÃ­t palicÃ­ a nevracej se s vopicÃ­,\nsnaÅ¾ se mÄ› hochu trochu pochopit. [E] [A]\n\n[E]JÃ¡ Å¡el, Å¡el dÃ¡l, baby, kam mÄ› PÃ¡nbÅ¯h zval, [A]\njÃ¡ Å¡el, Å¡el dÃ¡l, baby, a furt jen tancoval, [E] [D7]\n[A]na kaÅ¾dÃ½ divnÃ½ hranici, na policejnÃ­ stanici [D]\n[E]hrÃ¡l jsem jenom rock'n'roll for you. [A]\n\n[A]PÅ™iletÄ›l se mnou Äernej ÄÃ¡p, zobÃ¡kem dÄ›lal rockin' klap [D]\na nad kolÃ­bkou Elvis Presley stÃ¡l,\nobrovskej bourÃ¡k v ulici, po boku krÃ¡snou slepici\na lidÃ­ Å¡eptaj: pÅ™ijel ÅˆÃ¡kej krÃ¡l. [E] [A]\n\nRefrÃ©n\n...hrÃ¡l jsem jenom rock'n'roll for you."},
  {id:32,title:"Nagasaki HiroÅ¡ima",artist:"",key:"G",content:"R. [G]TramvajÃ­ dvojkou jezdival jsem - do Å½idenic, [D] [C] [D] [G]\nz takovÃ½ lÃ¡sky - vÄ›tÅ¡inou nezbyde nic,\n[C]z takovÃ½ lÃ¡sky - jsou kruhy pod oÄima [G] [C] [G] [D]\na dvÄ› - spÃ¡lenÃ½ srdce â€“ Nagasaki, HiroÅ¡ima.\n\n[G]Jsou jistÃ½ vÄ›ci, co bych tesal do kamene,\ntam, kde je lÃ¡ska, tam je vÅ¡echno dovolenÃ©,\n[C]a tam, kde nenÃ­, tam mÄ› to nezajÃ­mÃ¡,\njÃ³, dvÄ› spÃ¡lenÃ½ srdce â€“ Nagasaki, HiroÅ¡ima.\n\n[G]JÃ¡ nejsem svatej, ani ty nejsi svatÃ¡,\njablka z rÃ¡je bejvala jedovatÃ¡,\n[C]jenÅ¾e! - hezky jsi hÅ™Ã¡la, kdyÅ¾ mi nÄ›kdy byla zima,\njÃ³, dvÄ› spÃ¡lenÃ½ srdce â€“ Nagasaki, HiroÅ¡ima.\n\nR: a dvÄ› spÃ¡lenÃ½ srdce â€“ Nagasaki, HiroÅ¡ima  3x"},
  {id:33,title:"Amerika",artist:"",key:"D",content:"[D]Nandej mi do hlavy tvÃ½ brouky, a BÅ¯h nÃ¡m seber beznadÄ›jl [A] [Emi] [D]\nV duÅ¡i zbylo svÄ›tlo z jedny holky, tak mi teÄ za to vynadej.\n\n[D]Zima a promarnÃ©nÃ½ touhy, do vrÃ¡sek stromÅ¯ padÃ¡ dÃ©Å¡t.\nZbejvaj roky asi ne moc dlouhÃ½,\n[Emi]do vlasÅ¯ mi zabroukej... pa pa pa pÃ¡ [G] [D]\n\nRef: [D]pa pa pa pÃ¡, pÃ¡ pa pa pÃ¡   jejÃ© [A] [Hmi] [D]\n[D]pa pa pa pÃ¡, pÃ¡ pa pa pÃ¡ [C#7] [Hmi] [D]\n\n[D]Tvoje oÄi jenom Å¾avÃ½ tÃ³ny, dotek slunce zapadÃ¡.\nHorkej vÃ­tr rozeznÃ­ mÃ½ zvony,\n[Emi]do vlasÅ¯ ti zabroukÃ¡m ... pÃ¡ pa pÃ¡ pÃ¡ [G] [D]\n\nRef. (opakuje se)\n\n[D]Na obloze kÅ™Ã­dla taÅ¾nejch ptÃ¡kÅ¯, tak uÅ¾ na svÃ½ brÃ¡chy zavolej.\nNa tvÃ¡Å™e ti padaj slzy z mrakÅ¯ a BÅ¯h nÃ¡m sebral beznadÄ›jl.\n\nRef. + D, C#7, Hmi"},
  {id:34,title:"Made in Valmez",artist:"",key:"D",content:"[D]jako je sama skÃ¡la [Gmaj7] [Emi] [A]\ntak jsem sÃ¡m i jÃ¡\n[D]jako je prÃ¡zdnÃ¡ duha [Gmaj7] [Emi] [A]\ntak jsem prÃ¡zdnÃ½ i jÃ¡\n[D]jako je zrÃ¡dnÃ¡ voda [Gmaj7] [Emi] [A]\ntak zradÃ­m i jÃ¡\n\nRef. [D]zkouÅ¡Ã­m se prokopat ven - zkouÅ¡Ã­ se prokopat ven!\n[Gmaj7]zkouÅ¡Ã­m se prokopat ven! [Emi] [A] (opakuje se)\n\n[D]O pÅ¯l tÅ™etÃ­ na nÃ¡mÄ›stÃ­ ve ValaÅ¡skÃ©m MeziÅ™Ã­ÄÃ­ [Gmaj7] [Emi] [A]\njdu co noha nohu mine, a kaÅ¾dÃ½ sÃ¡m sobÄ› jsme stÃ­nem\nnic mi nenÃ­ pÅ™itom melu z poslednÃ­ho,\ntÄ›Å¾ko Å™Ã­ct o tom nÄ›co konkrÃ©tnÃ­ho\nstejnÃ¡ slova kolem stejnÃ½ tvÃ¡Å™e\na kaÅ¾dÃ½ sÃ¡m sobÄ› jsme lhÃ¡Å™em a jÃ¡ uÅ¾ zase\n\nRefrÃ©n\nOutro: [D]zkouÅ¡Ã­m se prokopat ven [Gmaj7] [Emi] [A] [D]"},
  {id:35,title:"Nebude to taky lehkÃ©",artist:"",key:"Am",content:"[Ami]Vraj zmenila si ÄÃ­slo [G]\nA do zÃ¡mku nepasuje viac mÃ´j kÄ¾ÃºÄ [Ami] [G] [Fmaj7]\nHlavou mi blyslo, asi chceÅ¡ aby som bol uÅ¾ fuÄ.\n\n[C]Nebude to takÃ© lahkÃ© drahÃ¡ [G] [F]\nMÅˆa sa nezbaviÅ¡ s tÃ½m sa lÃºÄ [C] [G] [F]\n[C]Nebude to takÃ© lahkÃ© drahÃ¡\nNemoÅ¾eÅ¡ ma vymeniÅ¥ ako rÃºÅ¾ [G] [F] [G] (stop)\n[Ami]Som tvoj muÅ¾\n\nMedzihra: Ami G Ami G\n\nVraj koketujeÅ¡ s inÃ½m, dolÃ¡mem mu kosti, nos a sny\nTak dopÃºÅ¡Å¥aÅ¡ sa viny, tak vrav, povedz Äo mÃ¡Å¡ s nÃ­m.\n\nR:\n\n[F]Predsa sme si sÃºdenÃ½ [G]\nJa nemoÅ¾em Å¾iÅ¥ bez Å¾eny [F] [G]\n[F]Ja nemoÅ¾em Å¾iÅ¥ bez teba to mi ver [G] [Ami]\n[F]A v kostole pred pÃ¡nom, sÄ¾ubovala si nÃ¡m dvom [G]\n[F]NekoneÄnÃº lÃ¡sku, vernosÅ¥, mier, mier, mier [G] [Ami]\nR:"},
  {id:36,title:"Kdyby tady byla",artist:"",key:"A",content:"[A]|: Kdyby tady byla takovÃ¡ panenka, kterÃ¡ by mÄ› chtÄ›la. :| [E] [A]\n[D]|: KterÃ¡ by mÄ› chtÄ›la syna vychovala, pÅ™itom pannou byla. :| [A] [E] [A]\n\n[A]|: Kdybych jÃ¡ ti mÄ›la syna vychovati, pÅ™itom pannou bÃ½ti. :| [E] [A]\n[D]|: Ty by jsi mÄ› musel kolÃ©bku dÄ›lati, do dÅ™eva netÃ­ti. :| [A] [E] [A]\n\n[A]|: Kdybych jÃ¡ ti musel kolÃ©bku dÄ›lati, do dÅ™eva netÃ­ti. :| [E] [A]\n[D]|: Ty bys mi musela koÅ¡iliÄku Å¡Ã­ti, bez jahel a niti. :| [A] [E] [A]\n\n[A]|: Kdybych jÃ¡ ti mÄ›la koÅ¡iliÄku Å¡Ã­ti, bez jahel a niti. :| [E] [A]\n[D]|: Ty by si mÄ› musel Å¾ebÅ™Ã­k udÄ›lati, aÅ¾ k nebeskÃ© vÃ½Å¡i. :| [A] [E] [A]\n\n[A]|: Kdybych jÃ¡ ti musel Å¾ebÅ™Ã­k udÄ›lati, aÅ¾ k nebeskÃ© vÃ½Å¡i. :| [E] [A]\n[D]|: Lezli bysme spolu, spadli bysme dolÅ¯, byl by konec vÅ¡emu. :| [A] [E] [A]"},
  {id:37,title:"Pocity",artist:"",key:"G",content:"[G]Z poslednÃ­ch pocitÅ¯ posklÃ¡dÃ¡m jeÅ¡tÄ› jednou ÃºÅ¾asnou chvÃ­li [D] [Emi] [C]\nJe to tÃ­m, Å¾e jsi tu, moÅ¾nÃ¡ tÃ­m, Å¾e kdysi jsme byli Ty a JÃ¡,\ndvÄ› nahÃ½ tÄ›la, tak neÅ™Ã­kej, Å¾e jinak si to chtÄ›la,\ntak neÅ™Ã­kej, neÅ™Ã­kej, neÅ™Ã­kej mi nic.\n\n[G]Stala ses do noci z niÄeho nic moje platonickÃ¡ lÃ¡ska [D] [Emi] [C]\nunaven, bezmocnÃ½, usÃ­nÃ¡m vedle Tebe, nÄ›co ve mnÄ› praskÃ¡.\n\nR: [G]JenÅ¾e ty neslyÅ¡Ã­Å¡, jenÅ¾e ty neposlouchÃ¡Å¡, [D] [Emi] [C]\nsnad ani nevidÃ­Å¡, nebo spÃ­Å¡ nechceÅ¡ vidÄ›t\na druhejm zÃ¡vidiÅ¡ a v oÄÃ­ch kapky slanÃ½ vody\nzkus zmÄ›nu, uvidÃ­Å¡. Pak vitej do svobody\n\n[G]Jsi andÄ›lÃ­, netuÅ¡Ã­Å¡. AndÄ›l, co ze strachu mu utrhali kÅ™Ã­dla.\nA aÅ¾ to ucÃ­tÃ­Å¡, zkus kaÅ¡lat na pravidla.\n\nR: JenÅ¾e ty neslyÅ¡Ã­Å¡..."},
  {id:38,title:"ZafÅ¯kanÃ©",artist:"",key:"Am",content:"[Ami]VÄ›tr snÄ›h zanÄ›sl z hor do polÃ­, jÃ¡ idu pÅ™es kopce, pÅ™es ÃºdolÃ­, [C] [G] [Ami]\nidu k tvej dÄ›dinÃ« zatÃºlanej, cestiÄky snÄ›hem sÃº zafÅ¯kanÃ©. [C] [G] [C] [F] [C] [E] [Ami]\n\n[Ami]ZafÅ¯kanÃ©, zafÅ¯kanÃ©, kolem mÅˆa vÅ¡ecko je zafÅ¯kanÃ©. [C] [G] [C] [F] [C] [Dmi] [E]\n[Ami]ZafÅ¯kanÃ©, zafÅ¯kanÃ©, kolem mÅˆa vÅ¡ecko je zafÅ¯kanÃ©.\n\nMEZIHRA: Emi D G H7 Emi D G H7 Emi\n\n[Ami]UÅ¾ vaÅ¡u chalupu z dÃ¡lky vidÃ­m, srdce sa ozvalo, bÃ­t ho slyÅ¡Ã­m,\nsnÃ¡Ä enom pÃ¡r krokÅ¯ mi zostÃ¡vÃ¡, a budu u tvÃ©ho okÃ©nka stÃ¡t.\n\nR: okÃ©nko k tobÄ› je zafÅ¯kanÃ©\n\n[Ami]Od tvÃ©ho okna sa smutnÃ½ vracÃ¡m, v zÃ¡vÄ›joch zpÃ¡tky dom cestu hledÃ¡m,\nspadl snÄ›h na srdce zatÃºlanÃ©, aj na mÃ© stopy - sÃº zafÅ¯kanÃ©.\n\nR: mÃ© stopy k tobÄ› sÃº zafÅ¯kanÃ©"},
  {id:39,title:"Honolulu",artist:"",key:"G",content:"[G]LeteckÃ¡ linka do rÃ¡je [C] [D] [C]\nk ostrovÅ¯m slunnÃ© Havaje\nnabrala kurs vlastnÃ­ osy\ntam holky plavky nenosÃ­ [C] [D] [G]\n\n[G]Na plÃ¡Å¾i Beach Boys ÄekajÃ­ [C] [D] [C]\nbanÃ¡ny z palem padajÃ­\nna runway Boeing dosedÃ¡\na slunce pÃ¡lÃ­, to se mÃ¡ [C] [D] [G]\n\n[D]Honolulu, ukululu, tohle mÃ¡m rÃ¡d [C] [G]\nreagge, reagge, reagge\n[D]Honolulu, ukululu... [C]\n[G]hej [C] [D] [C] [G]\n\n[G]Tu nÃ¡hle signÃ¡l budÃ­ku [C] [D]\nvytÃ¡h' mÄ› z plÃ¡Å¾e rovnÃ­ku\nÅ¡alinou za pÄ›tikaÄku\njedu vorazit Å¡tÃ­paÄku [C] [D] [G]\n\nRefrÃ©n"},
  {id:40,title:"Sen",artist:"",key:"E",content:"[E]StÃ­ny dnÅ¯ a snÅ¯ se k obratnÃ­kÅ¯m stÃ¡ÄÃ­ [A]\n[E]Ruce snÅ¯ Äernejch se snaÅ¾Ã­ zakrÃ½t oÄi [A]\n[F#mi]SvÄ›tlo tvÃ½ prozradÃ­ proÄ jÃ¡ vÃ­m [A] [E]\n[F#mi]S novÃ½m dnem, Å¾e se zas navrÃ¡tÃ­ [A] [H]\n\n[E]Mraky se plazÃ­, vÃ­tr je lÃ¡me [A]\n[E]StÃ­ny tvÃ½ duÅ¡e rozplynou se v Å¡eru [A]\n[F#mi]Ve vlnÃ¡ch opouÅ¡tÃ­, po hodinÃ¡ch mizÃ­ [A] [E]\n[F#mi]A mÄ›sÃ­c novÃ½ stÃ­ny vyplaÅ¡Ã­ [A] [H]\n\nR: [E]Proud motÃ½lÅ¯ unÃ¡Å¡Ã­ strach\n[A]Na listy sedÃ¡ hvÄ›zdnej prach\n[C#mi]ProletÃ­ ohnÄ›m a mizÃ­ stÃ¡le dÃ¡l [H]\n[E]NeslyÅ¡nÃ½ kroky stepujou\n[A]V nebeskÃ½m rytmu swingujou\n[C#mi]Å½e se rÃ¡no vytratÃ­ [H]\n\nR: Proud motÃ½lÅ¯ unÃ¡Å¡Ã­ strach..."},
  {id:41,title:"JasnÃ¡ zprÃ¡va",artist:"",key:"G",content:"[G]SkonÄili jsme jasnÃ¡ zprÃ¡va,\n[Emi]proÄ o tebe zakopÃ¡vam dÃ¡l, [C] [D]\n[Ami]projÃ­t bytem jÃ¡ abych se bÃ¡l. [C] [G]\n[G]DÃ­k tobÄ› se vidÃ­m zvenÄÃ­,\n[Emi]pÅ™ipadÃ¡m si starÅ¡Ã­ menÅ¡Ã­ sÃ¡m, [C] [D]\n[Ami]kam se kouknu, kousek tebe mÃ¡m. [C] [G]\n\nRef. [Emi]PÄ›nu s vÅ¯nÃ­ jableÄnou, vyvanulÃ½ sprej, [Hmi] [Emi] [Hmi]\n[Emi]telefon, cos ustÅ™ihla mu Å¡ÅˆÅ¯ru. [G] [D]\n[Emi]knÃ­Å¾ku krÃ¡snÄ› zbyteÄnou, co mÃ¡ lÅ¾ivÃ½ dÄ›j,\n[Emi]pÃ­Å¡e se v ni, jak se lÃ­tÃ¡ vzhÅ¯ru,\n[Ami]lÃ­tÃ¡ vzhÅ¯ru, ve dvou vzhÅ¯ru. [D]\n\n[G]OdeÅ¡la's mi pÅ™ed usvitem,\n[Emi]mÃ¡m snad bloudit vlastnÃ­m bytem sÃ¡m, [C] [D]\n[Ami]kam se kouknu, kousek tebe mÃ¡m. [C] [G]\n\nRefrÃ©n\n\n[G]SkonÄili jsme jasnÃ¡ zprÃ¡va,\n[Emi]nenÃ­ komu z okna mÃ¡vat vÃ­c, [C] [D]\n[Ami]jasnÃ¡ zprÃ¡va, rub, co nemÃ¡ lÃ­c. [C] [G]"},
  {id:42,title:"Mezi horami",artist:"",key:"Am",content:"[Ami]Mezi horami, [G]lipka zelenÃ¡. [Ami] [C] [G] [C]\n|: Zabili Janka, JaniÄka, Janka, miesto jeleÅˆa. :| [C] [G] [Ami] [Emi] [Ami]\n\n[Ami]|: KeÄ ho zabili, zamordovali. :|  |: Na jeho hrobÄ›, kÅ™Ã­Å¾ postavili. :|\n\n[Ami]|: Ej kÅ™Ã­Å¾u, kÅ™Ã­Å¾u, ukÅ™iÅ¾ovanÃ½. :|  |: Zde leÅ¾Ã­ JanÃ­k, zamordovanÃ½. :|\n\n[Ami]|: Tu Å¡la AniÄka, plakat JaniÄka. :|  |: Hned na hrob padla a viac nevstala. :|\n\n---\ncap.3\n[Dmi]Mezi horami, [C]lipka zelenÃ¡. (dalÅ¡Ã­ sloky v Dmi)"},
  {id:43,title:"Sbohem galÃ¡neÄko",artist:"",key:"G",content:"[G]Sbohem galÃ¡neÄko jÃ¡ uÅ¾ musÃ­m jiti [Emi] [Ami] [D] [G] [A7]\nsbohem galÃ¡neÄko jÃ¡ uÅ¾ musÃ­m jiti [D] [Hmi] [Emi] [A] [D]\n|: KyselÃ© vÃ­neÄko, kyselÃ© vÃ­neÄko [Ami] [D] [G] [Ami] [D]\n[G]Podalas mnÄ› k pitÃ­ :| [Ami] [D] [G]\n\n[G]Sbohem galÃ¡neÄko ozluÄme sa v pÃ¡nu\n|: KyselÃ© vÃ­neÄko, kyselÃ© vÃ­neÄko\n[G]Podalas mnÄ› v dÅ¾bÃ¡nu :| [Ami] [D] [G]\n\n[G]AÄ bylo kyselÃ© pÅ™eca sem sa opil\n|: EÅ¡te vÄil sa stydÃ­m, eÅ¡te vÄil sa stydÃ­m\n[G]Co jsem vÅ¡echno tropil :| [Ami] [D] [G]\n\n[G]Ale sa nehnÄ›vÃ¡m Å¾es mÅˆa oÅ¡idila\n|: To ta moja Å¾Ã­zeÅˆ, to ta moja Å¾Ã­zeÅˆ\n[G]Ta to zavinila :| [Ami] [D] [G]"}
];
</script>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// STORAGE KEYS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const STORAGE_KEY = 'zpevnik_v1';
const STORAGE_SEEDED = 'zpevnik_seeded_v1';
const STORAGE_NL = 'zpevnik_nl_v1';
const STORAGE_THEME = 'zp_theme';

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SONGS â€” load from localStorage, seed DEFAULTS only once
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function loadSongs() {
  try {
    const r = localStorage.getItem(STORAGE_KEY);
    if (r) return JSON.parse(r);
  } catch(e) {}
  return null;
}
function persist() { try { localStorage.setItem(STORAGE_KEY, JSON.stringify(songs)); } catch(e) {} }

// Seed defaults only if never seeded before
let songs = loadSongs();
if (!songs) {
  // Load DEFAULTS from inline data â€” only runs ONCE ever
  songs = (typeof DEFAULTS !== 'undefined') ? DEFAULTS.map(s=>({...s})) : [];
  persist();
  try { localStorage.setItem(STORAGE_SEEDED, '1'); } catch(e) {}
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// STATE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let cur = null, showChords = true, fontSize = 17;
let scrolling = false, scrollLevel = 2, raf = null;
const SPEEDS = [0.2, 0.5, 1.0, 1.8, 3.0];
let isDark = false;


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// THEME
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function applyTheme() {
  document.body.classList.toggle('dark', isDark);
  document.getElementById('theme-btn').textContent = isDark ? 'â˜€ï¸' : 'ğŸŒ™';
}
function toggleTheme() {
  isDark = !isDark;
  applyTheme();
  try { localStorage.setItem(STORAGE_THEME, isDark ? '1' : '0'); } catch(e) {}
}
(()=>{ try { if (localStorage.getItem(STORAGE_THEME)==='1') isDark=true; } catch(e){} applyTheme(); })();

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// NAVIGATION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function show(id) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}
function enterApp() {
  show('screen-home');
  renderList();
}
function showHome() { stopScroll(); if(selectedWrap){selectedWrap.classList.remove("selected");selectedWrap=null;} show('screen-home'); renderList(); }
function showAdd() {
  ['f-title','f-artist','f-key','f-content'].forEach(id => document.getElementById(id).value = '');
  show('screen-add');
  setTimeout(() => document.getElementById('f-title').focus(), 150);
}
function openSong(id) {
  cur = songs.find(s => s.id === id);
  if (!cur) return;
  document.getElementById('v-title').textContent = cur.title;
  document.getElementById('v-artist').textContent = cur.artist || '';
  stopScroll();
  const sc = document.getElementById('sc-toggle');
  sc.textContent = 'â–¶ Scroll'; sc.classList.remove('on');
  renderSong();
  show('screen-song');
  document.getElementById('song-body').scrollTop = 0;
}
function showEdit() {
  if (!cur) return;
  document.getElementById('e-title').value = cur.title;
  document.getElementById('e-artist').value = cur.artist || '';
  document.getElementById('e-key').value = cur.key || '';
  document.getElementById('e-content').value = cur.content;
  show('screen-edit');
}
function cancelEdit() { if (cur) openSong(cur.id); else showHome(); }

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// RENDER LIST
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function esc(s) { return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

function renderList() {
  const q = (document.getElementById('srch-inp').value || '').trim().toLowerCase();
  let f;
  if (!q) {
    f = songs.map(s => ({song: s, snippet: null}));
  } else {
    f = songs.reduce((acc, s) => {
      const inTitle  = s.title.toLowerCase().includes(q);
      const inArtist = (s.artist||'').toLowerCase().includes(q);
      const inContent = s.content.toLowerCase().includes(q);
      if (!inTitle && !inArtist && !inContent) return acc;
      let snippet = null;
      if (!inTitle && !inArtist && inContent) {
        // Find context around match in content (strip chord brackets)
        const plain = s.content.replace(/\[[^\]]*\]/g, '');
        const idx = plain.toLowerCase().indexOf(q);
        if (idx !== -1) {
          const start = Math.max(0, idx - 30);
          const end = Math.min(plain.length, idx + q.length + 30);
          const raw = plain.slice(start, end).replace(/\n/g, ' ').trim();
          // Highlight match
          const re = new RegExp('(' + q.replace(/[.*+?^${}()|[\]\\]/g,'\\$&') + ')', 'gi');
          snippet = (start > 0 ? 'â€¦' : '') + raw.replace(re, '<mark>$1</mark>') + (end < plain.length ? 'â€¦' : '');
        }
      }
      acc.push({song: s, snippet});
      return acc;
    }, []);
  }
  const n = f.length;
  document.getElementById('cnt').textContent = n===0 ? 'Å½Ã¡dnÃ© vÃ½sledky' : n===1 ? '1 pÃ­seÅˆ' : n<5 ? n+' pÃ­snÄ›' : n+' pÃ­snÃ­';
  const el = document.getElementById('list');
  if (!f.length) { el.innerHTML = '<div class="empty">Nic nenalezeno ğŸ”</div>'; return; }
  el.innerHTML = f.map(({song: s, snippet}) => `
    <div class="card" onclick="openSong(${s.id})">
      <div style="flex:1;min-width:0">
        <div class="card-t">${esc(s.title)}</div>
        <div class="card-a">${esc(s.artist || 'NeznÃ¡mÃ½')}</div>
        ${snippet ? `<div class="card-snippet">${snippet}</div>` : ''}
      </div>
      <div class="card-r">
        ${s.key ? `<span class="kbdg">${esc(s.key)}</span>` : ''}
      </div>
    </div>`).join('');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// RENDER SONG with clickable chords
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderSong() {
  if (!cur) return;
  const body = document.getElementById('song-body');
  body.style.fontSize = fontSize + 'px';
  const lines = cur.content.split('\n');
  body.innerHTML = lines.map((line, li) => {
    if (!line.trim()) return '<div class="blank"></div>';
    const parts = [];
    let i = 0, ci = 0;
    while (i < line.length) {
      const ob = line.indexOf('[', i);
      if (ob === -1) { parts.push({type:'text', val:line.slice(i)}); break; }
      if (ob > i) parts.push({type:'text', val:line.slice(i, ob)});
      const cb = line.indexOf(']', ob);
      if (cb === -1) { parts.push({type:'text', val:line.slice(ob)}); break; }
      parts.push({type:'chord', val:line.slice(ob+1, cb), li, ci: ci++});
      i = cb + 1;
    }
    const html = parts.map(p => {
      if (p.type === 'chord') {
        if (!showChords) return '';
        return `<span class="ch-wrap" data-li="${p.li}" data-ci="${p.ci}">` +
          `<span class="ch-move-bar">` +
          `<button class="ch-mv-btn" onpointerdown="event.stopPropagation();mvChord(${p.li},${p.ci},-1)">â†</button>` +
          `<button class="ch-mv-btn" onpointerdown="event.stopPropagation();mvChord(${p.li},${p.ci},1)">â†’</button>` +
          `</span>` +
          `<span class="ch" onclick="selectChordWrap(this.parentNode)">${esc(p.val)}</span>` +
          `</span>`;
      }
      return `<span class="lyr">${esc(p.val)}</span>`;
    }).join('');
    return `<div class="line">${html}</div>`;
  }).join('');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CHORD MOVE â€” popup toolbar on chord
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let selectedWrap = null;

function selectChordWrap(wrap) {
  if (selectedWrap && selectedWrap !== wrap) {
    selectedWrap.classList.remove('selected');
  }
  if (selectedWrap === wrap) {
    wrap.classList.remove('selected');
    selectedWrap = null;
    return;
  }
  selectedWrap = wrap;
  wrap.classList.add('selected');
}

// Close popup when tapping elsewhere
document.getElementById('song-body').addEventListener('pointerdown', e => {
  if (!selectedWrap) return;
  if (!selectedWrap.contains(e.target)) {
    selectedWrap.classList.remove('selected');
    selectedWrap = null;
  }
});

function tokenizeLine(line) {
  const tokens = [];
  let i = 0;
  while (i < line.length) {
    const ob = line.indexOf('[', i);
    if (ob === -1) { tokens.push({type:'text', val:line.slice(i)}); break; }
    if (ob > i) tokens.push({type:'text', val:line.slice(i, ob)});
    const cb = line.indexOf(']', ob);
    if (cb === -1) { tokens.push({type:'text', val:line.slice(ob)}); break; }
    tokens.push({type:'chord', val:line.slice(ob+1, cb)});
    i = cb + 1;
  }
  return tokens;
}
function tokensToLine(tokens) {
  return tokens.map(t => t.type === 'chord' ? '['+t.val+']' : t.val).join('');
}

function mvChord(li, ci, dir) {
  if (!cur) return;
  const lines = cur.content.split('\n');
  const tokens = tokenizeLine(lines[li]);

  // Find target chord token index
  let chordCount = 0, tokenIdx = -1;
  for (let t = 0; t < tokens.length; t++) {
    if (tokens[t].type === 'chord') {
      if (chordCount === ci) { tokenIdx = t; break; }
      chordCount++;
    }
  }
  if (tokenIdx === -1) return;

  let newLi = li, newCi = ci;

  if (dir === -1) {
    // Try to move left within this line
    const prev = tokenIdx > 0 && tokens[tokenIdx-1].type === 'text' ? tokens[tokenIdx-1] : null;
    if (prev && prev.val.length > 0) {
      // Normal move left
      const ch = prev.val[prev.val.length - 1];
      prev.val = prev.val.slice(0, -1);
      const next = tokens[tokenIdx+1];
      if (next && next.type === 'text') next.val = ch + next.val;
      else tokens.splice(tokenIdx+1, 0, {type:'text', val:ch});
      lines[li] = tokensToLine(tokens);
    } else if (li > 0) {
      // At start of line â€” move chord to END of previous line
      tokens.splice(tokenIdx, 1); // remove chord from current line
      lines[li] = tokensToLine(tokens);
      // Rebuild chord count for new position
      const prevTokens = tokenizeLine(lines[li-1]);
      // Count chords in prev line to get new ci
      newCi = prevTokens.filter(t => t.type === 'chord').length;
      prevTokens.push({type:'chord', val: tokenizeLine(lines[li]+'')[0]?.val || ''});
      // Actually: extract the chord value from original tokens
      const chordVal = tokenizeLine(cur.content.split('\n')[li])[tokenIdx]?.val;
      // Re-extract from ORIGINAL since we already modified
      // Use a cleaner approach: work on strings
      const origLine = cur.content.split('\n')[li];
      const origTokens = tokenizeLine(origLine);
      let cc2 = 0; let chordV = '';
      for (const t of origTokens) { if(t.type==='chord'){if(cc2===ci){chordV=t.val;break;}cc2++;} }
      // Rebuild current line without the chord (insert its text around into surrounding)
      const cleanTokens = tokenizeLine(origLine);
      let cIdx2 = -1, cc3 = 0;
      for(let t=0;t<cleanTokens.length;t++){if(cleanTokens[t].type==='chord'){if(cc3===ci){cIdx2=t;break;}cc3++;}}
      // Merge surrounding text and remove chord
      if (cIdx2 !== -1) {
        const before = cIdx2 > 0 && cleanTokens[cIdx2-1].type==='text' ? cleanTokens[cIdx2-1].val : '';
        const after = cIdx2 < cleanTokens.length-1 && cleanTokens[cIdx2+1].type==='text' ? cleanTokens[cIdx2+1].val : '';
        const merged = {type:'text', val: before + after};
        const newTokens = cleanTokens.filter((_,idx)=>idx!==cIdx2);
        // merge adjacent texts
        if (cIdx2 > 0 && newTokens[cIdx2-1]?.type==='text' && newTokens[cIdx2]?.type==='text') {
          newTokens[cIdx2-1].val += newTokens[cIdx2].val;
          newTokens.splice(cIdx2, 1);
        }
        lines[li] = tokensToLine(newTokens);
      }
      // Append chord to end of prev line
      newLi = li - 1;
      newCi = tokenizeLine(lines[li-1]).filter(t=>t.type==='chord').length;
      lines[li-1] = lines[li-1] + '[' + chordV + ']';
    } else {
      return; // Can't move further left
    }
  } else {
    // Try to move right within this line
    const next = tokenIdx < tokens.length-1 && tokens[tokenIdx+1].type === 'text' ? tokens[tokenIdx+1] : null;
    if (next && next.val.length > 0) {
      // Normal move right
      const ch = next.val[0];
      next.val = next.val.slice(1);
      const prev = tokens[tokenIdx-1];
      if (prev && prev.type === 'text') prev.val = prev.val + ch;
      else tokens.splice(tokenIdx, 0, {type:'text', val:ch});
      lines[li] = tokensToLine(tokens);
    } else if (li < lines.length - 1) {
      // At end of line â€” move chord to START of next line
      const origLine = cur.content.split('\n')[li];
      const origTokens = tokenizeLine(origLine);
      let cc2 = 0; let chordV = '';
      for (const t of origTokens) { if(t.type==='chord'){if(cc2===ci){chordV=t.val;break;}cc2++;} }
      // Remove chord from current line (merge surrounding text)
      let cIdx2 = -1, cc3 = 0;
      for(let t=0;t<origTokens.length;t++){if(origTokens[t].type==='chord'){if(cc3===ci){cIdx2=t;break;}cc3++;}}
      if (cIdx2 !== -1) {
        const newTokens = [...origTokens];
        if (cIdx2 > 0 && newTokens[cIdx2-1]?.type==='text' && cIdx2 < newTokens.length-1 && newTokens[cIdx2+1]?.type==='text') {
          newTokens[cIdx2-1].val += newTokens[cIdx2+1].val;
          newTokens.splice(cIdx2, 2);
        } else {
          newTokens.splice(cIdx2, 1);
          if (cIdx2 > 0 && newTokens[cIdx2-1]?.type==='text' && newTokens[cIdx2]?.type==='text') {
            newTokens[cIdx2-1].val += newTokens[cIdx2].val;
            newTokens.splice(cIdx2, 1);
          }
        }
        lines[li] = tokensToLine(newTokens);
      }
      // Prepend chord to start of next line
      newLi = li + 1;
      newCi = 0;
      lines[li+1] = '[' + chordV + ']' + lines[li+1];
    } else {
      return; // Can't move further right
    }
  }

  cur.content = lines.join('\n');
  persist();
  renderSong();
  setTimeout(() => {
    const w = document.querySelector(`.ch-wrap[data-li="${newLi}"][data-ci="${newCi}"]`);
    if (w) { selectedWrap = w; w.classList.add('selected'); }
  }, 0);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// TRANSPOSE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const CHROMATIC = ['C','C#','D','D#','E','F','F#','G','G#','A','A#','B'];
const ENHARMONIC = {'Db':'C#','Eb':'D#','Gb':'F#','Ab':'G#','Bb':'A#'};

function transposeNote(note, steps) {
  const n = ENHARMONIC[note] || note;
  const idx = CHROMATIC.indexOf(n);
  if (idx === -1) return note; // unknown, leave it
  return CHROMATIC[(idx + steps + 12) % 12];
}

function transposeChord(chord, steps) {
  // Match root note (with optional #/b) + rest (m, maj7, sus, etc.)
  const m = chord.match(/^([A-G][#b]?)(.*)/);
  if (!m) return chord;
  const newRoot = transposeNote(m[1], steps);
  // Also transpose bass note if present e.g. Am/E
  const rest = m[2].replace(/\/([A-G][#b]?)/, (_, bass) => '/' + transposeNote(bass, steps));
  return newRoot + rest;
}

function transposeAll(steps) {
  if (!cur) return;
  cur.content = cur.content.replace(/\[([^\]]+)\]/g, (_, chord) => {
    return '[' + transposeChord(chord, steps) + ']';
  });
  persist();
  renderSong();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SONG CONTROLS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function toggleChords() {
  showChords = !showChords;
  const b = document.getElementById('chord-btn');
  b.textContent = showChords ? 'Akordy âœ“' : 'Akordy';
  b.classList.toggle('on', showChords);
  renderSong();
}
function changeFontSize(d) {
  fontSize = Math.max(12, Math.min(28, fontSize+d));
  if (cur) document.getElementById('song-body').style.fontSize = fontSize+'px';
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// AUTOSCROLL
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function toggleScroll() {
  const b = document.getElementById('sc-toggle');
  if (scrolling) { stopScroll(); b.textContent='â–¶ Scroll'; b.classList.remove('on'); }
  else { startScroll(); b.textContent='â¸ Scroll'; b.classList.add('on'); }
}
function startScroll() {
  scrolling = true;
  const el = document.getElementById('song-body');
  let acc = 0;
  function step() {
    if (!scrolling) return;
    acc += SPEEDS[scrollLevel];
    if (acc >= 1) { const px=Math.floor(acc); el.scrollTop+=px; acc-=px; }
    if (el.scrollTop + el.clientHeight >= el.scrollHeight - 2) {
      stopScroll();
      document.getElementById('sc-toggle').textContent='â–¶ Scroll';
      document.getElementById('sc-toggle').classList.remove('on');
      return;
    }
    raf = requestAnimationFrame(step);
  }
  raf = requestAnimationFrame(step);
}
function stopScroll() { scrolling=false; if(raf){cancelAnimationFrame(raf);raf=null;} }
function changeSpeed(d) {
  scrollLevel = Math.max(0, Math.min(4, scrollLevel+d));
  document.getElementById('spdlbl').textContent = ['Ã—1','Ã—2','Ã—3','Ã—4','Ã—5'][scrollLevel];
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SAVE / EDIT SONG
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function saveSong() {
  const t = document.getElementById('f-title').value.trim();
  const c = document.getElementById('f-content').value.trim();
  if (!t||!c) { alert('VyplÅˆ nÃ¡zev a text!'); return; }
  const id = Date.now();
  songs.unshift({id, title:t, artist:document.getElementById('f-artist').value.trim(), key:document.getElementById('f-key').value.trim(), content:c});
  persist(); showHome();
}
function saveEdit() {
  const t = document.getElementById('e-title').value.trim();
  const c = document.getElementById('e-content').value.trim();
  if (!t||!c) { alert('VyplÅˆ nÃ¡zev a text!'); return; }
  const idx = songs.findIndex(s => s.id === cur.id);
  if (idx === -1) return;

  const newKey = document.getElementById('e-key').value.trim();
  const oldKey = cur.key || '';
  let newContent = c;

  // Auto-transpose if key changed and both keys are valid notes
  if (newKey && oldKey && newKey !== oldKey) {
    const oldRoot = (ENHARMONIC[oldKey] || oldKey).toUpperCase();
    const newRoot = (ENHARMONIC[newKey] || newKey).toUpperCase();
    const oldIdx = CHROMATIC.indexOf(oldRoot);
    const newIdx = CHROMATIC.indexOf(newRoot);
    if (oldIdx !== -1 && newIdx !== -1) {
      const steps = (newIdx - oldIdx + 12) % 12;
      if (steps !== 0) {
        newContent = c.replace(/\[([^\]]+)\]/g, (_, chord) => '[' + transposeChord(chord, steps) + ']');
      }
    }
  }

  songs[idx] = {...songs[idx], title:t, artist:document.getElementById('e-artist').value.trim(), key:newKey, content:newContent};
  cur = songs[idx];
  persist();
  openSong(cur.id);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// NÃPOJOVÃ LÃSTEK
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let drinks = [];
function loadDrinks() {
  try { const r = localStorage.getItem(STORAGE_NL); if(r) drinks=JSON.parse(r); } catch(e) {}
}
function persistDrinks() { try { localStorage.setItem(STORAGE_NL, JSON.stringify(drinks)); } catch(e) {} }
loadDrinks();

function openNL() {
  document.getElementById('nl-overlay').classList.add('open');
  document.getElementById('nl-panel').classList.add('open');
  renderDrinks();
  scheduleDrinkTimer();
}
function closeNL() {
  document.getElementById('nl-overlay').classList.remove('open');
  document.getElementById('nl-panel').classList.remove('open');
}

function tally(n) {
  // Czech tally marks: groups of 5 as IIII with diagonal
  if (n === 0) return '';
  let s = '';
  const full = Math.floor(n/5);
  const rem = n%5;
  for (let i=0;i<full;i++) s += 'ğ¸ '; // or just use text
  // Use simple I marks
  s = '';
  for (let i=0;i<full;i++) s += 'IIIII ';
  for (let i=0;i<rem;i++) s += 'I';
  return s.trim();
}

function timeAgo(ts) {
  if (!ts) return '';
  const mins = Math.floor((Date.now() - ts) / 60000);
  if (mins < 1) return 'PrÃ¡vÄ› teÄ';
  if (mins === 1) return 'PÅ™ed 1 minutou';
  if (mins < 5) return `PÅ™ed ${mins} minutami`;
  if (mins < 60) return `PÅ™ed ${mins} min`;
  const hrs = Math.floor(mins / 60);
  const rem = mins % 60;
  if (rem === 0) return `PÅ™ed ${hrs} hod`;
  return `PÅ™ed ${hrs} hod ${rem} min`;
}

function renderDrinks() {
  const el = document.getElementById('nl-body');
  if (!drinks.length) {
    el.innerHTML = '<div class="nl-empty">Å½Ã¡dnÃ© nÃ¡poje.<br>PÅ™idej prvnÃ­! ğŸº</div>';
    return;
  }
  el.innerHTML = drinks.map((d,i) => `
    <div class="nl-item">
      <div style="flex:1;min-width:0">
        <div class="nl-item-name">${esc(d.name)}</div>
        ${d.lastAt ? `<div class="nl-time">${timeAgo(d.lastAt)}</div>` : ''}
        <div class="nl-tally">${tally(d.count)}</div>
      </div>
      <div style="display:flex;align-items:center;gap:4px;margin-left:8px">
        <button class="nl-btn" onclick="changeDrink(${i},-1)">âˆ’</button>
        <span class="nl-count">${d.count}</span>
        <button class="nl-btn plus" onclick="changeDrink(${i},1)">+</button>
        <button class="nl-delbtn" onclick="deleteDrink(${i})">ğŸ—‘</button>
      </div>
    </div>`).join('');
}

function changeDrink(i, d) {
  drinks[i].count = Math.max(0, drinks[i].count + d);
  if (d > 0) drinks[i].lastAt = Date.now();
  if (drinks[i].count === 0) delete drinks[i].lastAt;
  persistDrinks();
  renderDrinks();
  scheduleDrinkTimer();
}
function deleteDrink(i) {
  if (!confirm('Smazat nÃ¡poj?')) return;
  drinks.splice(i,1);
  persistDrinks();
  renderDrinks();
}
function resetAll() {
  if (!confirm('Vynulovat vÅ¡echny ÄÃ¡rky?')) return;
  drinks.forEach(d => { d.count=0; delete d.lastAt; });
  persistDrinks();
  renderDrinks();
}

// Live timer â€” refresh time labels every 30s while NL panel is open
let drinkTimer = null;
function scheduleDrinkTimer() {
  if (drinkTimer) return;
  drinkTimer = setInterval(() => {
    if (document.getElementById('nl-panel').classList.contains('open')) {
      renderDrinks();
    } else {
      clearInterval(drinkTimer);
      drinkTimer = null;
    }
  }, 30000);
}

function quickDrink(name) {
  // If already exists, just close modal â€” user can tap + on existing item
  if (!drinks.find(d => d.name === name)) {
    drinks.push({name, count:0});
    persistDrinks();
  }
  closeDrinkModal();
  renderDrinks();
}
function showAddDrink() {
  document.getElementById('drink-inp').value = '';
  document.getElementById('drink-overlay').classList.add('open');
  document.getElementById('drink-modal').classList.add('open');
  setTimeout(() => document.getElementById('drink-inp').focus(), 100);
}
function closeDrinkModal() {
  document.getElementById('drink-overlay').classList.remove('open');
  document.getElementById('drink-modal').classList.remove('open');
}
function addDrink() {
  const name = document.getElementById('drink-inp').value.trim();
  if (!name) return;
  drinks.push({name, count:0});
  persistDrinks();
  closeDrinkModal();
  renderDrinks();
}
document.getElementById('drink-inp').addEventListener('keydown', e => {
  if (e.key === 'Enter') addDrink();
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// INIT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
renderList();
</script>
</body>
</html>
