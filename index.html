<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="apple-mobile-web-app-title" content="ZpÄvnÃ­k">
<meta name="theme-color" id="theme-color" content="#ff6b00">
<link rel="manifest" href="manifest.json">
<title>ZpÄvnÃ­k</title>
<style>
*{box-sizing:border-box;margin:0;padding:0;-webkit-tap-highlight-color:transparent}
:root{
  --bg:#fff;--bg2:#f7f7f7;--bg3:#eeeeee;--border:#e0e0e0;
  --accent:#ff6b00;--accent2:#e05a00;
  --text:#1a1a1a;--text2:#555;--text3:#999;
  --chord-bg:#fff0e6;--chord:#cc4400;
}
body.dark{
  --bg:#111111;--bg2:#1e1e1e;--bg3:#2a2a2a;--border:#333333;
  --accent:#ff6b00;--accent2:#e05a00;
  --text:#d0d0d0;--text2:#999999;--text3:#555555;
  --chord-bg:#2a1e10;--chord:#ff8533;
}
html,body{height:100%;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,sans-serif;overflow:hidden}

/* ââ SCREENS ââ */
.screen{display:none;flex-direction:column;height:100dvh}
.screen.active{display:flex}

/* HOME */
.home-top{display:flex;align-items:center;justify-content:space-between;padding:16px 16px 12px;border-bottom:1.5px solid var(--border);background:var(--bg)}
.logo{font-size:22px;font-weight:800;color:var(--accent)}
.hdr-r{display:flex;gap:8px}
.ibtn{background:var(--bg2);border:1.5px solid var(--border);color:var(--text);border-radius:12px;width:46px;height:46px;font-size:18px;cursor:pointer;display:flex;align-items:center;justify-content:center;flex-shrink:0}
.ibtn:active{background:var(--bg3)}
.add-btn{background:var(--accent);border:none;color:#fff;border-radius:12px;height:46px;padding:0 20px;font-size:15px;font-weight:700;font-family:inherit;cursor:pointer}
.add-btn:active{background:var(--accent2)}
.srch{display:flex;align-items:center;gap:10px;margin:12px 16px 6px;background:var(--bg2);border:1.5px solid var(--border);border-radius:14px;padding:0 14px;height:50px}
.srch:focus-within{border-color:var(--accent)}
.srch input{background:none;border:none;outline:none;color:var(--text);font-family:inherit;font-size:16px;width:100%}
.srch input::placeholder{color:var(--text3)}
.cnt{color:var(--text3);font-size:13px;font-weight:500;padding:2px 16px 8px}
.list{flex:1;overflow-y:auto;padding:0 16px 24px}
.card{display:flex;align-items:center;justify-content:space-between;border:1.5px solid var(--border);border-radius:16px;padding:16px;margin-bottom:10px;cursor:pointer;background:var(--bg)}
.card:active{background:var(--bg2);border-color:var(--accent)}
.card-t{font-size:17px;font-weight:700;margin-bottom:3px}
.card-a{font-size:13px;color:var(--text3)}
.card-r{display:flex;align-items:center;gap:8px}
.kbdg{background:var(--chord-bg);color:var(--chord);border-radius:8px;padding:4px 10px;font-size:13px;font-weight:700;font-family:monospace}
.delbtn{background:none;border:none;color:var(--text3);font-size:20px;width:38px;height:38px;display:flex;align-items:center;justify-content:center;cursor:pointer;border-radius:10px}
.delbtn:active{background:var(--bg3)}
.empty{color:var(--text3);text-align:center;padding:60px 20px;font-size:15px;line-height:1.8}
.card-snippet{font-size:12px;color:var(--text3);margin-top:5px;line-height:1.5;font-style:italic}
.card-snippet mark{background:color-mix(in srgb,var(--accent) 25%,transparent);color:var(--accent);border-radius:3px;padding:0 2px;font-style:normal;font-weight:700}

/* SONG VIEW */
.song-hdr{background:var(--bg);border-bottom:1.5px solid var(--border);flex-shrink:0}
.song-top{display:flex;align-items:center;gap:10px;padding:12px 16px 10px}
.back-btn{background:var(--bg2);border:1.5px solid var(--border);color:var(--text);border-radius:12px;height:48px;padding:0 16px;font-size:15px;font-weight:700;font-family:inherit;cursor:pointer;display:flex;align-items:center;gap:6px;flex-shrink:0}
.back-btn:active{background:var(--bg3)}
.song-info{flex:1;min-width:0}
.song-info h2{font-size:18px;font-weight:800;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.song-info .sub{color:var(--text3);font-size:13px}
.ctrls{display:flex;gap:8px;padding:0 16px 12px;overflow-x:auto}
.cbtn{background:var(--bg2);border:1.5px solid var(--border);color:var(--text2);border-radius:12px;height:44px;padding:0 18px;font-size:14px;font-weight:700;font-family:inherit;cursor:pointer;white-space:nowrap;flex-shrink:0}
.cbtn:active{background:var(--bg3)}
.cbtn.on{border-color:var(--accent);color:var(--accent)}
.song-body{flex:1;overflow-y:auto;overflow-x:hidden;padding:18px 18px 6px;-webkit-overflow-scrolling:touch}
.line{margin-bottom:0;font-family:monospace}

.chord-row{display:block;min-height:1.2em;line-height:1.3;white-space:pre;overflow:hidden;color:var(--chord);font-weight:800;font-size:1em}
.text-row{display:block;line-height:1.6;white-space:pre-wrap;word-break:break-word}
.ch{display:inline;color:var(--chord);font-weight:800;cursor:pointer;touch-action:none;user-select:none}.ch.active{background:var(--chord-bg);border-radius:3px;outline:2px solid var(--accent)}
.lyr{display:inline}.blank{height:10px}
.scbar{display:flex;align-items:center;gap:8px;padding:10px 16px;border-top:1.5px solid var(--border);background:var(--bg);flex-shrink:0}
.scbtn{background:var(--bg2);border:1.5px solid var(--border);color:var(--text);border-radius:12px;height:44px;padding:0 16px;font-size:14px;font-weight:700;font-family:inherit;cursor:pointer;white-space:nowrap}
.scbtn:active{background:var(--bg3)}
.scbtn.on{background:var(--accent);border-color:var(--accent);color:#fff}
.spdbtn{background:var(--bg2);border:1.5px solid var(--border);color:var(--text);border-radius:12px;width:44px;height:44px;font-size:18px;font-weight:700;cursor:pointer;display:flex;align-items:center;justify-content:center;flex-shrink:0}
.spdbtn:active{background:var(--bg3)}
.spdlbl{color:var(--text3);font-size:13px;font-weight:700;min-width:26px;text-align:center}

/* ADD / EDIT FORM */
.form-hdr{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;border-bottom:1.5px solid var(--border)}
.form-hdr h2{font-size:20px;font-weight:800}
.cancbtn{background:var(--bg2);border:1.5px solid var(--border);color:var(--text2);border-radius:12px;height:46px;padding:0 18px;font-size:15px;font-weight:700;font-family:inherit;cursor:pointer}
.cancbtn:active{background:var(--bg3)}
.fbody{flex:1;overflow-y:auto;padding:16px}
.hint{background:var(--chord-bg);border:1px solid var(--border);border-radius:12px;padding:12px 14px;color:var(--text2);font-size:13px;line-height:1.7;margin-bottom:16px}
.hint code{background:var(--bg);color:var(--chord);font-family:monospace;padding:1px 5px;border-radius:4px}
.fld{margin-bottom:14px}
.fld label{display:block;color:var(--text3);font-size:12px;font-weight:700;margin-bottom:6px;text-transform:uppercase;letter-spacing:.06em}
.inp{width:100%;background:var(--bg2);border:1.5px solid var(--border);border-radius:12px;padding:14px 16px;color:var(--text);font-family:inherit;font-size:16px;outline:none;-webkit-appearance:none}
.inp:focus{border-color:var(--accent)}
.inp::placeholder{color:var(--text3)}
textarea.inp{font-family:monospace;font-size:14px;line-height:1.8;resize:none;min-height:240px}
.ffoot{padding:12px 16px;border-top:1.5px solid var(--border)}
.savebtn{width:100%;background:var(--accent);color:#fff;border:none;border-radius:14px;height:54px;font-size:16px;font-weight:800;font-family:inherit;cursor:pointer}
.savebtn:active{background:var(--accent2)}
::-webkit-scrollbar{width:3px}
::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px}

/* SPLASH */
.splash-bg {
  flex: 1;
  background: linear-gradient(160deg, #ff6b00 0%, #e05000 60%, #c03800 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  position: relative;
}
.splash-bg::before {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(ellipse at 30% 20%, rgba(255,255,255,0.12) 0%, transparent 60%);
}
.splash-inner {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0;
  position: relative;
  z-index: 1;
}
.splash-guitar {
  transform-origin: 60px 30px;
  animation: swing 2.8s ease-in-out infinite;
  filter: drop-shadow(0 8px 24px rgba(0,0,0,0.35));
  margin-bottom: 24px;
}
@keyframes swing {
  0%   { transform: rotate(-8deg); }
  50%  { transform: rotate(8deg); }
  100% { transform: rotate(-8deg); }
}
.splash-title {
  font-size: 42px;
  font-weight: 900;
  color: #fff;
  letter-spacing: -1px;
  text-shadow: 0 2px 12px rgba(0,0,0,0.2);
  margin-bottom: 6px;
}
.splash-sub {
  font-size: 16px;
  color: rgba(255,255,255,0.75);
  font-weight: 500;
  margin-bottom: 36px;
}
.splash-btn {
  background: rgba(255,255,255,0.18);
  border: 2px solid rgba(255,255,255,0.7);
  color: #fff;
  border-radius: 16px;
  height: 54px;
  padding: 0 36px;
  font-size: 18px;
  font-weight: 800;
  font-family: inherit;
  cursor: pointer;
  backdrop-filter: blur(4px);
}
.splash-btn:active { background: rgba(255,255,255,0.28); }

/* ADMIN LOGIN MODAL */
.admin-overlay {
  display: none; position: fixed; inset: 0;
  background: rgba(0,0,0,0.55); z-index: 200;
  align-items: center; justify-content: center;
}
.admin-overlay.open { display: flex; }
.admin-modal {
  background: var(--bg); border: 1.5px solid var(--border);
  border-radius: 20px; padding: 28px 24px 24px;
  width: 88%; max-width: 340px;
  box-shadow: 0 8px 40px rgba(0,0,0,0.25);
}
.admin-modal h3 { font-size: 20px; font-weight: 800; margin-bottom: 6px; }
.admin-modal p { color: var(--text3); font-size: 13px; margin-bottom: 18px; }
.admin-modal .inp { margin-bottom: 14px; }
.admin-modal-btns { display: flex; gap: 10px; }
.admin-modal-btns .savebtn { flex: 1; height: 48px; }
.admin-modal-btns .cancbtn { height: 48px; }
.admin-badge {
  background: var(--accent); color: #fff;
  border-radius: 8px; font-size: 11px; font-weight: 800;
  padding: 2px 8px; margin-left: 8px; vertical-align: middle;
  letter-spacing: .04em;
}
/* GITHUB UPDATE MODAL */
.gh-overlay {
  display: none; position: fixed; inset: 0;
  background: rgba(0,0,0,0.55); z-index: 200;
  align-items: center; justify-content: center;
}
.gh-overlay.open { display: flex; }
.gh-modal {
  background: var(--bg); border: 1.5px solid var(--border);
  border-radius: 20px; padding: 28px 24px 24px;
  width: 88%; max-width: 360px;
  box-shadow: 0 8px 40px rgba(0,0,0,0.25);
}
.gh-modal h3 { font-size: 20px; font-weight: 800; margin-bottom: 8px; }
.gh-modal p { color: var(--text2); font-size: 14px; line-height: 1.6; margin-bottom: 18px; }
.gh-modal .savebtn { width: 100%; height: 52px; font-size: 16px; margin-bottom: 10px; }
.gh-modal .cancbtn { width: 100%; height: 44px; }
.gh-status { font-size: 13px; color: var(--text3); text-align: center; margin-top: 12px; min-height: 20px; }
.gh-status.ok { color: #22a84a; font-weight: 700; }
.gh-status.err { color: #e05a00; font-weight: 700; }
.logo-clickable { cursor: pointer; user-select: none; }
.logo-clickable:active { opacity: 0.7; }
</style>
</head>
<body>

<!-- SPLASH -->
<div class="screen active" id="screen-splash">
  <div class="splash-bg">
    <div class="splash-inner">
      <div class="splash-guitar" id="splash-guitar">
        <svg viewBox="0 0 120 260" xmlns="http://www.w3.org/2000/svg" width="120" height="260">
          <!-- Strap -->
          <path d="M58 8 Q20 40 18 130 Q16 200 52 240" stroke="rgba(255,255,255,0.35)" stroke-width="5" fill="none" stroke-linecap="round"/>
          <!-- Neck -->
          <rect x="52" y="8" width="16" height="110" rx="7" fill="#c8860a"/>
          <!-- Frets -->
          <line x1="52" y1="35" x2="68" y2="35" stroke="rgba(255,255,255,0.5)" stroke-width="1.5"/>
          <line x1="52" y1="52" x2="68" y2="52" stroke="rgba(255,255,255,0.5)" stroke-width="1.5"/>
          <line x1="52" y1="69" x2="68" y2="69" stroke="rgba(255,255,255,0.5)" stroke-width="1.5"/>
          <line x1="52" y1="86" x2="68" y2="86" stroke="rgba(255,255,255,0.5)" stroke-width="1.5"/>
          <line x1="52" y1="103" x2="68" y2="103" stroke="rgba(255,255,255,0.5)" stroke-width="1.5"/>
          <!-- Nut -->
          <rect x="50" y="110" width="20" height="5" rx="2" fill="rgba(255,255,255,0.7)"/>
          <!-- Body upper bout -->
          <ellipse cx="60" cy="148" rx="36" ry="28" fill="#d4880c"/>
          <!-- Body waist -->
          <rect x="36" y="160" width="48" height="20" rx="4" fill="#d4880c"/>
          <!-- Body lower bout -->
          <ellipse cx="60" cy="200" rx="42" ry="36" fill="#d4880c"/>
          <!-- Body shading -->
          <ellipse cx="60" cy="200" rx="42" ry="36" fill="rgba(0,0,0,0.08)"/>
          <ellipse cx="50" cy="192" rx="22" ry="20" fill="rgba(255,255,255,0.06)"/>
          <!-- Sound hole -->
          <circle cx="60" cy="175" r="14" fill="rgba(0,0,0,0.45)"/>
          <circle cx="60" cy="175" r="14" fill="none" stroke="rgba(255,255,255,0.25)" stroke-width="2"/>
          <circle cx="60" cy="175" r="10" fill="none" stroke="rgba(255,255,255,0.12)" stroke-width="1"/>
          <!-- Strings -->
          <line x1="54" y1="14" x2="53" y2="185" stroke="rgba(255,255,255,0.55)" stroke-width="0.8"/>
          <line x1="57" y1="14" x2="56" y2="185" stroke="rgba(255,255,255,0.55)" stroke-width="0.8"/>
          <line x1="60" y1="14" x2="60" y2="185" stroke="rgba(255,255,255,0.55)" stroke-width="0.9"/>
          <line x1="63" y1="14" x2="64" y2="185" stroke="rgba(255,255,255,0.55)" stroke-width="0.8"/>
          <line x1="66" y1="14" x2="67" y2="185" stroke="rgba(255,255,255,0.55)" stroke-width="0.8"/>
          <line x1="69" y1="14" x2="70" y2="185" stroke="rgba(255,255,255,0.55)" stroke-width="1.1"/>
          <!-- Bridge -->
          <rect x="44" y="218" width="32" height="7" rx="3" fill="#a06208"/>
          <!-- Tuning pegs -->
          <circle cx="48" cy="14" r="4" fill="#a06208"/>
          <circle cx="53" cy="10" r="4" fill="#a06208"/>
          <circle cx="58" cy="8"  r="4" fill="#a06208"/>
          <circle cx="72" cy="14" r="4" fill="#a06208"/>
          <circle cx="67" cy="10" r="4" fill="#a06208"/>
          <circle cx="62" cy="8"  r="4" fill="#a06208"/>
          <!-- Headstock shape -->
          <rect x="46" y="6" width="28" height="18" rx="6" fill="#c8860a"/>
          <rect x="46" y="6" width="28" height="18" rx="6" fill="rgba(0,0,0,0.12)"/>
          <!-- Tuning pegs on headstock -->
          <circle cx="50" cy="10" r="3" fill="#8a5200"/>
          <circle cx="50" cy="20" r="3" fill="#8a5200"/>
          <circle cx="60" cy="8"  r="3" fill="#8a5200"/>
          <circle cx="60" cy="22" r="3" fill="#8a5200"/>
          <circle cx="70" cy="10" r="3" fill="#8a5200"/>
          <circle cx="70" cy="20" r="3" fill="#8a5200"/>
        </svg>
      </div>
      <div class="splash-title">ZpÄvnÃ­k</div>
      <div class="splash-sub">OtevÅi a zahraj</div>
      <button class="splash-btn" onclick="enterApp()">Vstoupit â</button>
    </div>
  </div>
</div>

<!-- HOME -->
<div class="screen" id="screen-home">
  <div class="home-top">
    <div class="logo logo-clickable" onclick="logoClick()" title="Admin pÅihlÃ¡Å¡enÃ­">âª ZpÄvnÃ­k<span class="admin-badge" id="admin-badge" style="display:none">ADMIN</span></div>
    <div class="hdr-r">
      <button class="ibtn" id="theme-btn" onclick="toggleTheme()">ð</button>
      <button class="add-btn" id="add-btn" onclick="showAdd()" style="display:none">+ PÅidat</button>
      <button class="add-btn" id="update-btn" onclick="showGithubUpdate()" style="display:none;background:#333;border:none;margin-left:4px">âï¸ UloÅ¾it</button>
    </div>
  </div>
  <div class="srch">
    <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
    <input id="srch-inp" type="search" placeholder="Hledat nÃ¡zev, interpret, textâ¦" oninput="renderList()" autocomplete="off">
  </div>
  <div class="cnt" id="cnt"></div>
  <div class="list" id="list"></div>
  <button class="nl-fab" onclick="openNL()" title="NÃ¡pojovÃ½ lÃ­stek">ðº</button>
</div>

<!-- SONG -->
<div class="screen" id="screen-song">
  <div class="song-hdr">
    <div class="song-top">
      <button class="back-btn" onclick="showHome()">
        <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><path d="M15 18l-6-6 6-6"/></svg>
        ZpÄt
      </button>
      <div class="song-info">
        <h2 id="v-title"></h2>
        <div class="sub" id="v-artist"></div>
      </div>
    </div>
    <div class="ctrls">
      <button class="cbtn" onclick="changeFontSize(-2)">Aâ</button>
      <button class="cbtn" onclick="changeFontSize(2)">A+</button>
      <button class="cbtn on" id="chord-btn" onclick="toggleChords()">Akordy â</button>
      <button class="cbtn" id="edit-btn" onclick="showEdit()" style="display:none">âï¸ Upravit</button>
      <button class="cbtn" onclick="transposeAll(-1)">â­ â1</button>
      <button class="cbtn" onclick="transposeAll(1)">â¯ +1</button>
    </div>
  </div>
  <div class="song-body" id="song-body"></div>
  <div class="scbar">
    <button class="scbtn" id="sc-toggle" onclick="toggleScroll()">â¶ Scroll</button>
    <button class="spdbtn" onclick="changeSpeed(-1)">â</button>
    <span class="spdlbl" id="spdlbl">Ã1</span>
    <button class="spdbtn" onclick="changeSpeed(1)">+</button>
  </div>
</div>

<!-- ADD -->
<div class="screen" id="screen-add">
  <div class="form-hdr">
    <h2>PÅidat pÃ­seÅ</h2>
    <button class="cancbtn" onclick="showHome()">ZruÅ¡it</button>
  </div>
  <div class="fbody">
    <div class="hint">Akordy piÅ¡ pÅÃ­mo v textu do hranatÃ½ch zÃ¡vorek:<br><code>[Am]Text pÃ­snÄ [F]pokraÄovÃ¡nÃ­</code></div>
    <div class="fld"><label>NÃ¡zev *</label><input class="inp" id="f-title" type="text" placeholder="NÃ¡zev pÃ­snÄ"></div>
    <div class="fld"><label>Interpret</label><input class="inp" id="f-artist" type="text" placeholder="JmÃ©no interpreta"></div>
    <div class="fld"><label>TÃ³nina</label><input class="inp" id="f-key" type="text" placeholder="G, Am, Câ¦" style="max-width:120px"></div>
    <div class="fld"><label>Text s akordy *</label><textarea class="inp" id="f-content" placeholder="[G]KdyÅ¾ se s vinem probouzÃ­ denâ¦"></textarea></div>
  </div>
  <div class="ffoot"><button class="savebtn" onclick="saveSong()">UloÅ¾it pÃ­seÅ</button></div>
</div>

<!-- EDIT SONG (same structure as ADD) -->
<div class="screen" id="screen-edit">
  <div class="form-hdr">
    <h2>Upravit pÃ­seÅ</h2>
    <button class="cancbtn" onclick="cancelEdit()">ZruÅ¡it</button>
  </div>
  <div class="fbody">
    <div class="hint">Akordy piÅ¡ pÅÃ­mo v textu do hranatÃ½ch zÃ¡vorek:<br><code>[Am]Text pÃ­snÄ [F]pokraÄovÃ¡nÃ­</code><br><br>
    <strong>PÅesun akordu:</strong> klikni na akord v nÃ¡hledu â pak â â posunout</div>
    <div class="fld"><label>NÃ¡zev *</label><input class="inp" id="e-title" type="text"></div>
    <div class="fld"><label>Interpret</label><input class="inp" id="e-artist" type="text"></div>
    <div class="fld"><label>TÃ³nina</label><input class="inp" id="e-key" type="text" style="max-width:120px"></div>
    <div class="fld"><label>Text s akordy *</label><textarea class="inp" id="e-content"></textarea></div>
  </div>
  <div class="ffoot"><button class="savebtn" onclick="saveEdit()">UloÅ¾it zmÄny</button></div>
</div>

<!-- NAPOJOVY LISTEK -->
<div class="nl-overlay" id="nl-overlay" onclick="closeNL()"></div>
<div class="nl-panel" id="nl-panel">
  <div class="nl-hdr">
    <span class="nl-title">ðº NÃ¡pojovÃ½ lÃ­stek</span>
    <div style="display:flex;gap:8px">
      <button class="nl-addbtn" onclick="showAddDrink()">+ NÃ¡poj</button>
      <button class="nl-closebtn" onclick="closeNL()">â</button>
    </div>
  </div>
  <div class="nl-body" id="nl-body"></div>
  <div class="nl-footer">
    <div id="nl-total" style="text-align:center;font-size:15px;font-weight:700;color:var(--accent);padding:6px 0 10px;display:none"></div>
    <button class="nl-resetbtn" onclick="resetAll()">Vynulovat vÅ¡e</button>
  </div>
</div>

<!-- ADMIN LOGIN MODAL -->
<div class="admin-overlay" id="admin-overlay" onclick="closeAdminModal()"></div>
<div class="admin-overlay" id="admin-modal-wrap" style="display:none">
  <div class="admin-modal" onclick="event.stopPropagation()">
    <h3>ð Admin pÅihlÃ¡Å¡enÃ­</h3>
    <p>Zadej heslo pro pÅÃ­stup k admin funkcÃ­m.</p>
    <input class="inp" id="admin-pwd" type="password" placeholder="Hesloâ¦" autocomplete="off">
    <div class="admin-modal-btns">
      <button class="savebtn" onclick="doAdminLogin()">PÅihlÃ¡sit</button>
      <button class="cancbtn" onclick="closeAdminModal()">ZruÅ¡it</button>
    </div>
    <div id="admin-err" style="color:#e05a00;font-size:13px;margin-top:10px;text-align:center;min-height:18px"></div>
  </div>
</div>

<!-- GITHUB UPDATE MODAL -->
<div class="gh-overlay" id="gh-overlay" onclick="closeGhModal()"></div>
<div class="gh-overlay" id="gh-modal-wrap" style="display:none">
  <div class="gh-modal" onclick="event.stopPropagation()">
    <h3>âï¸ Aktualizovat zpÄvnÃ­k</h3>
    <p>Tato akce uloÅ¾Ã­ aktuÃ¡lnÃ­ seznam pÃ­snÃ­ na GitHub. Po ~1â2 minutÃ¡ch uvidÃ­ zmÄny vÅ¡ichni uÅ¾ivatelÃ©.</p>
    <input class="inp" id="gh-token-inp" type="password" placeholder="GitHub token (ghp_...)" autocomplete="off" style="margin-bottom:8px">
    <label style="display:flex;align-items:center;gap:8px;font-size:13px;color:var(--text2);margin-bottom:12px;cursor:pointer">
      <input type="checkbox" id="gh-remember" style="width:16px;height:16px;cursor:pointer">
      Zapamatovat token v tomto zaÅÃ­zenÃ­
    </label>
    <button class="savebtn" id="gh-confirm-btn" onclick="doGithubUpdate()">UloÅ¾it na GitHub</button>
    <button class="cancbtn" onclick="closeGhModal()">ZruÅ¡it</button>
    <div class="gh-status" id="gh-status"></div>
  </div>
</div>

<!-- ADD DRINK MODAL -->
<div class="modal-overlay" id="drink-overlay" onclick="closeDrinkModal()"></div>
<div class="modal" id="drink-modal">
  <div class="modal-hdr"><strong>PÅidat nÃ¡poj</strong></div>
  <div class="quick-grid">
    <button class="qbtn" onclick="quickDrink('Pivo velkÃ© 12Â°')">ðº VelkÃ© 12Â°</button>
    <button class="qbtn" onclick="quickDrink('Pivo malÃ© 12Â°')">ðº MalÃ© 12Â°</button>
    <button class="qbtn" onclick="quickDrink('Pivo velkÃ© 11Â°')">ðº VelkÃ© 11Â°</button>
    <button class="qbtn" onclick="quickDrink('Pivo malÃ© 11Â°')">ðº MalÃ© 11Â°</button>
    <button class="qbtn" onclick="quickDrink('Pivo velkÃ© 10Â°')">ðº VelkÃ© 10Â°</button>
    <button class="qbtn" onclick="quickDrink('Pivo malÃ© 10Â°')">ðº MalÃ© 10Â°</button>
    <button class="qbtn" onclick="quickDrink('VÃ­no bÃ­lÃ©')">ð¥ VÃ­no bÃ­lÃ©</button>
    <button class="qbtn" onclick="quickDrink('VÃ­no ÄervenÃ©')">ð· VÃ­no ÄervenÃ©</button>
    <button class="qbtn" onclick="quickDrink('Slivovice malÃ¡')">ð¥ Slivka malÃ¡</button>
    <button class="qbtn" onclick="quickDrink('Slivovice velkÃ¡')">ð¥ Slivka velkÃ¡</button>
  </div>
  <div class="modal-divider" id="modal-divider-or">nebo vlastnÃ­</div>
  <input class="inp" id="drink-inp" type="text" placeholder="NÃ¡zev nÃ¡pojeâ¦" style="margin-bottom:8px">
  <input class="inp" id="drink-price" type="number" min="0" step="1" placeholder="Cena (KÄ) â nepovinnÃ©" style="margin-bottom:12px">
  <div style="display:flex;gap:8px">
    <button class="savebtn" style="flex:1" onclick="addDrink()">PÅidat</button>
    <button class="cancbtn" onclick="closeDrinkModal()">ZruÅ¡it</button>
  </div>
</div>

<style>
/* NEW STYLES for edit, napojovy listek, modal */

/* Edit screen - reuse form styles, just need edit-specific */
#screen-edit .fbody { padding-bottom: 0; }

/* NAPOJOVY LISTEK */
.nl-overlay {
  display: none;
  position: fixed; inset: 0;
  background: rgba(0,0,0,0.4);
  z-index: 100;
}
.nl-overlay.open { display: block; }
.nl-panel {
  position: fixed;
  right: -340px;
  top: 0; bottom: 0;
  width: 320px;
  max-width: 90vw;
  background: var(--bg);
  border-left: 1.5px solid var(--border);
  z-index: 101;
  display: flex;
  flex-direction: column;
  transition: right 0.28s cubic-bezier(.4,0,.2,1);
  box-shadow: -4px 0 24px rgba(0,0,0,0.15);
}
.nl-panel.open { right: 0; }
.nl-hdr {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px;
  border-bottom: 1.5px solid var(--border);
  flex-shrink: 0;
}
.nl-title { font-size: 17px; font-weight: 800; }
.nl-addbtn {
  background: var(--accent); border: none; color: #fff;
  border-radius: 10px; height: 38px; padding: 0 14px;
  font-size: 14px; font-weight: 700; font-family: inherit; cursor: pointer;
}
.nl-addbtn:active { background: var(--accent2); }
.nl-closebtn {
  background: var(--bg2); border: 1.5px solid var(--border);
  color: var(--text2); border-radius: 10px;
  width: 38px; height: 38px; font-size: 16px;
  cursor: pointer; display: flex; align-items: center; justify-content: center;
}
.nl-closebtn:active { background: var(--bg3); }
.nl-body { flex: 1; overflow-y: auto; padding: 12px; }
.nl-item {
  display: flex;
  align-items: center;
  background: var(--bg2);
  border: 1.5px solid var(--border);
  border-radius: 14px;
  padding: 12px 14px;
  margin-bottom: 10px;
}
.nl-item-name { flex: 1; font-size: 15px; font-weight: 600; }
.nl-count {
  font-size: 22px; font-weight: 800;
  color: var(--accent);
  min-width: 32px; text-align: center;
  margin: 0 8px;
}
.nl-tally {
  font-size: 13px; color: var(--text3);
  font-family: monospace; letter-spacing: 2px;
  min-width: 60px;
}
.nl-btn {
  background: var(--bg); border: 1.5px solid var(--border);
  color: var(--text); border-radius: 10px;
  width: 40px; height: 40px; font-size: 20px; font-weight: 700;
  cursor: pointer; display: flex; align-items: center; justify-content: center;
  flex-shrink: 0;
}
.nl-btn:active { background: var(--bg3); }
.nl-btn.plus { border-color: var(--accent); color: var(--accent); }
.nl-delbtn {
  background: none; border: none; color: var(--text3);
  font-size: 16px; cursor: pointer; padding: 4px 6px;
  border-radius: 8px; margin-left: 4px;
}
.nl-delbtn:active { background: var(--bg3); }
.nl-footer {
  padding: 12px 16px;
  border-top: 1.5px solid var(--border);
  flex-shrink: 0;
}
.nl-resetbtn {
  width: 100%; background: var(--bg2); border: 1.5px solid var(--border);
  color: var(--text2); border-radius: 12px; height: 44px;
  font-size: 14px; font-weight: 700; font-family: inherit; cursor: pointer;
}
.nl-resetbtn:active { background: var(--bg3); }
.nl-empty { color: var(--text3); text-align: center; padding: 40px 20px; font-size: 14px; }
.nl-time { font-size: 11px; color: var(--accent); font-weight: 600; margin-top: 1px; margin-bottom: 2px; }

/* Quick drink select */
.quick-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 7px;
  margin-bottom: 14px;
}
.qbtn {
  background: var(--bg2);
  border: 1.5px solid var(--border);
  color: var(--text);
  border-radius: 11px;
  padding: 10px 8px;
  font-size: 13px;
  font-weight: 600;
  font-family: inherit;
  cursor: pointer;
  text-align: left;
  line-height: 1.2;
}
.qbtn:active { background: var(--bg3); border-color: var(--accent); }
.modal-divider {
  text-align: center;
  color: var(--text3);
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: .06em;
  margin-bottom: 10px;
  position: relative;
}
.modal-divider::before, .modal-divider::after {
  content: '';
  position: absolute;
  top: 50%;
  width: 30%;
  height: 1px;
  background: var(--border);
}
.modal-divider::before { left: 0; }
.modal-divider::after { right: 0; }

/* MODAL */
.modal-overlay {
  display: none; position: fixed; inset: 0;
  background: rgba(0,0,0,0.5); z-index: 200;
}
.modal-overlay.open { display: block; }
.modal {
  display: none; position: fixed;
  left: 50%; top: 50%; transform: translate(-50%,-50%);
  background: var(--bg); border: 1.5px solid var(--border);
  border-radius: 20px; padding: 20px;
  width: min(360px, 92vw);
  max-height: 85dvh;
  overflow-y: auto;
  z-index: 201;
  box-shadow: 0 8px 40px rgba(0,0,0,0.2);
}
.modal.open { display: block; }
.modal-hdr { margin-bottom: 14px; font-size: 16px; }

/* CHORD SELECT */
.ch.active { background: var(--chord-bg); border-radius: 4px; outline: 2px solid var(--accent); }
.ch { touch-action: none; user-select: none; cursor: grab; }
.ch:active { cursor: grabbing; }
/* NL floating button */
.nl-fab {
  position: fixed; bottom: 24px; right: 20px;
  background: var(--accent); color: #fff;
  border: none; border-radius: 50%;
  width: 56px; height: 56px; font-size: 22px;
  cursor: pointer; box-shadow: 0 4px 16px rgba(0,0,0,0.2);
  display: flex; align-items: center; justify-content: center;
  z-index: 50;
}
.nl-fab:active { background: var(--accent2); }
</style>
<!-- DEFAULTS: only used on first install to seed localStorage. After that ignored. -->
<script id="defaults-data">
const DEFAULTS = [
  {
    "id": 1,
    "title": "Nad stádem koní",
    "artist": "Buty",
    "key": "D",
    "content": "[D]Nad stádem [Asus4]koní [A]\n[Em]podkovy [G]zvoní, zvoní [D]\nČerný vůz [Asus4]vlečou [A]\n[Em]a slzy [G]tečou a já volám...\n\n[D]Tak neplač [Asus4]můj [A]kamará[Em]de\nNáhoda je [G]blbec, když krade [D]\nJe tuhý jak [Asus4]veka [A] a řeka ho [Em]splaví\nMáme ho [G]rádi\nNo tak [Cadd9]co, tak [G]co, tak [A]co [Asus4]\n\n[D]Vždycky si [Asus4]přál [A] až bude [Em]popel\ni s kyta[G]rou hou[D]vodou ať [Asus4]plavou [A]\njen žádný [Em]hotel s křížkem nad [G]hlavou [D]\n\n[D]Až najdeš [Asus4]místo [A] kde je ten [Em]pramen\na kámen, co [G]praská [D]\nbudeš mít [Asus4]jisto [A] patří sem [Em]popel\na každá [G]láska\nNo tak [Cadd9]co, tak [G]co, tak [A]co [Asus4]\n\n[D]Nad stádem [Asus4]koní [A]\n[Em]podkovy [G]zvoní, zvoní [D]\nČerný vůz [Asus4]vlečou [A]\n[Em]a slzy [G]tečou A já šeptám [D]\n\n[D]Vysyp ten [Asus4]popel [A]kamará[Em]de\ndo bílé [G]vody, vody [D]\nVyhasnul [Asus4]kotel [A] a náhoda [Em]je\nštěstí od podko[G]vy [D/F#] [G] [D/F#] [G]\n\nVysyp ten [D]popel [A]kamará[G]de\ndo bílé [D]vody, [A]vo[G]dy\nVyhasnul [D]kotel a [A]náhoda [Em]je\nštěstí od podko[G]vy [D/F#] [G] [D/F#] [G]\n\nVysyp ten [D]popel [A]kamará[G]de\ndo bílé [D]vody, [A]vo[G]dy\nVyhasnul [D]kotel a [A]náhoda [Em]je\nštěstí od podko[G]vy [D/F#] [G] [D/F#] [G] [D/F#] [G] [D]"
  },
  {
    "id": 2,
    "title": "Rána v trávě",
    "artist": "Žalman a spol.",
    "key": "Am",
    "content": "capo 3\n\n[Am]Každý ráno boty [G]zouval, [Am]orosil si nohy [G]v trávě\n[Am]že se lidi mají rádi [G]doufal [Am]a pro[Em]citli [Am]právě\n[Am]každý ráno dlouze [G]zíval, [Am]utřel čelo do ru[G]kávu\n[Am]a při chůzi tělem sem tam [G]kýval, [Am]před se[Em]bou sta [Am]sáhů\n\n[C]Poznal [G]Mora[F]věnku [C]krásnou a [Am]ví[G]nečko [C]ze zlata\nv Čechách [G]slávu [F]muzi[C]kantů [Am]uma[Em]zanou [Am]od bláta\n\n[Am]Každý ráno boty [G]zouval, [Am]orosil si nohy [G]v trávě\n[Am]že se lidi mají rádi [G]doufal [Am]a pro[Em]citli [Am]právě\n[Am]každý ráno dlouze [G]zíval, [Am]utřel čelo do ru[G]kávu\n[Am]a při chůzi tělem sem tam [G]kýval, [Am]před se[Em]bou sta [Am]sáhů\n\n[C]Toužil [G]najít [F]studá[C]nečku [Am]a do [G]ní se [C]podívat\nby mu [G]řekla [F]proč ho[C]lečku [Am]musíš [Em]světem [Am]chodívat\n\n[C]Studá[G]nečka [F]promlu[C]vila [Am]to ses [G]musel [C]nachodit\nabych [G]já ti [F]pravdu [C]řekla [Am]měl ses [Em]jindy [Am]narodit\n\n[Am]Každý ráno boty [G]zouval, [Am]orosil si nohy [G]v trávě\n[Am]že se lidi mají rádi [G]doufal [Am]a pro[Em]citli [Am]právě\n[Am]každý ráno dlouze [G]zíval, [Am]utřel čelo do ru[G]kávu\n[Am]a při chůzi tělem sem tam [G]kýval, [Am]před se[Em]bou sta [Am]sáhů\n\n[Am]Před se[Em]bou sta [Am]sáhů\n[Am]před se[Em]bou sta [Am]sáhů\n[Am] [G] [Am] [G] [Am] [G] [Am] [Em] [Am]"
  },
  {
    "id": 3,
    "title": "Stánky",
    "artist": "Nedvědi",
    "key": "D",
    "content": "[D]U stánků [G]na levnou krásu,\n[D]postávaj a [Gm]smějou se času,\ns [D]cigaretou a s [A7]holkou, co nemá kam [D]jít.\n\n[D]Skleniček pár a [G]pár tahů z trávy,\n[D]uteče den jak [Gm]večerní zprávy,\n[D]neuměj žít a [A7]bouřej se a neposlou[D]chaj.\n\n[D7]Jen [G]zahlídli svět - maj [A7]na duši vrásky,\ntak [D]málo je, tak [Gm]málo je lásky,\n[D]ztracená víra [A7]hrozny z vinic neposbí[D]rá.\n\n[D]U stánků [G]na levnou krásu\n[D]postávaj a [Gm]ze slov a hlasů \n[D]poznávám, jak [A7]málo jsme jim stačili [D]dát.\n\n[D7]Jen [G]zahlídli svět - maj [A7]na duši vrásky,\ntak [D]málo je, tak [Gm]málo je lásky,\n[D]ztracená víra [A7]hrozny z vinic neposbí[D]rá.\n\n[D7]Jen [G]zahlídli svět - maj [A7]na duši vrásky,\ntak [D]málo je, tak [Gm]málo je lásky,\n[D]ztracená víra [A7]hrozny z vinic neposbí[D]rá."
  },
  {
    "id": 4,
    "title": "Nejlíp jim bylo",
    "artist": "Mňága a žďorp",
    "key": "C",
    "content": "[C]Nejlíp jim [Fmaj7]bylo [C] [Fmaj7]\nkdyž nevěděli co [C]dělaj' [Fmaj7] [C] [Fmaj7]\njenom se [G]potkali a [F]neznělo to [C]špatně. [Fmaj7] [C] [Fmaj7]\nTak se [C]snažili [Fmaj7] [C] a [Fmaj7]opravdu si [C]užívali [Fmaj7] [C] [Fmaj7]\njenom [G]existovali a [F]čas běžel [C]skvěle\n\n[F]Nechám si projít [C]hlavou [G]kam všechny věci [Am]plavou\n[F]jestli je všechno jen [C]dech [G]tak jako kdysi v noci\n[Am]spolu po tmě na schodech [C] [Fmaj7] [C] [Fmaj7]\n\nPak se [C]ztratili [Fmaj7] [C] a [Fmaj7]chvílema se [C]neviděli [Fmaj7] [C] [Fmaj7]\njenom si [G]telefonovali [F]a byli na tom [C]bledě [Fmaj7] [C] [Fmaj7]\nA když se [C]vrátili [Fmaj7] [C] [Fmaj7] už dávno [C]nehořeli [Fmaj7] [C] [Fmaj7]\njenom dál [G]usínali [F]chvíli spolu, chvíli vedle [C]sebe\n\n[F]Nechám si projít [C]hlavou [G]kam všechny věci [Am]plavou\n[F]jestli je všechno jen [C]dech [G]tak jako kdysi v noci [Am]spolu po tmě na schodech\n\n[F]Nechám si projít [C]hlavou [G]kam všechny věci [Am]plavou\n[F]jestli je všechno jen [C]dech [G]tak jako kdysi v noci [Am]spolu po tmě na schodech\n\n[F]Nechám si projít [C]hlavou [G]kam všechny věci [Am]plavou\n[F]jestli je všechno jen [C]dech [G]tak jako kdysi v noci [Am]spolu po tmě na schodech\n\n[F]Nechej si projít [C]hlavou [G]kam všechny věci [Am]plavou\n[F]jestli je všechno jen [C]dech [G]tak jako kdysi v noci\n[Am]spolu po tmě na schodech [C] [Fmaj7] [C] [Fmaj7] [C]"
  },
  {
    "id": 5,
    "title": "Do nebe",
    "artist": "Tomáš Klus",
    "key": "G",
    "content": "Haló P[G]ane, [D]vy s výh[Em]ledem na celej sv[C]ět.\nCo se st[G]ane, [D]když n[Em]eumím dát odpov[C]ěď?\nSnad se ne[G]zlobíte, [D]snad mi to od[Em]pustíte.\nVždyť v[C]íte, že chci\n\n[G]Do nebe do nebe do [D]nebe do nebe, do nebe,\n[Em]Do nebe do nebe do [C]nebe do nebe,\n[G]Do nebe do nebe do [D]nebe do nebe,\n[Em]Do nebezpečna. [C]\n\n[G]Do nebe do nebe do [D]nebe do nebe, do nebe,\n[Em]Do nebe do nebe do [C]nebe do nebe,\n[G]Do nebe do nebe do [D]nebe do nebe,\n[Em]Do nebezpečna. [C]\n\nHaló P[G]ane, [D]nad stř[Em]echami panel[C]áků.\nAž [G]déšť ustane, [D]až [Em]uschnou křídla [C]ptákům,\nBudu [G]relativně šťastný, [D]budu [Em]žádaný a krásný, [C]\nBudu [G]obdivován [D]v očích půvabných dám, [Em]ale sám. [C]\nPůjdu\n\n[G]Do nebe do nebe do [D]nebe do nebe, do nebe,\n[Em]Do nebe do nebe do [C]nebe do nebe,\n[G]Do nebe do nebe do [D]nebe do nebe,\n[Em]Do nebezpečna. [C]\n\n[G]Do nebe do nebe do [D]nebe do nebe, do nebe,\n[Em]Do nebe do nebe do [C]nebe do nebe,\n[G]Do nebe do nebe do [D]nebe do nebe,\n[Em]Do nebezpečna. [C]\n\nHaló P[G]ane, [D]vy s[Em] šedivými fou[C]sy.\nJak poznat [G]nepoznané, [D]jak [Em]štěstí [C]nevytrousit?\nJak se [G]nadechnout [D]a zůstat [Em]živ a zdráv? [C]\nA jestli [G]jít, či plout, [D]to bych [Em]taky věděl [C]rád.\nVždyť chci\n\n[G]Do nebe do nebe do [D]nebe do nebe, do nebe,\n[Em]Do nebe do nebe do [C]nebe do nebe,\n[G]Do nebe do nebe do [D]nebe do nebe,\n[Em]Do nebezpečna. [C]\n\n[G]Do nebe do nebe do [D]nebe do nebe, do nebe,\n[Em]Do nebe do nebe do [C]nebe do nebe,\n[G]Do nebe do nebe do [D]nebe do nebe,\n[Em]Do nebezpečna. [C]"
  },
  {
    "id": 6,
    "title": "Každej už to ví",
    "artist": "Žlutý pes",
    "key": "Em",
    "content": "[Emi]Každej [C]už to [D]ví, [Emi]už je [C]to nap[D]saný na zdí\n[Emi]Že ty a [C]já jsme [D]dva, (jsme dva)\n[Emi]stejný [D]blázni,\n\n[Emi]Teď máme [C]svátej [D]klid [Emi]a svět je [C]jako by [D]krásnej,\n[Emi]Mužem [C]klidně [D]žit, (hezky si užívat)\n[Emi]já to [D]vím, (vzpomínám a nelituju)\n\n[G] [D] [Emi] [C] [G] [D] [Emi]\nNanananannanananannanananna 2x\n\n[Emi]Za plo[C]tem ži[D]ju dál, [Emi]na zahra[C]dě si [D]snídám\n[Emi]A jak [C]tak vzpo[D]mínám, \n[Emi]čím dál víc si [D]zpívám\n\n[G]Na tuhle [D]ženu [Emi]nezapo[C]menu, [G]to ti [D]přisa[Emi]hám.\n[G]Co na tom [D]sejde, [Emi]stejně to [C]nejde – [G]dávno tě [D]pod kůží [Emi]mám\n\n[G]Na tuhle [D]ženu, [Emi]nezapo[C]menu, [G]v mý hlavě [D]místo [Emi]má,\n[G]Co na tom [D]sejde, [Emi]když se tam [C]vejde, [G]já jí [D]to nevyčí[Emi]tám.\n\n[G]Na tuhle [D]ženu [Emi]nezapo[C]menu, [G]to ti [D]přisa[Emi]hám.\n[G]Co na tom [D]sejde, [Emi]stejně to [C]nejde – [G]dávno tě [D]pod kůží [Emi]mám"
  },
  {
    "id": 7,
    "title": "Hruška",
    "artist": "Čechomor",
    "key": "D",
    "content": "Sto[D]jí hruška v ši[A]rém poli vr[D]šek se jí [G]zele[A]ná\npod [D]ní se [G]pase [A]kůň vra[D]ný pase ho [A]má mi[D]lá\npod [D]ní se [G]pase [A]kůň vra[D]ný pase ho [A]má mi[D]lá\n\n[A]Proč [D]má milá dnes [A]pasete z ve[D]čera [G]do rá[A]na\nkam [D]můj mi[G]lý po[A]jede[D]te já poje[A]du s vá[D]ma\nkam [D]můj mi[G]lý po[A]jede[D]te já poje[A]du s vá[D]ma\n\n[A]Ó [D]já pojedu [A]daleko přes [D]vody [G]hlubo[A]ké\nkéž [D]bych byl [G]nikdy [A]nepo[D]znal panny čern[A]oo[D]ké\nkéž [D]bych byl [G]nikdy [A]nepo[D]znal panny čern[A]oo[D]ké"
  },
  {
    "id": 8,
    "title": "Tisíc mil",
    "artist": "Waldemar Matuška",
    "key": "G",
    "content": "[G]V nohách mám už tisíc [Em]mil\nstopy [Am]déšť a vítr [C]smyl\na můj [Am]kůň i já jsme [D7]cestou znaven[G]í.\nTěch tisíc [G]mil těch tisíc [Em]mil\nmá jeden [Am]směr a jeden [C]cíl\nbílej [Am]dům to malý [D7]bílý stave[G]ní.\n\nJe tam [G]stráň a příkrej [Em]sráz\nmodrá [Am]tůň a bobří [C]hráz\ntáta s [Am]mámou kteří [D7]věřej dětskejm sn[G]ům.\nTěch tisíc [G]mil těch tisíc [Em]mil\nmá jeden [Am]směr a jeden [C]cíl,\njeden [Am]cíl ten starej [D7]známej bílej [G]dům.\n\nV nohách [G]mám už tisíc [Em]mil\nteď mi [Am]zbejvá jen pár [C]chvil\ncestu [Am]znám a ta se [D7]tam k nám nemě[G]ní.\nTěch tisíc [G]mil těch tisíc [Em]mil\nmá jeden [Am]směr a jeden [C]cíl\nbílej [Am]dům to malý [D7]bílý stave[G]ní.\n\nKousek [G]dál a já to [Em]vím \nuvi[Am]dím už stoupat [C]dým\nšikmej [Am]štít střechy [D7]čnít k nebe[G]sům. \nTěch tisíc [G]mil těch tisíc [Em]mil\nmá jeden [Am]směr a jeden [C]cíl,\njeden [Am]cíl ten starej [D7]známej bílej [G]dům.\n\nTěch tisíc [G]mil těch tisíc [Em]mil\nmá jeden [Am]směr a jeden [C]cíl\nbílej [Am]dům to malý [D7]bílý stave[G]ní."
  },
  {
    "id": 9,
    "title": "Růže z papíru",
    "artist": "Nedvědi",
    "key": "Dm",
    "content": "[Dm]Do tvých očí jsem se zbláznil a teď [E7]nemám nemám [Gm]klid [Am]\nhlava třeští asi tě mám [Dm]rád\nstále někdo říká vzbuď se [E7]věčně trhá [Gm]nit [Am]\nstudenou sprchu měl bych si [Dm]dát [D7]\n\nNa pouti jsem vystřelil [Gm]růži z papíru\n[C7]dala sis ji do vlasů kde [F]hladívám tě [A7]já\n[Dm]v tomhle smutným světě jsi má [Gm]naděj na víru\nže [Am]nebe modrý ještě smysl [Dm]má\n\n[Dm]Přines' jsem ti kytku no co [E7]koukáš to se [Gm]má [Am]\ntak jsem asi jinej teď to [Dm]víš\nmožná trochu zvláštní v dnešní [E7]době no tak [Gm]ať [Am]\ntřeba z ní mou lásku vytu[Dm]šíš [D7]\n\nNa pouti jsem vystřelil [Gm]růži z papíru\n[C7]dala sis ji do vlasů kde [F]hladívám tě [A7]já\n[Dm]v tomhle smutným světě jsi má [Gm]naděj na víru\nže [Am]nebe modrý ještě smysl [Dm]má [D7]\n\nNa pouti jsem vystřelil [Gm]růži z papíru\n[C7]dala sis ji do vlasů kde [F]hladívám tě [A7]já\n[Dm]v tomhle smutným světě jsi má [Gm]naděj na víru\nže [Am]nebe modrý ještě smysl [Dm]má"
  },
  {
    "id": 10,
    "title": "Jdem zpátky do lesů",
    "artist": "Žalman a spol.",
    "key": "G",
    "content": "[Am7]Sedím na kolejích, [D]které nikam neve[G]dou\n[Am7]koukám na kopretinu jak [D7]miluje se s lebe[G]dou\n[Am7]mraky vzaly slunce [D7]zase pod svou ochra[G]nu [Em7]\n[Am7]jen ty nejdeš holka zlatá, [D7]kdypak já tě dosta[G]nu [D7]\n\n[G]Z ráje, my vyhnaní z [Em]ráje,\nkde není už [Am7]místa, [C]prej něco se [G]chystá, [D7]óó\n[G]z ráje, nablýskaných [Em]plesů\njdem zpátky do [Am7]lesů [C]za nějaký [G]čas\n\n[Am7]Vlak nám včera ujel [D]ze stanice do ne[G]be\n[Am7]málo jsi se snažil, [D7]málo šel jsi do se[G]be\n[Am7]šel jsi vlastní cestou a [D7]to se dneska neno[G]sí [Em7]\n[Am7]i pes, kterej chce přízeň napřed [D7]svýho pána popro[G]sí [D7]\n\n[G]Z ráje, my vyhnaní z [Em]ráje,\nkde není už [Am7]místa, [C]prej něco se [G]chystá, [D7]óó\n[G]z ráje, nablýskaných [Em]plesů\njdem zpátky do [Am7]lesů [C]za nějaký [G]čas\n\n[Am7]Už tě vidím z dálky jak [D]máváš na mě koru[G]nou\na [Am7]jestli nám to bude stačit, [D7]zatleskáme na dru[G]hou\n[Am7]zabalíme všechny, co si [D7]dávaj rande za bra[G]nou [Em7]\n[Am7]v ráji není místa, možná [D7]lidi se nás zasta[G]nou [D7]\n\n[G]Z ráje, my vyhnaní z [Em]ráje,\nkde není už [Am7]místa, [C]prej něco se [G]chystá, [D7]óó\n[G]z ráje, nablýskaných [Em]plesů\njdem zpátky do [Am7]lesů [C]za nějaký [G]čas"
  },
  {
    "id": 11,
    "title": "Dobrák od kosti",
    "artist": "Chinaski",
    "key": "D",
    "content": "[D] [A] [G]\n[D] [A] [G]\n\n[D]Má milá [A]jak ti je, tak [G]jak ti je?\n[D]Jsem ten, kdo [A]jednou tvý [G]tělo zakryje [Cadd9]\n[D]Jsem ten, [A]kdo tě jednou [G]oddělá\n[D]potkala's [A]zkrátka koho's [G]neměla [Cadd9]\n\n[D] [A] [G]\n\n[D]Jsi budoucí [A]krev v mojí [G]posteli\n[D]jsem ten, kdo tě [A]jednou jisto[G]jistě zastřelí [Cadd9]\n[D]Jsem ten kdo ty [A]tvoje krásný oči [G]jednou zatlačí\n[D]jsi moje [A]všechno a mě to [G]nestačí [Cadd9]\n\nJe to [D]vážně silná káva, [A]pláč a nebo vztek \n[G]nic už s tím nenaděláš\n[D]nech mě jenom hádat, jak jsi [A]hebká na dotek\n[G]krásná a nedospělá\n\n[D]Víš, [A]všechno má aspoň [G]malý kaz\n[D]jsem ten, kdo ti [A]jednou [G]zlomí vaz [Cadd9]\n[D]Má milá [A]vždyť mě znáš jsem dobrák [G]od kosti\n[D]a ty jsi [A]ta co mi to jednou [G]všechno odpus[Cadd9]tí\n\n[D]Sejde z očí sejde z mysli jenom [A]blázen věří na nesmysly\n[G]láska je čaroděj a ticho prý léčí, ale zákon hovoří jasnou řečí\n[D]Sejde z očí sejde z mysli jenom [A]blázen věří na nesmysly\n[G]láska je čaroděj a ticho prý léčí, ale zákon hovoří jasnou řečí\n\nJe to [D]vážně silná káva, [A]pláč a nebo vztek \n[G]nic už s tím nenaděláš\n[D]nech mě jenom hádat, jak jsi [A]hebká na dotek\n[G]krásná a nedospělá\n\nJe to [D]vážně silná káva, [A]pláč a nebo vztek \n[G]nic už s tím nenaděláš\n[D]nech mě jenom hádat, jak jsi [A]hebká na dotek\n[G]krásná a nedospělá\n\n[D]Má milá [A]jak ti je, tak [G]jak ti je?\n[D]jsem ten, kdo [A]jednou tvý [G]tělo zakryje"
  },
  {
    "id": 12,
    "title": "Povídej",
    "artist": "Petr Novák",
    "key": "G",
    "content": "[G]Povídej, jestli tě [D]má hodně rád, víc než [G]já,\njestli když večer jdeš [D]spát ti polibek [G]dá,\ntak jako [Hm]já, to už je [C]dávno, tak poví[G]dej, [D7]hej poví[G]dej.\n\n[G]Povídej nechal tě [D]být, vždyť měl tě tak [G]rád\nnebo's ho nechala [D]jít, když šel k jiný [G]spát\ntak jako [Hm]mě, to už je [C]dávno, tak poví[G]dej, [D7]hej poví[G]dej.\n\nPoví[Hm]dej, [G]jestli se ti po mně [A]stýská,\n[C]když jdeš večer [G]spát,\n[G]jestli když večer se [A]blýská,\n[C]nepřestala ses [G]bát.\n\n[G]Povídej, ne já se [D]nevrátím, jdi domů [G]spát.\nSvou lásku ti vypla[D]tím, víc nemůžu [G]dát\njak jsem dal [Hm]dřív, to už je [C]dávno, tak poví[G]dej, [D7]hej poví[G]dej.\n\nPoví[Hm]dej, poví[C]dej, poví[G]dej."
  },
  {
    "id": 13,
    "title": "Zatanči",
    "artist": "Jaromír Nohavica",
    "key": "Em",
    "content": "[Em]Zatanči, [G]má milá, [D]zatanči [Em]pro mé oči\nzatan[G]či a vetkni [D]nůž do mých [Em]zad\nať tvůj šat, [G]má milá, [D]ať tvůj šat [Em]na zemi skončí\nať tvůj šat, [G]má milá, [D]rázem je [Em]sňat\n\n[Em]Zatanči, [G]jako se [D]okolo [Em]ohně tančí\nzatan[G]či jako [D]na vodě [Em]loď\nzatan[G]či jako to [D]slunce mezi [Em]pomeranči\nzatan[G]či, a [D]pak ke mně [Em]pojď\n\n[Em]Polož [G]dlaň, má milá, [D]polož dlaň [Em]na má prsa\npolož [G]dlaň nestoudně [D]na moji [Em]hruď\nobejmi, [G]má milá, [D]obejmi [Em]moje bedra\nobejmi [G]je pevně [D]a mojí [Em]buď\n\n[Em]Zatanči, [G]jako se [D]okolo [Em]ohně tančí\nzatan[G]či jako [D]na vodě loď [Em]\nzatan[G]či jako to [D]slunce mezi [Em]pomeranči\nzatan[G]či, a [D]pak ke mně [Em]pojď\n\n[Em] [G] [D] [Em]\n[Em] [G] [D] [Em]\n[Em] [G] [D] [Em]\n[Em] [G] [D] [Em]\n\n[Em]Nový [G]den než začne, [D]má milá, [Em]nežli začne\nnový [G]den než začne, [D]nasyť můj [Em]hlad\nzatan[G]či, má milá, [D]pro moje [Em]oči lačné\nzatan[G]či a já [D]budu ti [Em]hrát\n\n[Em]Zatan[G]či, jako se [D]okolo [Em]ohně tančí\nzatan[G]či jako [D]na vodě [Em]loď\nzatan[G]či jako to [D]slunce mezi [Em]pomeranči\nzatan[G]či, a [D]pak ke mně [Em]pojď"
  },
  {
    "id": 14,
    "title": "Igelit",
    "artist": "Nedvědi",
    "key": "G",
    "content": "[G]Ukrytý v stínu lesa\n[D]igelit to kdyby přišel k [C]ránu [G]déšť\npod [G]hlavou boty, nůž,\ntá[D]tovu bundu šitou z maská[G]čů\n\n[G]K ránu se mlhy zvednou \na pt[D]áci volaj hele lidi s[C]vít[G]á\npak [G]větvičky si nalámou \nna [D]oheň, aby uvařili [G]čaj\n\nA všichni se [Em]znaj, [D7]znaj, [G]znaj\na [G]blázněj a z[C]pí[G]vaj\npo cestách [Em]dál, [D7]dál, [G]dál\nhledaj [C]normální [G]svět\n\n[G]Ukrytý v stínu lesa\nk [D]večeru znavený nohy [C]sklá[G]daj\nkytara [G]zpívá o tom [D]jak dřív bylo [G]líp\n\n[G]Ten kdo neví nepochopí\n[D]nepromíjí čas nic všechno [C]vrá[G]tí\nta [G]chvilka co máš na život \nti [D]uplyne jak od ohýnku [G]dým\n\nA všichni se [Em]znaj, [D7]znaj, [G]znaj\na [G]blázněj a z[C]pí[G]vaj\npo cestách [Em]dál, [D7]dál, [G]dál\nhledaj [C]normální [G]svět\n\n[G]Ukrytý v stínu lesa\n[D]igelit to kdyby přišel k [C]ránu [G]déšť"
  },
  {
    "id": 15,
    "title": "Zabili",
    "artist": "Iva Bittová",
    "key": "D",
    "content": "[D]Zabili, [G]zabili [Em]chlapa z [G]Koločavy [D]\n[D]řekněte [G]hrobaři, [Em]kde je [G]pochovaný [D]\n\n[D]Bylo tu, není tu, havrani [G]na plotu,\nbylo víno [D]v sudě, teď tam voda [G]bude\n[D]není, není tu\n\n[D]Špatně ho [G]zabili, [Em]špatně [G]pochovali [D]\n[D]vlci ho [G]pojedli, [Em]ptáci [G]rozklovali [D]\n\n[D]Bylo tu, není tu, havrani [G]na plotu,\nbylo víno [D]v sudě, teď tam voda [G]bude\n[D]není, není tu\n\n[D]Vítr ho [G]roznesl [Em]po da[G]lekém kraji [D]\n[D]havrani [G]pro něho [Em]po po[G]li krákají [D]\n\n[D]Bylo tu, není tu, havrani [G]na plotu,\nbylo víno [D]v sudě, teď tam voda [G]bude\n[D]není, není tu\n\n[D]Kráká starý [G]havran, [Em]krákat [G]nepřestane [D]\n[D]dokud v Kolo[G]čavě [Em]živý [G]chlap zůstane [D]\n[Em]živý [G]chlap zůstane [D]\n[Em]ááá[G]áá [D]áááá"
  },
  {
    "id": 16,
    "title": "Bedna od whiskey",
    "artist": "Miky Ryvola",
    "key": "Am",
    "content": "[Am]Dneska už mně [C]fóry ňák [Am]nejdou přes pys[E]ky, \n[Am]stojím s dlouhou [C]kravatou na [Am]bedně [E]vod whis[Am]ky, \nstojím s dlouhým [C]vobojkem [Am]jak stájovej [E]pinč, \ntu [Am]kravatu, co [C]nosím, mi [Am]navlík' [E]soudce [Am]Lynč [A]\n\nTak kopni do tý [D]bedny, ať [E]panstvo neče[A]ká, \njsou dlouhý schody [D]do nebe a [E]štreka dale[A]ká \ndo nebeskýho [D]baru, já [E]sucho v krku [A]mám, \ntak kopni do tý [D]bedny, ať [E]na cestu se [A]dám. [Am]\n\n[Am]Mít tak všechny [C]bedny vod [Am]whisky vypi[E]tý, \n[Am]postavil bych [C]malej dům na [Am]louce [E]ukry[Am]tý, \npostavil bych [C]malej dům a [Am]z vokna koukal [E]ven \na [Am]chlastal bych tam s [C]Bilem a [Am]chlastal [E]by tam [Am]Ben. [A]\n\nTak kopni do tý [D]bedny, ať [E]panstvo neče[A]ká, \njsou dlouhý schody [D]do nebe a [E]štreka dale[A]ká \ndo nebeskýho [D]baru, já [E]sucho v krku [A]mám, \ntak kopni do tý [D]bedny, ať [E]na cestu se [A]dám. [Am]\n\n[Am]Kdyby jsi se, [C]hochu, jen [Am]porád nechtěl [E]rvát,\n[Am]nemusel jsi [C]dneska na [Am]týhle [E]bedně [Am]stát,\nmoh' jsi někde v [C]suchu tu [Am]svoji whisku [E]pít,\n[Am]nemusel jsi [C]dneska na [Am]krku [E]laso [Am]mít. [A]\n\nTak kopni do tý [D]bedny, ať [E]panstvo neče[A]ká, \njsou dlouhý schody [D]do nebe a [E]štreka dale[A]ká \ndo nebeskýho [D]baru, já [E]sucho v krku [A]mám, \ntak kopni do tý [D]bedny, ať [E]na cestu se [A]dám. [Am]\n\n[Am]Když jsem štípnul [C]koně a [Am]ujel jen pár [E]mil,\n[Am]nechtěl běžet, [C]dokavád se [Am]whisky [E]nena[Am]pil,\nzatracená [C]smůla zlá, [Am]zatracenej [E]pech,\n[Am]když kůň cucá [C]whisku jak [Am]u po[E]toka [Am]mech. [A]\n\nTak kopni do tý [D]bedny, ať [E]panstvo neče[A]ká, \njsou dlouhý schody [D]do nebe a [E]štreka dale[A]ká \ndo nebeskýho [D]baru, já [E]sucho v krku [A]mám, \ntak kopni do tý [D]bedny, ať [E]na cestu se [A]dám. [Am]\n\nAž [Am]kopneš do tý [C]bedny, jak [Am]se to dělá[E]vá,\n[Am]do krku mi [C]zvostane jen [Am]dírka [E]mrňa[Am]vá,\njenom dírka [C]mrňavá a k [Am]smrti jenom [E]krok,\n[Am]má to smutnej [C]konec, a [Am]whisky [E]ani[Am]lok. [A]\n\nTak kopni do tý [D]bedny, ať [E]panstvo neče[A]ká, \njsou dlouhý schody [D]do nebe a [E]štreka dale[A]ká \ndo nebeskýho [D]baru, já [E]sucho v krku [A]mám, \ntak kopni do tý [D]bedny!"
  },
  {
    "id": 17,
    "title": "Veď mě dál",
    "artist": "Pavel Bobek",
    "key": "G",
    "content": "[G]Někde v dálce [Em]cesty končí\n[D]každá prý však [C]cíl svůj [G]skrývá\n[G]Někde v dálce, [Em]každá má svůj cíl\n[D]ať je pár mil dlouhá [C]anebo tisíc [G]mil\n\nVeď mě [G]dál cesto [D]má\nveď mě [Em]dál, vždyť i [C]já\ntam kde [G]končíš\nchtěl bych [D]dojít\nveď mě [C]dál, cesto [G]má\n\n[G]Chodím dlouho [Em]po všech cestách\n[D]všechny znám je, [C]jen ta má mi [G]zbývá\n[G]je jak dívky, [Em]co jsem měl tak rád\n[D]plná žáru bývá, [C]hned zas samý [G]chlad\n\nVeď mě [G]dál cesto [D]má\nveď mě [Em]dál, vždyť i [C]já\ntam kde [G]končíš\nchtěl bych [D]dojít\nveď mě [C]dál, cesto [G]má\n\n[Em]Pak na pat[D]ník posle[G]dní napíšu křídou\n[C]jméno své a [G]pod něj, že jsem [D]žil hrozně rád\n[Em]písně své, co mi [F]v kapsách zbydou\n[C]dám si bandou [G]cvrčků hrát\n[D]a půjdu spát, půjdu [D7]spát\n\nVeď mě [G]dál cesto [D]má\nveď mě [Em]dál, vždyť i [C]já\ntam kde [G]končíš\nchtěl bych [D]dojít\nveď mě [C]dál, cesto [G]má\n\nVeď mě [G]dál cesto [D]má\nveď mě [Em]dál, vždyť i [C]já\ntam kde [G]končíš\nchtěl bych [D]dojít\nveď mě [C]dál, cesto [G]má\nveď mě [D]dál cesto [G]má\nveď mě [D]dál cesto [G]má"
  },
  {
    "id": 18,
    "title": "Husličky",
    "artist": "Vlasta Redl",
    "key": "G",
    "content": "[G]Čiže ste husličky [C]či [G]je \n[Am]kdo vás tu [Em]zane[D]chal \n[G]čiže ste husličky [C]či [G]je \n[Am]kdo vás tu [Em]zane[D]chal \n[Am]na trávě [D]pová[G]lané [C]\n[Am]na trávě [D]pová[G]lané [C]\n[Am]u paty [Em]oře[D]cha \n[Am] [Em] [D]\n\nA [G]kdože tu trávu tak [C]zvá[G]lal \n[Am]aj modré [Em]fia[D]ly \na [G]kdože tu trávu tak [C]zvá[G]lal \n[Am]aj modré [Em]fia[D]ly \n[Am]že ste hu[D]sličky [G]samé [C]\n[Am]že ste hu[D]sličky [G]samé [C]\n[Am]na světě [Em]zosta[D]ly\n[Am] [Em] [D]\n\n[G]Který tu muzikant [C]us[G]nul \na [Am]co sa mu [Em]přišlo [D]zdát \n[G]který tu mládenec [C]us[G]nul \na [Am]co sa mu [Em]přišlo [D]zdát \n[Am]co sa mu [D]v noci [G]zdálo [C]\nbože [Am]co sa mu e[D]nému [G]zdálo [C]\n[Am]že už vjec [Em]nechtěl [D]hrát \n[Am] [Em] [D]\n\n[G]Zahrajte husličky [C]sa[G]my \n[Am]zahrajte [Em]zvese[D]la \n[G]zahrajte husličky [C]sa[G]my\n[Am]zahrajte [Em]zvese[D]la \n[Am]až sa ta [D]bude [G]trápit [C]\n[Am]až sa ta [D]bude [G]trápit [C]\n[Am]která ho [Em]nechtě[D]la\n[Am] [Em] [Hm] [C] [D] [G]"
  },
  {
    "id": 19,
    "title": "Ráda se miluje",
    "artist": "Karel Plíhal",
    "key": "Am",
    "content": "[Am] [G] [C] [F] [Em] [Am]\n[Am] [G] [C] [F] [Em] [Am]\n[Am] [G] [C] [F] [Em] [Am]\n\n[Am]Ráda se miluje, [G]ráda [C]jí\n[F]ráda si [Em]jenom tak [Am]zpívá\n[Am]vrabci se na plotě [G]háda[C]jí\n[F]kolik že [Em]času jí [Am]zbývá\n\n[Fmaj7]Než vítr dostrká [Cmaj7]k útesu \n[Fmaj7]tu její legrační [C]bár[E7]ku\na [Am]Pámbu si ve svým [G]note[C]su \n[F]udělá [Em]jen další [Am]čárku. \n\n[Am]Ráda se miluje, [G]ráda [C]jí\n[F]ráda si [Em]jenom tak [Am]zpívá\n[Am]vrabci se na plotě [G]háda[C]jí\n[F]kolik že [Em]času jí [Am]zbývá \n\n[Fmaj7]Psáno je v nebeské [Cmaj7]režii\n[Fmaj7]a to hned na první [C]strá[E7]nce\n[Am]že naše duše nás [G]přeži[C]jí \n[F]v jinačí [Em]tělesný [Am]schránce.\n\n[Am]Ráda se miluje, [G]ráda [C]jí\n[F]ráda si [Em]jenom tak [Am]zpívá\n[Am]vrabci se na plotě [G]háda[C]jí\n[F]kolik že [Em]času jí [Am]zbývá \n\n[Fmaj7]Úplně na konci [Cmaj7]paseky,\n[Fmaj7]tam, kde se ozvěna [C]tříš[E7]tí\n[Am]sedí šnek ve snacku [G]pro šne[C]ky\n[F]snad její [Em]podoba [Am]příští\n\n[Am]Ráda se miluje, [G]ráda [C]jí\n[F]ráda si [Em]jenom tak [Am]zpívá\n[Am]vrabci se na plotě [G]háda[C]jí\n[F]kolik že [Em]času jí [Am]zbývá \n\n[Am]Ráda se miluje, [G]ráda [C]jí\n[F]ráda si [Em]jenom tak [Am]zpívá\n[Am]vrabci se na plotě [G]háda[C]jí\n[F]kolik že [Em]času jí [Am]zbývá \n\n[Am] [G] [C] [F] [Em] [Am]\n[Am] [G] [C] [F] [Em] [Am]\n[Am] [G] [C] [F] [Em] [Am]\n[Am]"
  },
  {
    "id": 20,
    "title": "Jesse James",
    "artist": "Greenhorns",
    "key": "G",
    "content": "Jesse [G]James chlapík byl hodně [C]lidí vodpra[G]vil \nvlaky přepadával [D7]rád\nbohá[G]čům uměl brát chudá[C]kům dával [G]zas \npřál bych vám aby[D7]ste ho mohli [G]znát\n\nJó [C]Jesse ženu svou tady [G]nechal ubohou \na tři děcka říkám [D]vám \nale ten[G]hle přítel hadí ten [C]vám Jesse z[G]radí \njá vím tenkrát v [D]noci prásk ho [G]sám\n\nJednou [G]vám byla noc měsíc [C]tenkrát svítil [G]moc \nkdyž tu vláček zůstal [D7]stát \nkdekdo [G]ví že ten vlak přepad [C]James kabrň[G]ák \nčistě sám se svým [D7]bráchou ako[G]rát\n\nJó [C]Jesse ženu svou tady [G]nechal ubohou \na tři děcka říkám [D]vám \nale ten[G]hle přítel hadí ten [C]vám Jesse z[G]radí \njá vím tenkrát v [D]noci prásk ho [G]sám\n\nJeden[G]krát Jesse James sedí [C]doma za sto[G]lem \na svým dětem vyprá[D7]ví\nRobert [G]Ford v nočních tmách připlí[C]ží se jako [G]vrah \na on vám Jesse [D7]Jamese odpra[G]ví\n\nJó [C]Jesse ženu svou tady [G]nechal ubohou \na tři děcka říkám [D]vám \nale ten[G]hle přítel hadí ten [C]vám Jesse z[G]radí \njá vím tenkrát v [D]noci prásk ho [G]sám"
  },
  {
    "id": 21,
    "title": "Zachraňte koně",
    "artist": "Kamelot",
    "key": "Em",
    "content": "[Em] [Am7] [D] [G] [H7]\n[Em] [Am7] [D] [G] [H7]\n\n[Em]Peklo byl ráj když hořela stáj, [Am7]příteli\n[C]Věř mi, koně [D]pláčou poví[G]dám [H7]\n[Em]To byla půlnoc v tom křik o pomoc už [Am7]letěly\n[C]hejna kohou[Hm]tů a bůhví [Em]kam\n\n[G]Zachraňte koně, [Hm]křičel jsem tisíc[C]krát\n[G]žil jsem jen pro ně, [Hm]bránil je nejvíc[C]krát\nnež přišla [Am]chvíle, kdy hřívy [C]bílé,\npročesal [Am]plamen, spálil na [H7]troud.\n\n[Em] [Am7] [D] [G] [H7]\n[Em] [Am7] [D] [G] [H7]\n\n[Em]Ohrady a stáj a v plamenech kraj [Am7]už nedýchal\n[C]já viděl jak to [D]hříbě umí[G]rá [H7]\n[Em]klisna u něj a smuteční děj se [Am7]odbývá\n[C]jak tiše pláče [Hm]oči [Em]přivírá\n\n[G]Zachraňte koně, [Hm]křičel jsem tisíc[C]krát\n[G]žil jsem jen pro ně, [Hm]bránil je nejvíc[C]krát\nnež přišla [Am]chvíle, kdy hřívy [C]bílé,\npročesal [Am]plamen, spálil na [H7]troud.\n\nZachraňte [G]koně, [Hm]křičel jsem tisíc[C]krát\n[G]žil jsem jen pro ně, [Hm]bránil je nejvíc[C]krát\n[G]zachraňte koně, [Hm]křičel jsem tisíc[C]krát\nzachraňte [Em]koně"
  },
  {
    "id": 22,
    "title": "Knock knock / Nebeská brána",
    "artist": "Bob Dylan / trad.",
    "key": "G",
    "content": "[G]Mama, [D]take this badge off of [Am]me [Am7]\n[G]I can't [D]use it anym[C]ore.\n[G]It's gettin' [D]dark, too dark for me to [Am]see [Am7]\n[G]I feel like I'm [D]knockin' on heaven's [C]door.\n\n[G]Knock, knock, [D]knockin' on heaven's [Am]door [Am7]\n[G]Knock, knock, [D]knockin' on heaven's [C]door\n[G]Knock, knock, [D]knockin' on heaven's [Am]door [Am7]\n[G]Knock, knock, [D]knockin' on heaven's [C]door\n\n[G]Mama, [D]put my guns to the gr[Am]ound [Am7]\n[G]I can't sh[D]oot them anym[C]ore.\n[G]The long black [D]cloud is coming d[Am]own [Am7]\n[G]It feels like I'm [D]knockin' on heaven's [C]door.\n\n[G]Mámo [D]sundej kytku z kabátu [Am7]\n[G]za chvíli mi [D]bude k ničemu [C]\n[G]můj kabát [D]a kudlu vem pro tátu [Am7]\n[G]já už stojím před [D]bránou s klíčem [C]\n\n[G]Cejtim že [D/F#]zaklepu na nebeskou [Am7]bránu\n[G]cejtim že [D/F#]zaklepu na nebeskou [C]bránu\n[G]cejtim že [D/F#]zaklepu na nebeskou [C]bránu\n\n[G]Jó mámo [D]zahrab moje [Am7]pistole\n[G]ať už z nich [D]nikdy nikdo v životě nemůže [C]střílet\n[G]ještě se [D]sejdem za sto [Am7]let\n[G]až se vydáš [D]na poslední [C]výlet\n\n[G]Cejtim že [D/F#]zaklepu na nebeskou [Am7]bránu\n[G]cejtim že [D/F#]zaklepu na nebeskou [C]bránu\n[G]cejtim že [D/F#]zaklepu na nebeskou [C]bránu\n\n[G]Neberu s [D]sebou milý [Am7]tváře\n[G]žijte si [D]tu co se do vás [C]vejde\n[G]až popíšem [D]všechny diáře [Am7]\n[G]všichni se tam [D]za tou bránou [C]sejdem\n\n[G]Všichni jednou [D/F#]zaklepem na nebeskou [Am7]bránu\n[G]všichni jednou [D/F#]zaklepem na nebeskou [C]bránu\n[G]všichni jednou [D/F#]zaklepem na nebeskou [C]bránu"
  },
  {
    "id": 23,
    "title": "Budu všechno co si budeš přát",
    "artist": "Janek Ledecký",
    "key": "G",
    "content": "[G]Záplavou [G7] [C]uprostřed [D]pouště všedních [G]dní,\n[G]houslistou [G7] [C]co tvoje [D]struny roze[Em]zní,\nmůžu [C]být, [D]když si to budeš př[G]át.\n\n[G]Požárem [G7] [C]co rozpá[D]lí tě do bě[G]la,\n[G]zlodějem, [G7] [C]co státní [D]banku udě[Em]lá,\nmůžu [C]být, [D]když si to budeš př[G]át.\n\nRef:\n[G]Bláznem co staví na poušti [D]most,\na v dešti [D7]tančí [H7]pro ra[Em]dost,\nbudu [Em]všechno co si budeš [C]přát. [D]\n[G]Slunečním světlem a půlnoční [D]tmou,\ntvou stopou v [D7]písku [H7]ztrace[Em]nou,\nbudu [Em]všechno co si budeš př[C]át,\n[D]a ještě k tomu rád. [G]\n\n[G]Šachistou [G7] [C]co pátým [D]tahem dává [G]mat,\n[G]svítáním [G7] [C]ve tmě, kde [D]začala ses [Em]bát,\nmůžu [C]být, [D]když si to budeš př[G]át.\n\nSolo: [Eb] [Eb] [C] [C] [Eb] [Eb] [D] [D]\n\nRef 2x\n\n[G7]Máš to [C]mít, [D]když si to budeš [G]přát.\n[G7]Máš to [C]mít, [D]když si to budeš [G]přát.\n[G7]Máš to [C]mít, [D]když si to budeš [G]přát.\n[G7]Máš to [C]mít, [D]když si to budeš [G]přát."
  },
  {
    "id": 24,
    "title": "Panenka",
    "artist": "Robert Křesťan",
    "key": "C",
    "content": "[C]Co skrýváš za [F]víčky, \na [C]plameny [F]svíčky, \nsnad [C]houf bílých holubic nebo jen [G]žal?\nTak [F]odplul ten [C]prvý,\nden [F]zmáčený [C]krví, \nani pouťovou panenku [G]nezane[C]chal. \n\nOtevři [F]oči, ty [C]uspěchan[G]á,\n[F]dámo [C]uplakan[G]á.\n[F]Otevři [C]oči, \nta [F]hloupá noc [C]končí, \na mír je [G]mezi ná[C]ma. \n\nUž si [C]oblékni [F]šaty, \ni [C]řetízek [F]zlatý, \na [C]umyj se půjdeme na karne[G]val. \nA [F]na bílou [C]kůži, \nti [F]napíšu [C]tuží, \nže dámou jsi byla a [G]zůstáváš [C]dál. \n\nOtevři [F]oči, ty [C]uspěchan[G]á,\n[F]dámo [C]uplakan[G]á.\n[F]Otevři [C]oči, \nta [F]hloupá noc [C]končí, \na mír je [G]mezi ná[C]ma."
  },
  {
    "id": 25,
    "title": "Colorado",
    "artist": "Kabát",
    "key": "G",
    "content": "[G]Táta vždycky říkal, Hochu žádný [C]strachy\njseš cowboy, v [G]Coloradu můžeš krávy [D]pást\nJá radši [G]utratil jsem psa a všechny [C]prachy\ndo srdce [G]Evropy já [D]vodjel v klidu [G]krást\n\n[G]Narvaný kapsy prsteny, řetězy [C]zlatý\ntam kolem [G]krku místní indiáni [D]maj\na ty co [G]nemakaj, tak jsou nejvíc [C]bohatý\nmusim si [G]pohnout, doka[D]vaď tam rozdá[G]vaj\n\n[G]Z Billa na Nováka změnim si svý [C]jméno\na až tu [G]malou zemi celou rozkra[D]dem\ntak se [G]vrátím ve svý rodný Colo[Em]ra[C]do\na o tý [G]zlatý žíle [D]řeknu doma [G]všem\n\n[G]Tam kradou všichni, co blízko vokolo [C]bydlej\n[G]šerif se na ně jenom hezky usmí[D]vá\n[G]kdyby se nesmál, tak ho okamžitě [C]zmydlej\nházej mu [G]kosti za to, [D]že se nedí[G]vá\n\n[G]Místo krav tam, nelžu vám, prej pasou [C]holky\na když jim [G]nezaplatíš, vyrazej ti [D]dech\nale s [G]IQ to tam nebude tak [C]horký\nmísto na [G]koních tam [D]jezděj v medvě[G]dech\n\n[G]Z Billa na Nováka změnim si svý [C]jméno\na až tu [G]malou zemi celou rozkra[D]dem\ntak se [G]vrátím ve svý rodný Colo[Em]ra[C]do\na o tý [G]zlatý žíle [D]řeknu doma [G]všem"
  },
  {
    "id": 26,
    "title": "Měsíc",
    "artist": "Mňága a Žďorp",
    "key": "Em",
    "content": "[Emi]Děkuju ti za to, [D]žes mi [G]ještě zavo[C]lala, [G] [D]\n[Emi]moje duše černá [D]už to [G]ani neče[C]kala. [G] [D]\n[Emi]Jenže, moje drahá, [D]je to [G]všechno trochu [C]na nic, [G] [D]\n[Emi]já už jsem se rozhod, [D]zítra [G]budu znovu [C]panic. [G] [D]\n\n[Emi]Děkuju ti za to, [D]žes to [G]rovnou nepo[C]ložil, [G] [D]\n[Emi]že jsi nezapomněl, [D]co jsi [G]se mnou všechno [C]prožil. [G] [D]\n[Emi]Teďka svítí měsíc [D]pro každýho [G]zvlášť, mně je to [C]líto, [G] [D]\n[Emi]jenže už je konec, [D] [G]však [C]víš to. [G]Vím to! [D]\n\nRef:\n[Emi]Měsíc, [D] [G]svítí [C]měsíc. [G] [D]\n[Emi]Měsíc, [D] [G]svítí [C]měsíc. [G] [D]\n[Emi]Měsíc, [D] [G]svítí [C]měsíc. [G] [D]\n[Emi]Měsíc."
  },
  {
    "id": 27,
    "title": "Vizovice",
    "artist": "Fleret",
    "key": "G",
    "content": "[G]Když se s vínem [D]probouzí [G]den.\nJen já [C]a to ví[G]no tady [D]sem.\nJá včera s [C]vínem [G]šel jsem i [D]spát\na to mám [C]rád.\n\n[G]Po vínu a po [D]slivovi[G]ci.\nJako [C]balón ja mám [G]makovi[D]ci.\nStejně si [C]musím ale [G]panáka [D]dát.\nJá to mám [C]rád.\n\n[G]Tam kde leží [D]Vizovi[G]ci.\nTam jsme [C]přece my a [G]slivovi[D]ce.\na dobrých [C]lidí, co [G]mám tu čest [D]znát,\nco je mám [C]rád.\n\nTam [G]vychází [D]trnky brn[G]ky.\nV lesích jsou [C]jak žirafy [G]tak i srn[D]ky.\nTam ti [C]nikdo život [G]nebude [D]brát,\njenom [G]o játra [D]se musíš [G]bát.\n\nTouhle [G]písní [D]chtěl jsem jen [G]říct\nže jsou [C]místa, kde [G]bude vám [D]líp.\n|: Každý má [C]někde svoje [G]Vizovi[D]ce,\nkde jsou [G]známí a ne [D]pijavi[G]ce. :|"
  },
  {
    "id": 28,
    "title": "Dej mi víc své lásky",
    "artist": "Olympic",
    "key": "Am",
    "content": "[Am]Vymyslel jsem spoustu nápadů a [C]ůů\nCo [Am]podporujou hloupou nála[G]du a [E7]ůů\n[Am]Hodit klíče do kanálu\n[D]Sjet po zadku [Dm]holou skálu\n[Am]V noci chodit [E7]strašit do hra[Am]du [G7]\n\n[Am]Dám si dvoje housle pod bradu a [C]ůů\nV [Am]bílé plachtě chodím poza[G]du a [E7]ůů\n[Am]Úplně melancholicky\n[D]S citem pro věc [Dm]jako vždycky\n[Am]Vyrábím tu [E7]hradní záha[Am]du a [G7]ůů\n\n[C]Má drahá dej mi víc\n[E7]Má drahá dej mi víc\n[Am]Má drahá [F]dej mi víc své [C]lásky a [G7]ůů\n[C]Já nechci skoro nic\n[E7]Já nechci skoro nic\n[Am]Já chci jen [F]pohladit tvé [C]vlásky a [E7]ůů\n\n[Am]Nejlepší z těch divnejch nápadů a [C]ůů\nMi [Am]dokonale zvednul nála[G]du [E7]ůů\n[Am]Natrhám ti sedmikrásky\n[D]Tebe celou s [Dm]tvými vlásky\n[Am]Zamknu si na [E7]sedm zápa[Am]dů a [G7]ůů\n\n[C]Má drahá dej mi víc\n[E7]Má drahá dej mi víc\n[Am]Má drahá [F]dej mi víc své [C]lásky a [G7]ůů\n[C]Já nechci skoro nic\n[E7]Já nechci skoro nic\n[Am]Já chci jen [F]pohladit tvé [C]vlásky a [E7]ůů\n\n[Am]Nejlepší z těch divnejch nápadů a [C]ůů\nMi [Am]dokonale zvednul nála[G]du [E7]ůů\n[Am]Natrhám ti sedmikrásky\n[D]Tebe celou s [Dm]tvými vlásky\n[Am]Zamknu si na [E7]sedm zápa[Am]dů"
  },
  {
    "id": 29,
    "title": "Cesta",
    "artist": "Kryštof",
    "key": "C",
    "content": "[C] [G] [Am] [F] [G]\n\n[C]Tou cestou, tím směrem prý bych se [G]dávno měl dát.\nKdyž [Dm]sněží, jde to stěží, ale sněhy pak tají, \nkus [F]něhy ti za nehty [G]slíbí a dají\n\nVíc [C]síly se prát, na dně víc [G]dávat než brát.\nA [Dm]i když se vleče a je schůdná jen v kleče,\ndonutí [F]přestat se zbytečně [G]ptát,\n\nRef:\nJestli se [C]blížím k cíli, kolik [G]zbývá víry, \nkam [Am]zvou svodidla, co po tmě mi [F]lžou? [G] \nZda [C]couvám zpátky a [G]plýtvám řádky, \nco [Am]řvou, že už mi doma neotev[F]řou... [G]\n\nNebo jít s [C]proudem, na lusknutí prstů se [G]začít hned smát, \nmít [Dm]svůj chodník slávy a před sebou davy \npřes [F]zkroucená záda být [G]součástí stáda\n\nAle [C]zpívat a hrát, kotníky [G]líbat, a stát.\nNa [Dm]křídlech všech slavíků, a vlastně už ze zvyku\n[F]přestat se zbytečně [G]ptát, \n\nRef:\nJestli se [C]blížím k cíli, kolik [G]zbývá víry, \nkam [Am]zvou svodidla, co po tmě mi [F]lžou? [G] \nZda [C]couvám zpátky a [G]plýtvám řádky, \nco [Am]řvou, že už mi doma neotev[F]řou... [G]\n\nJestli se [C]blížím k cíli, kolik [G]zbývá víry, \nkam [Am]zvou svodidla, co po tmě mi [F]lžou? [G] \nZda [C]couvám zpátky a [G]plýtvám řádky, \nco [Am]řvou, že už mi doma neotev[F]řou... [G]"
  },
  {
    "id": 30,
    "title": "Malování",
    "artist": "Divokej Bill",
    "key": "Dm",
    "content": "[Dm]Nesnaž se, znáš se, [B]řekni mi [C]co je ji[Dm]ný,\njak v kleci máš s[B]e, [C]pro nevinn[Dm]ý\nnoci dlouhý [B]jsou plný [C]touhy a [Dm]lásky nás dvou [B] [C]\n\nVšechno hezký [Dm]za sebou mám, [B]můžu [C]si za to [Dm]sám\n[B]V hlavě [C]hlavolam,\n[Dm]jen táta a máma [B]jsou s [C]náma, [Dm]napořád s náma [B] [C]\n\nTo je to tvoje [Dm]malování, [B]vzdušnejch [C]zámků,\n[Dm]malování po zdech [B]holejma [C]rukama\ntě [Dm]nezachrání, už [B]máš na kah[C]ánku\ntě [Dm]nezachrání, už [B]seš na záde[C]ch\nJe to [Dm]za náma, ty čteš [B]poslední [C]stránku,\n[Dm]za náma, [B]na [C]zádech,\n[Dm]za náma, už [B]máš na kah[C]ánku,\n[Dm]mezi náma, [B]mi taky d[Gm]ošel d[Am]ech\n\n[Dm] [B] [C] [Dm]\n[Gm] [Am] [C]\n\nTo je to tvoje [Dm]malování, [B]vzdušnejch [C]zámků,\n[Dm]malování po zdech [B]holejma [C]rukama\ntě [Dm]nezachrání, už [B]máš na kah[C]ánku\ntě [Dm]nezachrání, už [B]seš na záde[C]ch\nJe to [Dm]za náma, ty čteš [B]poslední [C]stránku,\n[Dm]za náma, [B]na [C]zádech,\n[Dm]za náma, už [B]máš na kah[C]ánku,\n[Dm]mezi náma, [B]mi taky d[Gm]ošel d[Am]ech\n\n[Dm]Nesnaž se, znáš se, [B]řekni mi [C]co je ji[Dm]ný,\njak v kleci máš s[B]e, [C]pro nevinn[Dm]ý\nnoci dlouhý [B]jsou plný [C]touhy a [Dm]lásky nás tří"
  },
  {
    "id": 31,
    "title": "Fotr",
    "artist": "Ivan Hlas",
    "key": "A",
    "content": "[A]Jednou mi fotr povídá,\n[D]zůstali jsme už sami dva,\na že [E]si chce začít taky trochu [A]žít.\n  \n[A]Nech si to projít palicí\n[D]a nevracej se s opicí\nSnaž [E]se mě, hochu, trochu pocho[A]pit.\n  \nRef:\nJá [E]šel, šel dál, Baby, [A]kam mě Pánbůh zval.\nJá [E]šel, šel dál, Baby, a [D7]furt jen tancoval.\nNa [A]každý divný hranici.\n[D]Na policejní stanici.\n[E]Hrál jsem jenom rock and roll for [A]you.\n  \n[A]Přiletěl se mnou černej čáp,\n[D]zobákem dělal rocin'klap.\nA [E]nad kolíbkou Elvis Presley [A]stál.\n  \n[A]Obrovskej bourák v ulici\n[D]Po boku krásnou slepici\nA [E]lidi šeptaj: \"Přijel ňákej [A]král\".\n  \nRef:\nJá [E]šel, šel dál, Baby, [A]kam mě Pánbůh zval.\nJá [E]šel, šel dál, Baby, a [D7]furt jen tancoval.\nNa [A]každý divný hranici.\n[D]Na policejní stanici.\n[E]Hrál jsem jenom rock and roll for [A]you.\n  \n[A]Pořád tak ňák nemohu\n[D]chytit štěstí za nohu.\nA [E]nemůžu si najít klidnej [A]kout.\n  \n[A]Bláznivý ptáci začnou řvát,\n[D]a nový ráno šacovat.\nA [E]do mě vždycky pustí silnej [A]proud.\n  \nTak jsi [E]šel, šel dál baby [A]kam tě pánbůh zval\nJá [E]šel, šel dál baby a [D]furt jen tancoval ó \nNa [A]každý divný hranici.\n[D]Na policejní stanici.\n[E]Hrál jsem jenom rock and roll for [A]you.\n[E]Hrál jsem jenom rock and roll for [A]you.\n[E]Hrál jsem jenom rock and roll for [A]you."
  },
  {
    "id": 32,
    "title": "Nagasaki Hirošima",
    "artist": "Mňága a Žďorp",
    "key": "G",
    "content": "[G]tramvají [D]dvojkou [C]jezdíval jsem [D]do Žide[G]nic [D] [C] [D]\n[G]z tak velký [D]lásky [C]většinou [D]nezbyde [Em]nic\n[C]z takový [G]lásky [C]jsou kruhy [G]pod oči[D]ma\na dvě [G]spálený [D]srdce - [C]Nagasaki [D]Hirošima [G] [D] [C] [D]\n\n[G]jsou jistý [D]věci [C]co bych tesal [D]do kame[G]ne [D] [C] [D]\n[G]tam kde je [D]láska [C]tam je všechno [D]dovole[Em]né\n[C]a tam kde [G]není [C]tam mě to [G]nezají[D]má\njó dvě [G]spálený [D]srdce - [C]Nagasaki [D]Hirošima [G] [D] [C] [D]\n\n[G]já nejsem [D]svatej [C]ani ty [D]nejsi sva[G]tá [D] [C] [D]\n[G]jablka z [D]ráje [C]bejvala [D]jedova[Em]tá \njenže [C]hezky jsi [G]hřála, [C]když mi někdy [G]byla zi[D]ma\njó dvě [G]spálený [D]srdce - [C]Nagasaki [D]Hirošima [G] [D] [C] [D]\n\nOutro:\na dvě [G]spálený [D]srdce - [C]Nagasaki [D]Hirošima [G] [D] [C] [D]\na dvě [G]spálený [D]srdce - [C]Nagasaki [D]Hirošima [G] [D] [C] [D]\na dvě [G]spálený [D]srdce - [C]Nagasaki [D]Hirošima [G] [D] [C] [D]\n[G]"
  },
  {
    "id": 33,
    "title": "Amerika",
    "artist": "Lucie",
    "key": "D",
    "content": "[Em]\n\n[G]Nandej mi [D]do hlavy tvý [Am]brouky\n[Am]a bůh nám seber bezna[G]děj\n[G]v duši zbylo [D]světlo z jedný [Am]holky\n[Am]tak mi teď za to vyna[G]dej\n\n[G]Zima a [D]promarněný [Am]touhy\n[Am]do vrásek stromů padá [G]déšť\n[G]zbejvaj roky [D]asi né moc [Am]longý\n[Am]Do vlasů mi zabrou[C]kej... \n\npá pa pá [G]pá, pá [G/F#]pá pá [Em7]pá, \npá pa pá [G]pá, pá [G/F#]pá pá [Em7]pá, \npá pa pá [G]pá [G]\n\n[G]Tvoje oči [D]jenom žhavý [Am]tóny\n[Am]dotek slunce zapa[G]dá\n[G]horkej vítr [D]rozezní mý [Am]zvony\n[Am]Do vlasů ti zabrou[C]ká... \n\npá pa pá [G]pá, pá [G/F#]pá pá [Em7]pá, \npá pa pá [G]pá, pá [G/F#]pá pá [Em7]pá, \npá pa pá [G]pá [G]\n\n[G]Na obloze [D]křídla tažnejch [Am]ptáků\n[Am]tak už na svý bráchy zavo[G]lej\n[G]na tváře ti [D]padaj slzy z [Am]mraků\n[Am]a bůh nám sebral [G]beznaděj\n\n[G]a v duši zbylo [D]světlo z jedný [Am]holky\n[Am]do vrásek stromů padá [G]déšť\n[G]poslední dny, [D]hodiny a [Am]roky\n[Am]Do vlasů ti zabrou[C]kám... \n\npá pa pá [G]pá, pá [G/F#]pá pá [Em7]pá, \npá pa pá [G]pá, pá [G/F#]pá pá [Em7]pá, \npá pa pá [G]pá [G]\n\n[G/F#] [Em]"
  },
  {
    "id": 34,
    "title": "Made in Valmez",
    "artist": "Mňága a Žďorp",
    "key": "D",
    "content": "Intro: [D] [Gmaj7] [Emi] [A] (5x)\n\n[D]jako je sama skála\n[Gmaj7]tak jsem sám i [Emi]já [A]\n[D]jako je prázdná duha\n[Gmaj7]tak jsem prázdný i [Emi]já [A]\n[D]jako je zrádná voda\n[Gmaj7]tak zradím i [Emi]já [A]\n\nRef:\n[D]zkouším se prokopat ven - zkouší se prokopat ven!\n[Gmaj7]zkouším se prokopat ven - [Emi]zkouší se [A]prokopat ven!\n[D]zkouším se prokopat ven - zkouší se prokopat ven!\n[Gmaj7]zkouším se prokopat ven - [Emi]zkouší se [A]prokopat ven!\n\n[D]O půl třetí na náměstí \n[Gmaj7]ve Valašském Mezi[Emi]říčí [A]\n[D]jdu co noha nohu mine \n[Gmaj7]a každý sám sobě jsme [Emi]stínem [A]\n[D]nic mi není přitom melu z posledního\n[Gmaj7]těžko říct o tom něco [Emi]konkrét[A]ního\n[D]stejná slova kolem stejný tváře\n[Gmaj7]a každý sám sobě jsme [Emi]lhářem a [A]já už zase\n\nRef:\n[D]zkouším se prokopat ven - zkouší se prokopat ven!\n[Gmaj7]zkouším se prokopat ven - [Emi]zkouší se [A]prokopat ven!\n[D]zkouším se prokopat ven - zkouší se prokopat ven!\n[Gmaj7]zkouším se prokopat ven - [Emi]zkouší se [A]prokopat!\n\nSólo: [D] [Gmaj7] [Emi] [A] (2x)\n\nOutro:\n[D]zkouším se prokopat ven \n[Gmaj7]zkouším se prokopat ven [Emi] [A]\n[D]zkouším se prokopat ven \n[Gmaj7]zkouším se prokopat ven - [Emi]zkouší se [A]prokopat! [D]"
  },
  {
    "id": 35,
    "title": "Nebude to taky lehké",
    "artist": "Richard Müller",
    "key": "Am",
    "content": "[Ami]Vraj zmenila si [G]číslo\n[Ami]a do zámku [G]nepasuje viac môj [Fmaj7]kľúč.\n[Ami]Hlavou mi [G]blysklo\n[Ami]asi chceš [G]aby som bol už [Fmaj7]fuč.\n  \nRef:\n[C]Nebude to [G]také ľahké [Fmaj7]drahá, \n[C]mňa sa nezba[G]víš s tým sa [Fmaj7]lúč.\n[C]Nebude to [G]také ľahké [Fmaj7]drahá,\n[G]nemôžeš ma [Fmaj7]vymeniť ako [G]rúž.\nSom tvoj [Ami]muž. [G] [Ami] [G]\n  \n[Ami]Vraj koketuješ s [G]iným,\n[Ami]dolámem mu [G]kosti, nos a [Fmaj7]sny.\n[Ami]Tak dopúšťaš sa [G]viny,\n[Ami]tak vrav, [G]povedz čo máš s [Fmaj7]ním. \n  \nRef:\n[C]Nebude to [G]také ľahké [Fmaj7]drahá, \n[C]mňa sa nezba[G]víš s tým sa [Fmaj7]lúč.\n[C]Nebude to [G]také ľahké [Fmaj7]drahá,\n[G]nemôžeš ma [Fmaj7]vymeniť ako [G]rúž.\nSom tvoj [Ami]muž.\n  \n[Ami]Vraj trháš moje [G]fotky,\n[Ami]majetok náš [G]rozdelí až [Fmaj7]súd.\n[Ami]Ja exujem veľké [G]vodky\n[Ami]a márne sa [G]snažím zachovať [Fmaj7]kľud. \n  \n[F]Predsa sme si [G]súdení\n[F]ja nemôžem žiť [G]bez ženy\n[F]ja nemôžem žiť [G]bez teba, to mi [Ami]ver.\nA [F]v kostole [G]pred Pánom\n[F]sľubovala [G]si nám dvom\n[F]nekonečnú [G]lásku, vernosť, \n[Ami]mier [G]mier [F]mier óóó..\n  \nRef:\n[C]Nebude to [G]také ľahké [Fmaj7]drahá, \n[C]mňa sa nezba[G]víš s tým sa [Fmaj7]lúč.\n[C]Nebude to [G]také ľahké [Fmaj7]drahá,\n[G]nemôžeš ma [Fmaj7]vymeniť ako [G]rúž.\nSom tvoj [Ami]muž.\n  \n[Ami]Vraj zmenila si [G]číslo\n[Ami]a do zámku [G]nepasuje viac môj."
  },
  {
    "id": 36,
    "title": "Kdyby tady byla",
    "artist": "Žalman a spol.",
    "key": "A",
    "content": "[A] [Asus4] [A] [Asus2]\n[A] [Asus4] [A] [Asus2] [A]\n\n[A]Kdyby tady byla taková panenka, [E]která by mě chtě[A]la\n[A]Kdyby tady byla taková panenka, [E]která by mě chtě[A]la [A7]\n\n[D]Která by mě chtěla, [A]syna vychovala, [E]přitom pannou by[A]la [A7]\n[D]Která by mě chtěla, [A]syna vychovala, [E]přitom pannou by[A]la \n\n[A]Kdybych já ti měla syna vychovati, [E]při tom pannou bý[A]ti\n[A]Kdybych já ti měla syna vychovati, [E]při tom pannou bý[A]ti [A7]\n\n[D]Ty by si mě musel [A]kolíbku dělati, [E]do dřeva ne[A]títi [A7]\n[D]Ty by si mě musel [A]kolíbku dělati, [E]do dřeva ne[A]títi\n\n[A]Kdybych já ti musel kolíbku dělati, [E]do dřeva netí[A]ti\n[A]Kdybych já ti musel kolíbku dělati, [E]do dřeva netí[A]ti [A7]\n\n[D]Ty bys mně musela [A]košiličku šíti, [E]bez jehel a ni[A]tí [A7]\n[D]Ty bys mně musela [A]košiličku šíti, [E]bez jehel a ni[A]tí \n\n[A]Kdybych já ti měla košiličku šíti [E]bez jehel a ni[A]tí\n[A]Kdybych já ti měla košiličku šíti [E]bez jehel a ni[A]tí [A7]\n\n[D]Ty by si mně musel [A]žebřík udělati, [E]až k nebeské vý[A]ši [A7]\n[D]Ty by si mně musel [A]žebřík udělati, [E]až k nebeské vý[A]ši\n\n[A]Kdybych já ti musel žebřík udělati, [E]až k nebeské vý[A]ši\n[A]Kdybych já ti musel žebřík udělati, [E]až k nebeské vý[A]ši [A7]\n\n[D]Lezli bysme spolu, [A]spadli bysme dolů, [E]byl by konec vše[A]mu [A7]\n[D]Lezli bysme spolu, [A]spadli bysme dolů, [E]byl by konec vše[F#m]mu"
  },
  {
    "id": 37,
    "title": "Pocity",
    "artist": "Tomáš Klus",
    "key": "G",
    "content": "[G]Z posledních [D]pocitů\n[Emi]poskládám ještě jednou [C]úžasnou chvíli\n[G]Je to tím, že jsi [D]tu,\n[Emi]možná tím, že [C]kdysi jsme byly\nTy a [G]já, my dva, dvě [D]nahý těla,\n[Emi]Tak neříkej, že [C]jinak si to chtěla,\n[G]tak neříkej [D]neříkej, [Emi]neříkej mi [C]nic\n\n[G]Stala ses do [D]noci\n[Emi]z ničeho nic moje [C]platonická láska\n[G]unaven, bezmocný [D]\n[Emi]usínám vedle Tebe, [C]něco ve mně praská\n[G]A ranní probuzení [D]\na slova o štěstí, [Emi]neboj se to nic [C]není\n[G]Pohled na okouzlení [D]\na prázdný náměstí [Emi]na znamení [C]\n\nRef:\nJenže Ty [G]neslyšíš [D] \njenže Ty [Emi]neposloucháš, [C]\nsnad ani [G]nevidíš [D] \nnebo spíš [Emi]nechceš vidět [C]\na druhejm [G]závidíš [D]\na v očích [Emi]kapky slaný vody [C]\nzkus změnu, [G]uvidíš [D]\npak [Emi]vítej do svobody [C]\n\n[G]Jsi anděl, [D]netušíš,\n[Emi]Anděl co ze strachu mu [C]utrhly křídla\n[G]A až to ucítíš [D], zkus kašlat [Emi]na pravidla [C]\n[G]Říkej si vo mě co [D]chceš,\n[Emi]já jsem byl [C]vodjakživa blázen\n[G]Nevim co nechápeš [D],\nale [Emi]vrať se na zem [C]\n\nRef:\nJenže Ty [G]neslyšíš [D] \njenže Ty [Emi]neposloucháš, [C]\nsnad ani [G]nevidíš [D] \nnebo spíš [Emi]nechceš vidět [C]\na druhejm [G]závidíš [D]\na v očích [Emi]kapky slaný vody [C]\nzkus změnu, [G]uvidíš [D]\npak [Emi]vítej do svobody [C]\n\n[G]Z posledních [D]pocitů\n[Emi]poskládám ještě jednou [C]úžasnou chvíli\n[G]Je to tím, že jsi [D]tu,\n[Emi]možná tím, že [C]kdysi jsme byly\nTy a [G]já, my dva, dvě [D]nahý těla,\n[Emi]Tak neříkej, že [C]jinak si to chtěla,\n[G]tak neříkej [D]neříkej, [Emi]neříkej mi [C]nic"
  },
  {
    "id": 38,
    "title": "Zafúkané",
    "artist": "Fleret",
    "key": "Am",
    "content": "[Am] [Asus2] [Am] [Asus2] [Am] [Asus2] [Am] [Asus2]\n[Am] [Asus2] [Am] [Asus2] [Am] [Asus2] [Am] [Asus2]\n[F] [Am] [Asus2] [Am] [Asus2]\n\n[Am]Větr sněh [Asus2]zanésl [Am]z hor do po[Asus2]lí\n[Am]já jdu [C]přes kopce, [G]přes údo[Am]lí\n[C]idu k tvéj [G]dědině zatúla[C]nej\n[F]cestičky [C]sněhem sú [E]zafúka[Am]né [Fmaj7] [Am] [Esus4]\n\nRef:\n[Am]Zafúka[C]né, [G]zafúka[C]né, \n[F]kolem mňa [C]všecko je [Dm]zafúka[E]né\n[Am]Zafúka[C]né, [G]zafúka[C]né, \n[F]kolem mňa [Dm]všecko je [E]zafúka[Am]né\n\nSolo: [Em] [A] [D] [G] [H7] | [Em] [A] [D] [G] [H7] [Em]\n\n[Am]Už vašu [Asus2]chalupu [Am]z dálky vi[Asus2]dím\n[Am]srdce sa [C]ozvalo, [G]bit ho sly[Am]ším\n[C]snáď enom [G]pár kroků mi zostá[C]vá\n[F]a budu [C]u tvého [E]okénka [Am]stát [Fmaj7] [Am] [Esus4]\n\nRef:\nAle [Am]zafúka[C]né, [G]zafúka[C]né, \n[F]okénko [C]k tobě je [Dm]zafúka[E]né\n[Am]zafúka[C]né, [G]zafúka[C]né, \n[F]okénko [Dm]k tobě je [E]zafúka[Am]né\n\nSolo: [Em] [A] [D] [G] [H7] | [Em] [A] [D] [G] [H7] [Em] (2x)\n\n[Am]Od tvého [Asus2]okna sa [Am]smutný vra[Asus2]cám\n[Am]v závějoch [C]zpátky dom [G]cestu hle[Am]dám\n[C]spadl sněh [G]na srdce zatúla[C]né\n[F]aj na mé [C]stopy, sú [E]zafúka[Am]né [Fmaj7] [Am] [Esus4]\n\nRef:\n[Am]Zafúka[C]né, [G]zafúka[C]né, \n[F]mé stopy [C]k tobě sú [Dm]zafúka[E]né\n[Am]zafúka[C]né, [G]zafúka[C]né, \n[F]mé stopy [Dm]k tobě sú [E]zafúka[Am]né\n\nOutro Solo: [Em] [A] [D] [G] [H7] | [Em] [A] [D] [G] [H7] [Em] (4x)"
  },
  {
    "id": 39,
    "title": "Honolulu",
    "artist": "Kamelot",
    "key": "G",
    "content": "[G] [C] [D] [C] | [G] [C] [D] [D] (2x)\n\n[G]Letecká [C]linka do rá[D]je [C]\n[G]k ostrovům [C]slunné Hava[D]je\n[G]nabrala [C]kurs vlastní o[D]sy [C]\ntam holky [D]plavky neno[G]sí [C] [D] [C]\n\n[G]Na pláži [C]Beach Boys [D]čekají [C]\n[G]banány [C]z palem pada[D]jí\n[G]na runway [C]Boeing dose[D]dá [C]\na slunce [D]pálí, [G]to se má\n\nRef:\n[D]Honolulu, [C]ukululu, [G]tohle mám rád\n[D]whisku na ex, [C]mulatek sex si [G]můžu přát\nreagge, reagge, reagge\n[D]Honolulu, [C]ukululu... he[G]j [C] [D] [C] [G] [C] [D] [C] [G]\n\n[G]Mulatka [C]záda natře[D]la [C]\n[G]paprsky [C]pustím [D]do těla\n[G]žraloci [C]lidi neže[D]rou [C]\nhlídaj' je [D]skrytou kame[G]rou [C] [D] [C]\n\n[G]Čerňoch, co [C]dělá zmrzli[D]nu [C]\n[G]zdarma ji [C]dává kaž[D]dýmu\n[G]vše už je [C]v ceně leten[D]ky [C]\nco nepla[D]tí pro man[G]želky\n\nRef:\n[D]Honolulu, [C]ukululu, [G]tohle mám rád\n[D]whisku na ex, [C]mulatek sex si [G]můžu přát\nreagge, reagge, reagge\n[D]Honolulu, [C]ukululu... he[G]j [C] [D] [C] [G] [C] [D] [C] [G]\n\n[G]Všichni tu [C]tančí reagge [D]styl [C]\n[G]ani jsem [C]kolu nedo[D]pil\n[G]tři holky [C]plavky stá[D]hly mi [C]\ntřely mě [D]ňadry vel[G]kými [C] [D] [C]\n\n[G]Tu náhle [C]signál budí[D]ku [C]\n[G]vytáh' mě [C]z pláže rovn[D]íku\n[G]šalinou [C]za pětika[D]čku [C]\njedu vo[D]razit ští[G]pačku\n\nRef:\n[D]Honolulu, [C]ukululu, [G]tohle mám rád\n[D]whisku na ex, [C]mulatek sex si [G]můžu přát\nreagge, reagge, reagge\n[D]Honolulu, [C]ukululu... he[G]j [C] [D] [C] [G] [C] [D] [C] [G]\n\nOutro: [G] [C] [D] [C] | [G] [C] [D] [D] (2x)"
  },
  {
    "id": 40,
    "title": "Sen",
    "artist": "Lucie",
    "key": "E",
    "content": "[E]Stíny dnů a snů se k obratníkům [Asus2]stáčí\n[E]Ruce snů - černejch se snaží zakrýt [Asus2]oči\nSvětlo [F#m]tvý prozradí proč já [E]vím\nS novým [F#m]dnem, že se [A]zas navrá[H]tí\n\n[E]Mraky se plazí vítr je [Asus2]láme\n[E]Stíny tvý duše rozplynou se v [Asus2]šeru\nVe vln[F#m]ách opouští, po hodinách [E]mizí\nA měsíc [F#m]nový stí[A]ny vypla[H]ší\n\nRef:\nProud motý[E]lů unáší strach\nNa listy [Asus2]sedá hvězdnej prach\nProletí [C#m]ohněm a mizí stále [H]dál\nNeslyšný [E]kroky stepujou\nV nebeským [Asus2]rytmu swingujou\nŽe se [C#m]ráno, že se ráno vytra[H]tí\n\n[E]Stíny dnů vyrostou a [Asus2]zmizí\n[E]Nebeský znamení rozsvěcujou [Asus2]hvězdy\nVšechno [F#m]vím, zpovzdálí vedou naše [E]kroky\na měsíc [F#m]nový stí[A]ny vypla[H]ší\n\nRef:\nProud motý[E]lů unáší strach\nNa listy [Asus2]sedá hvězdnej prach\nProletí [C#m]ohněm a mizí stále [H]dál\nNeslyšný [E]kroky stepujou\nV nebeským [Asus2]rytmu swingujou\nŽe se [C#m]ráno, že se ráno vytra[H]tí\n\nRef:\nProud motý[E]lů unáší strach\nNa listy [Asus2]sedá hvězdnej prach\nA nový [C#m]stíny a nový stíny vypla[H]ší"
  },
  {
    "id": 41,
    "title": "Jasná zpráva",
    "artist": "Olympic",
    "key": "G",
    "content": "[G]Skončili jsme jasná zpráva\n[Em]proč o tebe [C]zakopávám [D]dál\n[Am]projít bytem [C]já abych se [G]bál\n[G]Dík tobě se vidím zvenčí\n[Em]připadám si [C]starší menší [D]sám\n[Am]kam se kouknu [C]kousek tebe [G]mám\n\nRef:\n[Em]Pěnu s vůni [Hm]jablečnou\n[Em]vyvanulý [Hm]sprej\n[Em]telefon, co [G]ustřihlas mu [D]šňůru\n[Em]Knížku krásně [Hm]zbytečnou\n[Em]co má lživý [Hm]děj\n[Em]píše se v ní [G]jak se lítá [D]vzhůru,\nlítá [Am]vzhůru, ve dvou [D]vzhůru\n\n[G]Odešlas mi před úsvitem\n[Em]mám strach bloudit [C]vlastním bytem [D]sám\n[Am]kam se kouknu [C]kousek tebe [G]mám\n\nRef:\n[Em]Pěnu s vůni [Hm]jablečnou\n[Em]vyvanulý [Hm]sprej\n[Em]telefon, co [G]ustřihlas mu [D]šňůru\n[Em]Knížku krásně [Hm]zbytečnou\n[Em]co má lživý [Hm]děj\n[Em]píše se v ní [G]jak se lítá [D]vzhůru,\nlítá [Am]vzhůru, ve dvou [D]vzhůru\n\n[G]Skončili jsme jasná zpráva\n[Em]není komu z [C]okna mávat [D]víc\n[Am]jasná zpráva, [C]rub co nemá [G]líc"
  },
  {
    "id": 42,
    "title": "Mezi horami",
    "artist": "Čechomor",
    "key": "Am",
    "content": "[Am] [G] [Am]\n\n[Am]Mezi horami – lipka zelená\nmezi horami – lipka zelená\n[C]zabili Janka, [G]Janíčka, [Am]Janka\nmiesto [G]jele[Am]ňa\n[C]zabili Janka, [G]Janíčka, [Am]Janka\nmiesto [G]jele[Am]ňa\n\n[Am]Keď ho zabili, zamordovali\nkeď ho zabili, zamordovali\n[C]na jeho hrobě, [G]na jeho [Am]hrobě\nkříž po[G]stavi[Am]li\n[C]na jeho hrobě, [G]na jeho [Am]hrobě\nkříž po[G]stavi[Am]li\n\n[Am]Ej křížu, křížu ukřižovaný\nej křížu, křížu ukřižovaný\n[C]zde leží Janík, [G]Janíček, [Am]Janík\n[G]zamordova[Am]ný\n[C]zde leží Janík, [G]Janíček, [Am]Janka\n[G]zamordova[Am]ný\n\nMezihra:\n[G] [Am] [G] [Am] [G] [Am]\n[G] [Am] [G] [Am] [G] [Am]\n\n[Am]Tu šla Anička plakat Janíčka\ntu šla Anička plakat Janíčka\n[C]hned na hrob padla [G]a viac něv[Am]stala\ndobrá [G]Ani[Am]čka\n[C]hned na hrob padla [G]a viac něv[Am]stala\ndobrá [G]Ani[Am]čka\n\nOutro:\n[G] [Am] [G] [Am]"
  },
  {
    "id": 43,
    "title": "Sbohem galánečko",
    "artist": "Vlasta Rédl",
    "key": "G",
    "content": "[G]Sbohem, galá[Em]nečko, [Am]já už musím [D7]jí - [G]ti [A7]\n[D]Sbohem, galá[Hm]nečko, [Em]já už musím [A7]jí - [D4sus]ti [D]\n\n[Am]Kyselé ví[D]nečko, [G]kyselé ví[Am]neč[D7]ko\n[G]podalas' mně [Am]k [D7]pi[G]tí.\n[Am]Kyselé ví[D]nečko, [G]kyselé ví[Am]neč[D7]ko\n[G]podalas' mně [Am]k [D7]pi[G]tí.\n\n[G]Sbohem, galá[Em]nečko, [Am]rozlučme sa v [D7]pá[G]nu [A7]\n[D]Sbohem, galá[Hm]nečko, [Em]rozlučme sa v [A7]pá[D4sus]nu [D]\n\n[Am]Kyselé ví[D]nečko, [G]kyselé ví[Am]neč[D7]ko\n[G]podalas' mně [Am]v [D7]džbá[G]nu.\n[Am]Kyselé ví[D]nečko, [G]kyselé ví[Am]neč[D7]ko\n[G]podalas' mně [Am]v [D7]džbá[G]nu.\n\n[G]Ač bylo ky[Em]selé, [Am]přeca sem sa [D7]o[G]pil [A7]\n[D]Ač bylo k[Hm]yselé, [Em]přeca sem sa [A7]o[D4sus]pil [D]\n\n[Am]Eště včil sa [D]stydím, [G]eště včil sa [Am]sty[D7]dím,\n[G]co sem všecko [Am] [D7]tro[G]pil.\n[Am]Eště včil sa [D]stydím, [G]eště včil sa [Am]sty[D7]dím,\n[G]co sem všecko [Am] [D7]tro[G]pil.\n\n[G]Ale sa neh[Em]něvám, [Am]žes mňa o[D7]šidi[G]la [A7]\n[D]Ale sa neh[Hm]něvám, [Em]žes mňa o[A7]ši[D4sus]dila [D]\n\n[Am]To ta moja [D]žízeň, [G]to ta moja [Am]ží[D7]zeň,\n[G]ta to [Am]za[D7]vi[G]nila.\n[Am]To ta moja [D]žízeň, [G]to ta moja [Am]ží[D7]zeň,\n[G]ta to [Am]za[D7]vi[G]nila."
  }
];
</script>

<script>
// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
// STORAGE KEYS
// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
const STORAGE_KEY = 'zpevnik_v1';
const STORAGE_SEEDED = 'zpevnik_seeded_v1';
const STORAGE_NL = 'zpevnik_nl_v1';
const STORAGE_THEME = 'zp_theme';

// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
// SONGS â load from localStorage, seed DEFAULTS only once
// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
function loadSongs() {
  try {
    const r = localStorage.getItem(STORAGE_KEY);
    if (r) return JSON.parse(r);
  } catch(e) {}
  return null;
}
function persist() { try { localStorage.setItem(STORAGE_KEY, JSON.stringify(songs)); } catch(e) {} }

// Seed defaults only if never seeded before
let songs = loadSongs();
if (!songs) {
  // Load DEFAULTS from inline data â only runs ONCE ever
  songs = (typeof DEFAULTS !== 'undefined') ? DEFAULTS.map(s=>({...s})) : [];
  persist();
  try { localStorage.setItem(STORAGE_SEEDED, '1'); } catch(e) {}
}

// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
// STATE
// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
let cur = null, showChords = true, fontSize = 17;
let scrolling = false, scrollLevel = 2, raf = null;
const SPEEDS = [0.2, 0.5, 1.0, 1.8, 3.0];
let isDark = false;


// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
// THEME
// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
function applyTheme() {
  document.body.classList.toggle('dark', isDark);
  document.getElementById('theme-btn').textContent = isDark ? 'âï¸' : 'ð';
}
function toggleTheme() {
  isDark = !isDark;
  applyTheme();
  try { localStorage.setItem(STORAGE_THEME, isDark ? '1' : '0'); } catch(e) {}
}
(()=>{ try { if (localStorage.getItem(STORAGE_THEME)==='1') isDark=true; } catch(e){} applyTheme(); })();

// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
// NAVIGATION
// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
function show(id) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  // Push state so system back gesture navigates within app
  if (id !== 'screen-home') {
    history.pushState({screen: id}, '');
  }
}

// Handle system back gesture / button
window.addEventListener('popstate', function(e) {
  const active = document.querySelector('.screen.active');
  if (!active || active.id === 'screen-home') return;
  // Go back to home or previous screen
  if (active.id === 'screen-song') { showHome(); }
  else if (active.id === 'screen-add') { showHome(); }
  else if (active.id === 'screen-edit') { showHome(); }
  else { showHome(); }
});
function enterApp() {
  show('screen-home');
  renderList();
}
function showHome() { stopScroll(); if(selectedChord){selectedChord.classList.remove("active");selectedChord=null;hideMoveBar();} show('screen-home'); renderList(); }
function showAdd() {
  ['f-title','f-artist','f-key','f-content'].forEach(id => document.getElementById(id).value = '');
  show('screen-add');
  setTimeout(() => document.getElementById('f-title').focus(), 150);
}
function openSong(id) {
  cur = songs.find(s => s.id === id);
  if (!cur) return;
  document.getElementById('v-title').textContent = cur.title;
  document.getElementById('v-artist').textContent = cur.artist || '';
  stopScroll();
  const sc = document.getElementById('sc-toggle');
  sc.textContent = 'â¶ Scroll'; sc.classList.remove('on');
  renderSong();
  show('screen-song');
  document.getElementById('song-body').scrollTop = 0;
  const eb = document.getElementById('edit-btn');
  if (eb) eb.style.display = isAdmin ? '' : 'none';
}
function showEdit() {
  if (!cur) return;
  document.getElementById('e-title').value = cur.title;
  document.getElementById('e-artist').value = cur.artist || '';
  document.getElementById('e-key').value = cur.key || '';
  document.getElementById('e-content').value = cur.content;
  show('screen-edit');
}
function cancelEdit() { if (cur) openSong(cur.id); else showHome(); }

// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
// RENDER LIST
// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
function esc(s) { return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

function renderList() {
  const q = (document.getElementById('srch-inp').value || '').trim().toLowerCase();
  let f;
  if (!q) {
    f = songs.map(s => ({song: s, snippet: null}));
  } else {
    f = songs.reduce((acc, s) => {
      const inTitle  = s.title.toLowerCase().includes(q);
      const inArtist = (s.artist||'').toLowerCase().includes(q);
      const inContent = s.content.toLowerCase().includes(q);
      if (!inTitle && !inArtist && !inContent) return acc;
      let snippet = null;
      if (!inTitle && !inArtist && inContent) {
        // Find context around match in content (strip chord brackets)
        const plain = s.content.replace(/\[[^\]]*\]/g, '');
        const idx = plain.toLowerCase().indexOf(q);
        if (idx !== -1) {
          const start = Math.max(0, idx - 30);
          const end = Math.min(plain.length, idx + q.length + 30);
          const raw = plain.slice(start, end).replace(/\n/g, ' ').trim();
          // Highlight match
          const re = new RegExp('(' + q.replace(/[.*+?^${}()|[\]\\]/g,'\\$&') + ')', 'gi');
          snippet = (start > 0 ? 'â¦' : '') + raw.replace(re, '<mark>$1</mark>') + (end < plain.length ? 'â¦' : '');
        }
      }
      acc.push({song: s, snippet});
      return acc;
    }, []);
  }
  const n = f.length;
  document.getElementById('cnt').textContent = n===0 ? 'Å½Ã¡dnÃ© vÃ½sledky' : n===1 ? '1 pÃ­seÅ' : n<5 ? n+' pÃ­snÄ' : n+' pÃ­snÃ­';
  const el = document.getElementById('list');
  if (!f.length) { el.innerHTML = '<div class="empty">Nic nenalezeno ð</div>'; return; }
  el.innerHTML = f.map(({song: s, snippet}) => `
    <div class="card" onclick="openSong(${s.id})">
      <div style="flex:1;min-width:0">
        <div class="card-t">${esc(s.title)}</div>
        <div class="card-a">${esc(s.artist || 'NeznÃ¡mÃ½')}</div>
        ${snippet ? `<div class="card-snippet">${snippet}</div>` : ''}
      </div>
      <div class="card-r">
        ${s.key ? `<span class="kbdg">${esc(s.key)}</span>` : ''}
        ${isAdmin ? `<button class="delbtn" onclick="event.stopPropagation();deleteSong(${s.id})">ð</button>` : ''}
      </div>
    </div>`).join('');
}

// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
// RENDER SONG with above-text chords (like PDF songbook)
// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
function renderSong() {
  if (!cur) return;
  const body = document.getElementById('song-body');
  body.style.fontSize = fontSize + 'px';
  const lines = cur.content.split('\n');
  body.innerHTML = lines.map((line, li) => {
    if (!line.trim()) return '<div class="blank"></div>';

    const tokens = [];
    let i = 0, ci = 0;
    while (i < line.length) {
      const ob = line.indexOf('[', i);
      if (ob === -1) { tokens.push({type:'text', val:line.slice(i)}); break; }
      if (ob > i) tokens.push({type:'text', val:line.slice(i, ob)});
      const cb = line.indexOf(']', ob);
      if (cb === -1) { tokens.push({type:'text', val:line.slice(ob)}); break; }
      tokens.push({type:'chord', val:line.slice(ob+1, cb), li, ci: ci++});
      i = cb + 1;
    }

    let textOnly = '', chordEntries = [];
    for (const t of tokens) {
      if (t.type === 'text') textOnly += t.val;
      else chordEntries.push({pos: textOnly.length, val: t.val, li: t.li, ci: t.ci});
    }

    if (!showChords || chordEntries.length === 0) {
      return `<div class="line" data-li="${li}"><div class="text-row"><span class="lyr">${esc(textOnly)}</span></div></div>`;
    }

    // Build chord row with spaces to align chords above text
    let chordRowHtml = '', curPos = 0;
    for (const ce of chordEntries) {
      const pad = Math.max(0, ce.pos - curPos);
      if (pad > 0) chordRowHtml += ' '.repeat(pad);
      chordRowHtml += `<span class="ch" data-li="${ce.li}" data-ci="${ce.ci}" onpointerdown="chordPointerDown(event,this)">${esc(ce.val)}</span>`;
      curPos = ce.pos + ce.val.length;
    }

    return `<div class="line" data-li="${li}">` +
      `<div class="chord-row">${chordRowHtml}</div>` +
      `<div class="text-row"><span class="lyr">${esc(textOnly)}</span></div>` +
      `</div>`;
  }).join('');
}

// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
// CHORD MOVE â click chord to show ââ buttons
// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
let selectedChord = null;

function selectChord(el) {
  if (selectedChord && selectedChord !== el) {
    selectedChord.classList.remove('active');
  }
  if (selectedChord === el) {
    el.classList.remove('active');
    selectedChord = null;
    hideMoveBar();
    return;
  }
  selectedChord = el;
  el.classList.add('active');
  showMoveBar(el);
}

function showMoveBar(el) {
  let bar = document.getElementById('chord-move-bar');
  if (!bar) {
    bar = document.createElement('div');
    bar.id = 'chord-move-bar';
    bar.innerHTML = '<button onpointerdown="event.stopPropagation();moveSelected(-1)">â posun</button>' +
      '<button onpointerdown="event.stopPropagation();moveSelected(1)">posun â</button>';
    document.body.appendChild(bar);
  }
  const rect = el.getBoundingClientRect();
  bar.style.cssText = `position:fixed;top:${Math.max(4,rect.top-44)}px;left:${Math.max(4,rect.left-20)}px;` +
    'background:var(--bg);border:1.5px solid var(--accent);border-radius:10px;' +
    'box-shadow:0 4px 16px rgba(0,0,0,0.2);display:flex;z-index:100;overflow:hidden';
  bar.querySelectorAll('button').forEach(b => {
    b.style.cssText = 'background:none;border:none;color:var(--accent);font-size:14px;font-weight:800;padding:6px 14px;cursor:pointer;font-family:inherit';
  });
}


function hideMoveBar() {
  const bar = document.getElementById('chord-move-bar');
  if (bar) bar.style.display = 'none';
}

// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
// DRAG & DROP chords
// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
let dragState = null;

function chordPointerDown(e, el) {
  if (!isAdmin) { selectChord(el); return; }
  e.preventDefault();
  e.stopPropagation();

  const startX = e.clientX;
  let dragging = false;
  let ghost = null;

  function onMove(ev) {
    const dx = ev.clientX - startX;
    if (!dragging && Math.abs(dx) > 10) {
      dragging = true;
      document.getElementById('song-body').style.touchAction = 'none';
      if (selectedChord) { selectedChord.classList.remove('active'); hideMoveBar(); selectedChord = null; }
      ghost = document.createElement('span');
      ghost.textContent = el.textContent;
      ghost.style.cssText = 'position:fixed;pointer-events:none;z-index:200;' +
        'background:var(--accent);color:#fff;font-family:monospace;font-weight:800;' +
        'font-size:' + fontSize + 'px;border-radius:6px;padding:2px 8px;opacity:0.9;';
      document.body.appendChild(ghost);
      el.style.opacity = '0.25';
    }
    if (dragging && ghost) {
      ghost.style.left = (ev.clientX - ghost.offsetWidth / 2) + 'px';
      ghost.style.top = (ev.clientY - 36) + 'px';
    }
  }

  function onUp(ev) {
    document.removeEventListener('pointermove', onMove);
    document.removeEventListener('pointerup', onUp);
    document.getElementById('song-body').style.touchAction = '';
    el.style.opacity = '';
    if (ghost) { ghost.remove(); ghost = null; }

    if (!dragging) {
      selectChord(el);
      return;
    }

    const li = parseInt(el.dataset.li);
    const ci = parseInt(el.dataset.ci);

    // Find which line div the pointer is over
    const lineDivs = document.querySelectorAll('.line[data-li]');
    let targetLi = li;
    let targetCharPos = 0;

    for (const div of lineDivs) {
      const rect = div.getBoundingClientRect();
      if (ev.clientY >= rect.top - 10 && ev.clientY <= rect.bottom + 10) {
        targetLi = parseInt(div.dataset.li);
        // Measure char width from a seg's text-row
        const textRow = div.querySelector('.text-row');
        if (textRow) {
          const tRect = textRow.getBoundingClientRect();
          // Get char width: create temp span
          const tmp = document.createElement('span');
          tmp.style.cssText = 'position:absolute;visibility:hidden;font-family:monospace;font-size:' + fontSize + 'px';
          tmp.textContent = 'M';
          document.body.appendChild(tmp);
          const cw = tmp.offsetWidth;
          document.body.removeChild(tmp);
          targetCharPos = Math.max(0, Math.round((ev.clientX - tRect.left) / cw));
        }
        break;
      }
    }

    moveChordToPos(li, ci, targetLi, targetCharPos);
  }

  document.addEventListener('pointermove', onMove);
  document.addEventListener('pointerup', onUp);
}

function moveChordToPos(fromLi, fromCi, toLi, toCharPos) {
  if (!cur) return;
  const lines = cur.content.split('\n');

  // Extract chord value from source line
  const srcTokens = tokenizeLine(lines[fromLi]);
  let cc = 0, chordVal = '';
  for (const t of srcTokens) {
    if (t.type === 'chord') {
      if (cc === fromCi) { chordVal = t.val; break; }
      cc++;
    }
  }
  if (!chordVal) return;

  // Remove chord from source line (merge surrounding text)
  const newSrcTokens = [...srcTokens];
  let cIdx = -1; cc = 0;
  for (let t = 0; t < newSrcTokens.length; t++) {
    if (newSrcTokens[t].type === 'chord') {
      if (cc === fromCi) { cIdx = t; break; }
      cc++;
    }
  }
  if (cIdx !== -1) {
    // Merge adjacent texts around removed chord
    const before = cIdx > 0 && newSrcTokens[cIdx-1]?.type === 'text' ? newSrcTokens[cIdx-1].val : null;
    const after = cIdx < newSrcTokens.length-1 && newSrcTokens[cIdx+1]?.type === 'text' ? newSrcTokens[cIdx+1].val : null;
    if (before !== null && after !== null) {
      newSrcTokens[cIdx-1].val = before + after;
      newSrcTokens.splice(cIdx, 2);
    } else {
      newSrcTokens.splice(cIdx, 1);
    }
  }
  lines[fromLi] = tokensToLine(newSrcTokens);

  // Insert chord into target line at toCharPos
  const dstLine = fromLi === toLi ? lines[fromLi] : lines[toLi] || '';
  const dstTokens = tokenizeLine(fromLi === toLi ? lines[fromLi] : (lines[toLi] || ''));

  // Find insertion point: count text chars to find where toCharPos falls
  let charCount = 0;
  let insertIdx = dstTokens.length; // default: end
  for (let t = 0; t < dstTokens.length; t++) {
    if (dstTokens[t].type === 'text') {
      const endPos = charCount + dstTokens[t].val.length;
      if (toCharPos <= endPos) {
        // Split this text token
        const offset = toCharPos - charCount;
        const before = dstTokens[t].val.slice(0, offset);
        const after = dstTokens[t].val.slice(offset);
        dstTokens.splice(t, 1,
          ...(before ? [{type:'text', val:before}] : []),
          {type:'chord', val:chordVal},
          ...(after ? [{type:'text', val:after}] : [])
        );
        insertIdx = -1; // already inserted
        break;
      }
      charCount = endPos;
    }
  }
  if (insertIdx !== -1) {
    dstTokens.push({type:'chord', val:chordVal});
  }

  lines[toLi] = tokensToLine(dstTokens);
  cur.content = lines.join('\n');
  persist();
  renderSong();

  // Re-select the moved chord
  setTimeout(() => {
    // Find new ci of our chord in target line
    const newTokens = tokenizeLine(lines[toLi]);
    let newCi = 0;
    for (const t of newTokens) {
      if (t.type === 'chord') {
        if (t.val === chordVal) break;
        newCi++;
      }
    }
    const w = document.querySelector(`.ch[data-li="${toLi}"][data-ci="${newCi}"]`);
    if (w) { selectedChord = w; w.classList.add('active'); showMoveBar(w); }
  }, 0);
}

function moveSelected(dir) {
  if (!selectedChord) return;
  const li = parseInt(selectedChord.dataset.li);
  const ci = parseInt(selectedChord.dataset.ci);
  mvChord(li, ci, dir);
}

document.getElementById('song-body').addEventListener('pointerdown', e => {
  if (!selectedChord) return;
  if (!selectedChord.contains(e.target)) {
    selectedChord.classList.remove('active');
    selectedChord = null;
    hideMoveBar();
  }
});

function tokenizeLine(line) {
  const tokens = [];
  let i = 0;
  while (i < line.length) {
    const ob = line.indexOf('[', i);
    if (ob === -1) { tokens.push({type:'text', val:line.slice(i)}); break; }
    if (ob > i) tokens.push({type:'text', val:line.slice(i, ob)});
    const cb = line.indexOf(']', ob);
    if (cb === -1) { tokens.push({type:'text', val:line.slice(ob)}); break; }
    tokens.push({type:'chord', val:line.slice(ob+1, cb)});
    i = cb + 1;
  }
  return tokens;
}
function tokensToLine(tokens) {
  return tokens.map(t => t.type === 'chord' ? '['+t.val+']' : t.val).join('');
}

function mvChord(li, ci, dir) {
  if (!cur) return;
  const lines = cur.content.split('\n');
  const tokens = tokenizeLine(lines[li]);

  // Find target chord token index
  let chordCount = 0, tokenIdx = -1;
  for (let t = 0; t < tokens.length; t++) {
    if (tokens[t].type === 'chord') {
      if (chordCount === ci) { tokenIdx = t; break; }
      chordCount++;
    }
  }
  if (tokenIdx === -1) return;

  let newLi = li, newCi = ci;

  if (dir === -1) {
    // Try to move left within this line
    const prev = tokenIdx > 0 && tokens[tokenIdx-1].type === 'text' ? tokens[tokenIdx-1] : null;
    if (prev && prev.val.length > 0) {
      // Normal move left
      const ch = prev.val[prev.val.length - 1];
      prev.val = prev.val.slice(0, -1);
      const next = tokens[tokenIdx+1];
      if (next && next.type === 'text') next.val = ch + next.val;
      else tokens.splice(tokenIdx+1, 0, {type:'text', val:ch});
      lines[li] = tokensToLine(tokens);
    } else if (li > 0) {
      // At start of line â move chord to END of previous line
      tokens.splice(tokenIdx, 1); // remove chord from current line
      lines[li] = tokensToLine(tokens);
      // Rebuild chord count for new position
      const prevTokens = tokenizeLine(lines[li-1]);
      // Count chords in prev line to get new ci
      newCi = prevTokens.filter(t => t.type === 'chord').length;
      prevTokens.push({type:'chord', val: tokenizeLine(lines[li]+'')[0]?.val || ''});
      // Actually: extract the chord value from original tokens
      const chordVal = tokenizeLine(cur.content.split('\n')[li])[tokenIdx]?.val;
      // Re-extract from ORIGINAL since we already modified
      // Use a cleaner approach: work on strings
      const origLine = cur.content.split('\n')[li];
      const origTokens = tokenizeLine(origLine);
      let cc2 = 0; let chordV = '';
      for (const t of origTokens) { if(t.type==='chord'){if(cc2===ci){chordV=t.val;break;}cc2++;} }
      // Rebuild current line without the chord (insert its text around into surrounding)
      const cleanTokens = tokenizeLine(origLine);
      let cIdx2 = -1, cc3 = 0;
      for(let t=0;t<cleanTokens.length;t++){if(cleanTokens[t].type==='chord'){if(cc3===ci){cIdx2=t;break;}cc3++;}}
      // Merge surrounding text and remove chord
      if (cIdx2 !== -1) {
        const before = cIdx2 > 0 && cleanTokens[cIdx2-1].type==='text' ? cleanTokens[cIdx2-1].val : '';
        const after = cIdx2 < cleanTokens.length-1 && cleanTokens[cIdx2+1].type==='text' ? cleanTokens[cIdx2+1].val : '';
        const merged = {type:'text', val: before + after};
        const newTokens = cleanTokens.filter((_,idx)=>idx!==cIdx2);
        // merge adjacent texts
        if (cIdx2 > 0 && newTokens[cIdx2-1]?.type==='text' && newTokens[cIdx2]?.type==='text') {
          newTokens[cIdx2-1].val += newTokens[cIdx2].val;
          newTokens.splice(cIdx2, 1);
        }
        lines[li] = tokensToLine(newTokens);
      }
      // Append chord to end of prev line
      newLi = li - 1;
      newCi = tokenizeLine(lines[li-1]).filter(t=>t.type==='chord').length;
      lines[li-1] = lines[li-1] + '[' + chordV + ']';
    } else {
      return; // Can't move further left
    }
  } else {
    // Try to move right within this line
    const next = tokenIdx < tokens.length-1 && tokens[tokenIdx+1].type === 'text' ? tokens[tokenIdx+1] : null;
    if (next && next.val.length > 0) {
      // Normal move right
      const ch = next.val[0];
      next.val = next.val.slice(1);
      const prev = tokens[tokenIdx-1];
      if (prev && prev.type === 'text') prev.val = prev.val + ch;
      else tokens.splice(tokenIdx, 0, {type:'text', val:ch});
      lines[li] = tokensToLine(tokens);
    } else if (li < lines.length - 1) {
      // At end of line â move chord to START of next line
      const origLine = cur.content.split('\n')[li];
      const origTokens = tokenizeLine(origLine);
      let cc2 = 0; let chordV = '';
      for (const t of origTokens) { if(t.type==='chord'){if(cc2===ci){chordV=t.val;break;}cc2++;} }
      // Remove chord from current line (merge surrounding text)
      let cIdx2 = -1, cc3 = 0;
      for(let t=0;t<origTokens.length;t++){if(origTokens[t].type==='chord'){if(cc3===ci){cIdx2=t;break;}cc3++;}}
      if (cIdx2 !== -1) {
        const newTokens = [...origTokens];
        if (cIdx2 > 0 && newTokens[cIdx2-1]?.type==='text' && cIdx2 < newTokens.length-1 && newTokens[cIdx2+1]?.type==='text') {
          newTokens[cIdx2-1].val += newTokens[cIdx2+1].val;
          newTokens.splice(cIdx2, 2);
        } else {
          newTokens.splice(cIdx2, 1);
          if (cIdx2 > 0 && newTokens[cIdx2-1]?.type==='text' && newTokens[cIdx2]?.type==='text') {
            newTokens[cIdx2-1].val += newTokens[cIdx2].val;
            newTokens.splice(cIdx2, 1);
          }
        }
        lines[li] = tokensToLine(newTokens);
      }
      // Prepend chord to start of next line
      newLi = li + 1;
      newCi = 0;
      lines[li+1] = '[' + chordV + ']' + lines[li+1];
    } else {
      return; // Can't move further right
    }
  }

  cur.content = lines.join('\n');
  persist();
  renderSong();
  setTimeout(() => {
    const w = document.querySelector(`.ch[data-li="${newLi}"][data-ci="${newCi}"]`);
    if (w) { selectedChord = w; w.classList.add('active'); showMoveBar(w); }
  }, 0);
}

// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
// TRANSPOSE
// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
const CHROMATIC = ['C','C#','D','D#','E','F','F#','G','G#','A','A#','B'];
const ENHARMONIC = {'Db':'C#','Eb':'D#','Gb':'F#','Ab':'G#','Bb':'A#'};

function transposeNote(note, steps) {
  const n = ENHARMONIC[note] || note;
  const idx = CHROMATIC.indexOf(n);
  if (idx === -1) return note; // unknown, leave it
  return CHROMATIC[(idx + steps + 12) % 12];
}

function transposeChord(chord, steps) {
  // Match root note (with optional #/b) + rest (m, maj7, sus, etc.)
  const m = chord.match(/^([A-G][#b]?)(.*)/);
  if (!m) return chord;
  const newRoot = transposeNote(m[1], steps);
  // Also transpose bass note if present e.g. Am/E
  const rest = m[2].replace(/\/([A-G][#b]?)/, (_, bass) => '/' + transposeNote(bass, steps));
  return newRoot + rest;
}

function transposeAll(steps) {
  if (!cur) return;
  cur.content = cur.content.replace(/\[([^\]]+)\]/g, (_, chord) => {
    return '[' + transposeChord(chord, steps) + ']';
  });
  persist();
  renderSong();
}

// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
// SONG CONTROLS
// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
function toggleChords() {
  showChords = !showChords;
  const b = document.getElementById('chord-btn');
  b.textContent = showChords ? 'Akordy â' : 'Akordy';
  b.classList.toggle('on', showChords);
  renderSong();
}
function changeFontSize(d) {
  fontSize = Math.max(12, Math.min(28, fontSize+d));
  if (cur) document.getElementById('song-body').style.fontSize = fontSize+'px';
}

// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
// AUTOSCROLL
// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
function toggleScroll() {
  const b = document.getElementById('sc-toggle');
  if (scrolling) { stopScroll(); b.textContent='â¶ Scroll'; b.classList.remove('on'); }
  else { startScroll(); b.textContent='â¸ Scroll'; b.classList.add('on'); }
}
function startScroll() {
  scrolling = true;
  const el = document.getElementById('song-body');
  let acc = 0;
  function step() {
    if (!scrolling) return;
    acc += SPEEDS[scrollLevel];
    if (acc >= 1) { const px=Math.floor(acc); el.scrollTop+=px; acc-=px; }
    if (el.scrollTop + el.clientHeight >= el.scrollHeight - 2) {
      stopScroll();
      document.getElementById('sc-toggle').textContent='â¶ Scroll';
      document.getElementById('sc-toggle').classList.remove('on');
      return;
    }
    raf = requestAnimationFrame(step);
  }
  raf = requestAnimationFrame(step);
}
function stopScroll() { scrolling=false; if(raf){cancelAnimationFrame(raf);raf=null;} }
function changeSpeed(d) {
  scrollLevel = Math.max(0, Math.min(4, scrollLevel+d));
  document.getElementById('spdlbl').textContent = ['Ã1','Ã2','Ã3','Ã4','Ã5'][scrollLevel];
}

// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
// SAVE / EDIT SONG
// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
function saveSong() {
  const t = document.getElementById('f-title').value.trim();
  const c = document.getElementById('f-content').value.trim();
  if (!t||!c) { alert('VyplÅ nÃ¡zev a text!'); return; }
  const id = Date.now();
  songs.unshift({id, title:t, artist:document.getElementById('f-artist').value.trim(), key:document.getElementById('f-key').value.trim(), content:c});
  persist(); showHome();
}
function saveEdit() {
  const t = document.getElementById('e-title').value.trim();
  const c = document.getElementById('e-content').value.trim();
  if (!t||!c) { alert('VyplÅ nÃ¡zev a text!'); return; }
  const idx = songs.findIndex(s => s.id === cur.id);
  if (idx === -1) return;

  const newKey = document.getElementById('e-key').value.trim();
  const oldKey = cur.key || '';
  let newContent = c;

  // Auto-transpose if key changed and both keys are valid notes
  if (newKey && oldKey && newKey !== oldKey) {
    const oldRoot = (ENHARMONIC[oldKey] || oldKey).toUpperCase();
    const newRoot = (ENHARMONIC[newKey] || newKey).toUpperCase();
    const oldIdx = CHROMATIC.indexOf(oldRoot);
    const newIdx = CHROMATIC.indexOf(newRoot);
    if (oldIdx !== -1 && newIdx !== -1) {
      const steps = (newIdx - oldIdx + 12) % 12;
      if (steps !== 0) {
        newContent = c.replace(/\[([^\]]+)\]/g, (_, chord) => '[' + transposeChord(chord, steps) + ']');
      }
    }
  }

  songs[idx] = {...songs[idx], title:t, artist:document.getElementById('e-artist').value.trim(), key:newKey, content:newContent};
  cur = songs[idx];
  persist();
  openSong(cur.id);
}

function deleteSong(id) {
  const s = songs.find(s => s.id === id);
  if (!s) return;
  if (!confirm(`Smazat pÃ­seÅ "${s.title}"?`)) return;
  songs = songs.filter(s => s.id !== id);
  persist();
  renderList();
}

// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
// NÃPOJOVÃ LÃSTEK
// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
let drinks = [];
function loadDrinks() {
  try { const r = localStorage.getItem(STORAGE_NL); if(r) drinks=JSON.parse(r); } catch(e) {}
}
function persistDrinks() { try { localStorage.setItem(STORAGE_NL, JSON.stringify(drinks)); } catch(e) {} }
loadDrinks();

function openNL() {
  document.getElementById('nl-overlay').classList.add('open');
  document.getElementById('nl-panel').classList.add('open');
  renderDrinks();
  scheduleDrinkTimer();
}
function closeNL() {
  document.getElementById('nl-overlay').classList.remove('open');
  document.getElementById('nl-panel').classList.remove('open');
}

function tally(n) {
  // Czech tally marks: groups of 5 as IIII with diagonal
  if (n === 0) return '';
  let s = '';
  const full = Math.floor(n/5);
  const rem = n%5;
  for (let i=0;i<full;i++) s += 'ð¸ '; // or just use text
  // Use simple I marks
  s = '';
  for (let i=0;i<full;i++) s += 'IIIII ';
  for (let i=0;i<rem;i++) s += 'I';
  return s.trim();
}

function timeAgo(ts) {
  if (!ts) return '';
  const mins = Math.floor((Date.now() - ts) / 60000);
  if (mins < 1) return 'PrÃ¡vÄ teÄ';
  if (mins === 1) return 'PÅed 1 minutou';
  if (mins < 5) return `PÅed ${mins} minutami`;
  if (mins < 60) return `PÅed ${mins} min`;
  const hrs = Math.floor(mins / 60);
  const rem = mins % 60;
  if (rem === 0) return `PÅed ${hrs} hod`;
  return `PÅed ${hrs} hod ${rem} min`;
}

function renderDrinks() {
  const el = document.getElementById('nl-body');
  if (!drinks.length) {
    el.innerHTML = '<div class="nl-empty">Å½Ã¡dnÃ© nÃ¡poje.<br>PÅidej prvnÃ­! ðº</div>';
    document.getElementById('nl-total').style.display = 'none';
    return;
  }
  el.innerHTML = drinks.map((d,i) => `
    <div class="nl-item">
      <div style="flex:1;min-width:0">
        <div class="nl-item-name">${esc(d.name)}${d.price ? `<span style="color:var(--text3);font-size:12px;font-weight:500;margin-left:6px">${d.price} KÄ/ks</span>` : ''}</div>
        ${d.lastAt ? `<div class="nl-time">${timeAgo(d.lastAt)}</div>` : ''}
        <div class="nl-tally">${tally(d.count)}</div>
        ${d.price && d.count ? `<div style="font-size:12px;color:var(--accent);font-weight:700">${d.count * d.price} KÄ</div>` : ''}
      </div>
      <div style="display:flex;align-items:center;gap:4px;margin-left:8px">
        <button class="nl-btn" onclick="changeDrink(${i},-1)">â</button>
        <span class="nl-count">${d.count}</span>
        <button class="nl-btn plus" onclick="changeDrink(${i},1)">+</button>
        <button class="nl-delbtn" onclick="deleteDrink(${i})">ð</button>
      </div>
    </div>`).join('');
  const total = drinks.reduce((sum, d) => sum + (d.price ? d.count * d.price : 0), 0);
  const totalEl = document.getElementById('nl-total');
  const hasPrices = drinks.some(d => d.price);
  if (hasPrices) {
    totalEl.textContent = `CelkovÃ¡ Ãºtrata: ${total} KÄ`;
    totalEl.style.display = '';
  } else {
    totalEl.style.display = 'none';
  }
}

function changeDrink(i, d) {
  drinks[i].count = Math.max(0, drinks[i].count + d);
  if (d > 0) drinks[i].lastAt = Date.now();
  if (drinks[i].count === 0) delete drinks[i].lastAt;
  persistDrinks();
  renderDrinks();
  scheduleDrinkTimer();
}
function deleteDrink(i) {
  if (!confirm('Smazat nÃ¡poj?')) return;
  drinks.splice(i,1);
  persistDrinks();
  renderDrinks();
}
function resetAll() {
  if (!confirm('Vynulovat vÅ¡echny ÄÃ¡rky?')) return;
  drinks.forEach(d => { d.count=0; delete d.lastAt; });
  persistDrinks();
  renderDrinks();
}

// Live timer â refresh time labels every 30s while NL panel is open
let drinkTimer = null;
function scheduleDrinkTimer() {
  if (drinkTimer) return;
  drinkTimer = setInterval(() => {
    if (document.getElementById('nl-panel').classList.contains('open')) {
      renderDrinks();
    } else {
      clearInterval(drinkTimer);
      drinkTimer = null;
    }
  }, 30000);
}

function quickDrink(name) {
  if (drinks.find(d => d.name === name)) {
    // NÃ¡poj uÅ¾ existuje â jen zavÅi modal
    closeDrinkModal();
    return;
  }
  // NÃ¡poj neexistuje â pÅedvyplÅ nÃ¡zev a nech zadat cenu
  document.getElementById('drink-inp').value = name;
  document.getElementById('drink-price').value = '';
  document.getElementById('modal-divider-or').style.display = 'none';
  setTimeout(() => document.getElementById('drink-price').focus(), 100);
}
function showAddDrink() {
  document.getElementById('drink-inp').value = '';
  document.getElementById('drink-price').value = '';
  document.getElementById('modal-divider-or').style.display = '';
  document.getElementById('drink-overlay').classList.add('open');
  document.getElementById('drink-modal').classList.add('open');
  setTimeout(() => document.getElementById('drink-inp').focus(), 100);
}
function closeDrinkModal() {
  document.getElementById('drink-overlay').classList.remove('open');
  document.getElementById('drink-modal').classList.remove('open');
}
function addDrink() {
  const name = document.getElementById('drink-inp').value.trim();
  if (!name) return;
  const priceRaw = parseInt(document.getElementById('drink-price').value, 10);
  const price = (!isNaN(priceRaw) && priceRaw > 0) ? priceRaw : undefined;
  drinks.push({name, count:0, price});
  persistDrinks();
  closeDrinkModal();
  renderDrinks();
}
document.getElementById('drink-inp').addEventListener('keydown', e => {
  if (e.key === 'Enter') addDrink();
});

// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
// ADMIN AUTH
// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
const ADMIN_PWD = 'Zpevnik1.!:::';
let isAdmin = false;

function logoClick() {
  if (isAdmin) {
    if (confirm('Jsi pÅihlÃ¡Å¡en jako admin. ChceÅ¡ se odhlÃ¡sit?')) {
      isAdmin = false;
      applyAdminUI();
    }
    return;
  }
  openAdminModal();
}
function openAdminModal() {
  document.getElementById('admin-modal-wrap').style.display = 'flex';
  document.getElementById('admin-pwd').value = '';
  document.getElementById('admin-err').textContent = '';
  setTimeout(() => document.getElementById('admin-pwd').focus(), 100);
}
function closeAdminModal() {
  document.getElementById('admin-modal-wrap').style.display = 'none';
}
function doAdminLogin() {
  const pwd = document.getElementById('admin-pwd').value;
  if (pwd === ADMIN_PWD) {
    isAdmin = true;
    closeAdminModal();
    applyAdminUI();
  } else {
    document.getElementById('admin-err').textContent = 'â Å patnÃ© heslo';
    document.getElementById('admin-pwd').value = '';
    document.getElementById('admin-pwd').focus();
  }
}
document.getElementById('admin-pwd').addEventListener('keydown', e => {
  if (e.key === 'Enter') doAdminLogin();
});
function applyAdminUI() {
  document.getElementById('add-btn').style.display = isAdmin ? '' : 'none';
  document.getElementById('update-btn').style.display = isAdmin ? '' : 'none';
  document.getElementById('admin-badge').style.display = isAdmin ? '' : 'none';
  const eb = document.getElementById('edit-btn');
  if (eb) eb.style.display = isAdmin ? '' : 'none';
  renderList();
}

// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
// GITHUB UPDATE
// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
const GH_TOKEN = '';
const GH_REPO = 'pastikaalois-cloud/Zpevnik';
const GH_FILE = 'index.html';
const GH_BRANCH = 'main';

function showGithubUpdate() {
  document.getElementById('gh-modal-wrap').style.display = 'flex';
  document.getElementById('gh-status').textContent = '';
  document.getElementById('gh-status').className = 'gh-status';
  document.getElementById('gh-confirm-btn').disabled = false;
  document.getElementById('gh-confirm-btn').textContent = 'UloÅ¾it na GitHub';
  // Load saved token if exists
  const saved = localStorage.getItem('zp_gh_token');
  document.getElementById('gh-token-inp').value = saved || '';
  document.getElementById('gh-remember').checked = !!saved;
  if (!saved) setTimeout(() => document.getElementById('gh-token-inp').focus(), 100);
}
function closeGhModal() {
  document.getElementById('gh-modal-wrap').style.display = 'none';
}
async function doGithubUpdate() {
  const btn = document.getElementById('gh-confirm-btn');
  const status = document.getElementById('gh-status');
  const token = document.getElementById('gh-token-inp').value.trim();
  if (!token) {
    status.textContent = 'â Zadej GitHub token!';
    status.className = 'gh-status err';
    return;
  }
  // Save token if remember is checked
  if (document.getElementById('gh-remember').checked) {
    localStorage.setItem('zp_gh_token', token);
  } else {
    localStorage.removeItem('zp_gh_token');
  }
  btn.disabled = true;
  btn.textContent = 'â³ NahrÃ¡vÃ¡mâ¦';
  status.textContent = 'NaÄÃ­tÃ¡m soubor z GitHubuâ¦';
  status.className = 'gh-status';
  try {
    const getResp = await fetch(`https://api.github.com/repos/${GH_REPO}/contents/${GH_FILE}?ref=${GH_BRANCH}`, {
      headers: { 'Authorization': `token ${token}`, 'Accept': 'application/vnd.github.v3+json' }
    });
    if (!getResp.ok) throw new Error('Chyba naÄtenÃ­: ' + getResp.status);
    const fileData = await getResp.json();
    const sha = fileData.sha;
    const currentContent = atob(fileData.content.replace(/\n/g,''));
    status.textContent = 'Aktualizuji pÃ­snÄâ¦';
    const newDefaults = JSON.stringify(songs, null, 2).replace(/</g,'\\u003c').replace(/>/g,'\\u003e');
    const newContent = currentContent.replace(
      /const DEFAULTS = \[[\s\S]*?\];\s*\n<\/script>/,
      `const DEFAULTS = ${newDefaults};\n<\/script>`
    );
    if (newContent === currentContent) throw new Error('NepodaÅilo se najÃ­t sekci DEFAULTS.');
    const encoded = btoa(unescape(encodeURIComponent(newContent)));
    status.textContent = 'NahrÃ¡vÃ¡m na GitHubâ¦';
    const putResp = await fetch(`https://api.github.com/repos/${GH_REPO}/contents/${GH_FILE}`, {
      method: 'PUT',
      headers: {
        'Authorization': `token ${token}`,
        'Accept': 'application/vnd.github.v3+json',
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        message: `ZpÄvnÃ­k: aktualizace pÃ­snÃ­ (${new Date().toLocaleDateString('cs-CZ')})`,
        content: encoded,
        sha,
        branch: GH_BRANCH
      })
    });
    if (!putResp.ok) { const err = await putResp.json(); throw new Error('GitHub: ' + (err.message || putResp.status)); }
    status.textContent = 'â Hotovo! Za 1â2 min uvidÃ­ zmÄny vÅ¡ichni.';
    status.className = 'gh-status ok';
    btn.textContent = 'â UloÅ¾eno';
  } catch(e) {
    status.textContent = 'â ' + e.message;
    status.className = 'gh-status err';
    btn.disabled = false;
    btn.textContent = 'UloÅ¾it na GitHub';
  }
}

// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
// INIT
// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
renderList();
</script>
</body>
</html>
